interactions:
- request:
    body: null
    headers:
      Connection: [keep-alive]
      User-Agent: [Azure-Storage/1.1.0-1.1.0 (Python CPython 3.6.5; Windows 10)]
      x-ms-client-request-id: [482600d0-ad3b-11e8-8bf4-44032c851683]
      x-ms-date: ['Fri, 31 Aug 2018 16:31:15 GMT']
      x-ms-version: ['2017-07-29']
    method: GET
    uri: https://testaccountforbatch.blob.core.windows.net/aaatestcontainer?restype=container&comp=list
  response:
    body: {string: "\uFEFF<?xml version=\"1.0\" encoding=\"utf-8\"?><EnumerationResults\
        \ ServiceEndpoint=\"https://testaccountforbatch.blob.core.windows.net/\" ContainerName=\"\
        aaatestcontainer\"><Blobs><Blob><Name>fileuploaderr.txt</Name><Properties><Last-Modified>Thu,\
        \ 30 Aug 2018 22:02:46 GMT</Last-Modified><Etag>0x8D60EC4516916CC</Etag><Content-Length>0</Content-Length><Content-Type>application/octet-stream</Content-Type><Content-Encoding\
        \ /><Content-Language /><Content-MD5>1B2M2Y8AsgTpgAmY7PhCfg==</Content-MD5><Cache-Control\
        \ /><Content-Disposition /><BlobType>BlockBlob</BlobType><LeaseStatus>unlocked</LeaseStatus><LeaseState>available</LeaseState><ServerEncrypted>true</ServerEncrypted></Properties></Blob><Blob><Name>fileuploadout.txt</Name><Properties><Last-Modified>Thu,\
        \ 30 Aug 2018 22:02:46 GMT</Last-Modified><Etag>0x8D60EC4516B130B</Etag><Content-Length>405</Content-Length><Content-Type>application/octet-stream</Content-Type><Content-Encoding\
        \ /><Content-Language /><Content-MD5>G4StAhYLkahA1sDER+P9FQ==</Content-MD5><Cache-Control\
        \ /><Content-Disposition /><BlobType>BlockBlob</BlobType><LeaseStatus>unlocked</LeaseStatus><LeaseState>available</LeaseState><ServerEncrypted>true</ServerEncrypted></Properties></Blob><Blob><Name>stderr.txt</Name><Properties><Last-Modified>Thu,\
        \ 30 Aug 2018 22:02:46 GMT</Last-Modified><Etag>0x8D60EC4516CE842</Etag><Content-Length>0</Content-Length><Content-Type>application/octet-stream</Content-Type><Content-Encoding\
        \ /><Content-Language /><Content-MD5>1B2M2Y8AsgTpgAmY7PhCfg==</Content-MD5><Cache-Control\
        \ /><Content-Disposition /><BlobType>BlockBlob</BlobType><LeaseStatus>unlocked</LeaseStatus><LeaseState>available</LeaseState><ServerEncrypted>true</ServerEncrypted></Properties></Blob><Blob><Name>stdout.txt</Name><Properties><Last-Modified>Thu,\
        \ 30 Aug 2018 22:02:46 GMT</Last-Modified><Etag>0x8D60EC4516EBD71</Etag><Content-Length>4</Content-Length><Content-Type>application/octet-stream</Content-Type><Content-Encoding\
        \ /><Content-Language /><Content-MD5>CY9rzUYh03PK3k6DJie09g==</Content-MD5><Cache-Control\
        \ /><Content-Disposition /><BlobType>BlockBlob</BlobType><LeaseStatus>unlocked</LeaseStatus><LeaseState>available</LeaseState><ServerEncrypted>true</ServerEncrypted></Properties></Blob></Blobs><NextMarker\
        \ /></EnumerationResults>"}
    headers:
      Content-Type: [application/xml]
      Date: ['Fri, 31 Aug 2018 16:31:15 GMT']
      Server: [Windows-Azure-Blob/1.0 Microsoft-HTTPAPI/2.0]
      Transfer-Encoding: [chunked]
      x-ms-version: ['2017-07-29']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Connection: [keep-alive]
      Content-Length: ['0']
      User-Agent: [Azure-Storage/1.1.0-1.1.0 (Python CPython 3.6.5; Windows 10)]
      x-ms-client-request-id: [48753780-ad3b-11e8-bcf2-44032c851683]
      x-ms-date: ['Fri, 31 Aug 2018 16:31:16 GMT']
      x-ms-version: ['2017-07-29']
    method: DELETE
    uri: https://testaccountforbatch.blob.core.windows.net/aaatestcontainer/fileuploaderr.txt
  response:
    body: {string: ''}
    headers:
      Date: ['Fri, 31 Aug 2018 16:31:15 GMT']
      Server: [Windows-Azure-Blob/1.0 Microsoft-HTTPAPI/2.0]
      Transfer-Encoding: [chunked]
      x-ms-delete-type-permanent: ['true']
      x-ms-version: ['2017-07-29']
    status: {code: 202, message: Accepted}
- request:
    body: null
    headers:
      Connection: [keep-alive]
      Content-Length: ['0']
      User-Agent: [Azure-Storage/1.1.0-1.1.0 (Python CPython 3.6.5; Windows 10)]
      x-ms-client-request-id: [48832f26-ad3b-11e8-9699-44032c851683]
      x-ms-date: ['Fri, 31 Aug 2018 16:31:16 GMT']
      x-ms-version: ['2017-07-29']
    method: DELETE
    uri: https://testaccountforbatch.blob.core.windows.net/aaatestcontainer/fileuploadout.txt
  response:
    body: {string: ''}
    headers:
      Date: ['Fri, 31 Aug 2018 16:31:15 GMT']
      Server: [Windows-Azure-Blob/1.0 Microsoft-HTTPAPI/2.0]
      Transfer-Encoding: [chunked]
      x-ms-delete-type-permanent: ['true']
      x-ms-version: ['2017-07-29']
    status: {code: 202, message: Accepted}
- request:
    body: null
    headers:
      Connection: [keep-alive]
      Content-Length: ['0']
      User-Agent: [Azure-Storage/1.1.0-1.1.0 (Python CPython 3.6.5; Windows 10)]
      x-ms-client-request-id: [48927440-ad3b-11e8-9b8b-44032c851683]
      x-ms-date: ['Fri, 31 Aug 2018 16:31:16 GMT']
      x-ms-version: ['2017-07-29']
    method: DELETE
    uri: https://testaccountforbatch.blob.core.windows.net/aaatestcontainer/stderr.txt
  response:
    body: {string: ''}
    headers:
      Date: ['Fri, 31 Aug 2018 16:31:16 GMT']
      Server: [Windows-Azure-Blob/1.0 Microsoft-HTTPAPI/2.0]
      Transfer-Encoding: [chunked]
      x-ms-delete-type-permanent: ['true']
      x-ms-version: ['2017-07-29']
    status: {code: 202, message: Accepted}
- request:
    body: null
    headers:
      Connection: [keep-alive]
      Content-Length: ['0']
      User-Agent: [Azure-Storage/1.1.0-1.1.0 (Python CPython 3.6.5; Windows 10)]
      x-ms-client-request-id: [48a1f8b4-ad3b-11e8-a4b5-44032c851683]
      x-ms-date: ['Fri, 31 Aug 2018 16:31:16 GMT']
      x-ms-version: ['2017-07-29']
    method: DELETE
    uri: https://testaccountforbatch.blob.core.windows.net/aaatestcontainer/stdout.txt
  response:
    body: {string: ''}
    headers:
      Date: ['Fri, 31 Aug 2018 16:31:16 GMT']
      Server: [Windows-Azure-Blob/1.0 Microsoft-HTTPAPI/2.0]
      Transfer-Encoding: [chunked]
      x-ms-delete-type-permanent: ['true']
      x-ms-version: ['2017-07-29']
    status: {code: 202, message: Accepted}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.5.0 azure-batch/5.0.0 Azure-SDK-For-Python batchextensionsclient/4.0.0]
      accept-language: [en-US]
      client-request-id: [48b1abf6-ad3b-11e8-906e-44032c851683]
      ocp-date: ['Fri, 31 Aug 2018 16:31:16 GMT']
    method: GET
    uri: https://test1.westus.batch.azure.com/nodeagentskus?api-version=2018-08-01.7.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#nodeagentskus\"\
        ,\"value\":[\r\n    {\r\n      \"id\":\"batch.node.centos 7\",\"verifiedImageReferences\"\
        :[\r\n        {\r\n          \"publisher\":\"OpenLogic\",\"offer\":\"CentOS\"\
        ,\"sku\":\"7.5\",\"version\":\"latest\"\r\n        },{\r\n          \"publisher\"\
        :\"OpenLogic\",\"offer\":\"CentOS-HPC\",\"sku\":\"7.4\",\"version\":\"latest\"\
        \r\n        },{\r\n          \"publisher\":\"OpenLogic\",\"offer\":\"CentOS-HPC\"\
        ,\"sku\":\"7.3\",\"version\":\"latest\"\r\n        },{\r\n          \"publisher\"\
        :\"OpenLogic\",\"offer\":\"CentOS-HPC\",\"sku\":\"7.1\",\"version\":\"latest\"\
        \r\n        },{\r\n          \"publisher\":\"Oracle\",\"offer\":\"Oracle-Linux\"\
        ,\"sku\":\"7.4\",\"version\":\"latest\"\r\n        },{\r\n          \"publisher\"\
        :\"microsoft-ads\",\"offer\":\"linux-data-science-vm\",\"sku\":\"linuxdsvm\"\
        ,\"version\":\"latest\"\r\n        },{\r\n          \"publisher\":\"batch\"\
        ,\"offer\":\"rendering-centos73\",\"sku\":\"rendering\",\"version\":\"latest\"\
        \r\n        },{\r\n          \"publisher\":\"microsoft-azure-batch\",\"offer\"\
        :\"centos-container\",\"sku\":\"7-5\",\"version\":\"latest\"\r\n        },{\r\
        \n          \"publisher\":\"microsoft-azure-batch\",\"offer\":\"centos-container-rdma\"\
        ,\"sku\":\"7-4\",\"version\":\"latest\"\r\n        }\r\n      ],\"osType\"\
        :\"linux\"\r\n    },{\r\n      \"id\":\"batch.node.debian 8\",\"verifiedImageReferences\"\
        :[\r\n        {\r\n          \"publisher\":\"Credativ\",\"offer\":\"Debian\"\
        ,\"sku\":\"8\",\"version\":\"latest\"\r\n        }\r\n      ],\"osType\":\"\
        linux\"\r\n    },{\r\n      \"id\":\"batch.node.debian 9\",\"verifiedImageReferences\"\
        :[\r\n        {\r\n          \"publisher\":\"Credativ\",\"offer\":\"Debian\"\
        ,\"sku\":\"9\",\"version\":\"latest\"\r\n        }\r\n      ],\"osType\":\"\
        linux\"\r\n    },{\r\n      \"id\":\"batch.node.ubuntu 14.04\",\"verifiedImageReferences\"\
        :[\r\n        {\r\n          \"publisher\":\"Canonical\",\"offer\":\"UbuntuServer\"\
        ,\"sku\":\"14.04.5-LTS\",\"version\":\"latest\"\r\n        }\r\n      ],\"\
        osType\":\"linux\"\r\n    },{\r\n      \"id\":\"batch.node.ubuntu 16.04\"\
        ,\"verifiedImageReferences\":[\r\n        {\r\n          \"publisher\":\"\
        Canonical\",\"offer\":\"UbuntuServer\",\"sku\":\"16.04-LTS\",\"version\":\"\
        latest\"\r\n        },{\r\n          \"publisher\":\"microsoft-dsvm\",\"offer\"\
        :\"linux-data-science-vm-ubuntu\",\"sku\":\"linuxdsvmubuntu\",\"version\"\
        :\"latest\"\r\n        },{\r\n          \"publisher\":\"microsoft-azure-batch\"\
        ,\"offer\":\"ubuntu-server-container\",\"sku\":\"16-04-lts\",\"version\":\"\
        latest\"\r\n        },{\r\n          \"publisher\":\"microsoft-azure-batch\"\
        ,\"offer\":\"ubuntu-server-container-rdma\",\"sku\":\"16-04-lts\",\"version\"\
        :\"latest\"\r\n        }\r\n      ],\"osType\":\"linux\"\r\n    },{\r\n  \
        \    \"id\":\"batch.node.ubuntu 18.04\",\"verifiedImageReferences\":[\r\n\
        \        {\r\n          \"publisher\":\"Canonical\",\"offer\":\"UbuntuServer\"\
        ,\"sku\":\"18.04-LTS\",\"version\":\"latest\"\r\n        }\r\n      ],\"osType\"\
        :\"linux\"\r\n    },{\r\n      \"id\":\"batch.node.windows amd64\",\"verifiedImageReferences\"\
        :[\r\n        {\r\n          \"publisher\":\"MicrosoftWindowsServer\",\"offer\"\
        :\"WindowsServer\",\"sku\":\"2008-R2-SP1\",\"version\":\"latest\"\r\n    \
        \    },{\r\n          \"publisher\":\"MicrosoftWindowsServer\",\"offer\":\"\
        WindowsServer\",\"sku\":\"2008-R2-SP1-smalldisk\",\"version\":\"latest\"\r\
        \n        },{\r\n          \"publisher\":\"MicrosoftWindowsServer\",\"offer\"\
        :\"WindowsServer\",\"sku\":\"2012-Datacenter\",\"version\":\"latest\"\r\n\
        \        },{\r\n          \"publisher\":\"MicrosoftWindowsServer\",\"offer\"\
        :\"WindowsServer\",\"sku\":\"2012-Datacenter-smalldisk\",\"version\":\"latest\"\
        \r\n        },{\r\n          \"publisher\":\"MicrosoftWindowsServer\",\"offer\"\
        :\"WindowsServer\",\"sku\":\"2012-R2-Datacenter\",\"version\":\"latest\"\r\
        \n        },{\r\n          \"publisher\":\"MicrosoftWindowsServer\",\"offer\"\
        :\"WindowsServer\",\"sku\":\"2012-R2-Datacenter-smalldisk\",\"version\":\"\
        latest\"\r\n        },{\r\n          \"publisher\":\"MicrosoftWindowsServer\"\
        ,\"offer\":\"WindowsServer\",\"sku\":\"2016-Datacenter\",\"version\":\"latest\"\
        \r\n        },{\r\n          \"publisher\":\"MicrosoftWindowsServer\",\"offer\"\
        :\"WindowsServer\",\"sku\":\"2016-Datacenter-smalldisk\",\"version\":\"latest\"\
        \r\n        },{\r\n          \"publisher\":\"MicrosoftWindowsServer\",\"offer\"\
        :\"WindowsServer\",\"sku\":\"2016-Datacenter-with-Containers\",\"version\"\
        :\"latest\"\r\n        },{\r\n          \"publisher\":\"microsoft-dsvm\",\"\
        offer\":\"dsvm-windows\",\"sku\":\"server-2016\",\"version\":\"latest\"\r\n\
        \        },{\r\n          \"publisher\":\"batch\",\"offer\":\"rendering-windows2016\"\
        ,\"sku\":\"rendering\",\"version\":\"latest\"\r\n        }\r\n      ],\"osType\"\
        :\"windows\"\r\n    }\r\n  ]\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Fri, 31 Aug 2018 16:31:17 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [52faf919-2048-445a-bd48-972b29409735]
    status: {code: 200, message: OK}
- request:
    body: '{"id": "ncj-ubuntu1404", "vmSize": "STANDARD_D1_V2", "virtualMachineConfiguration":
      {"imageReference": {"publisher": "Canonical", "offer": "UbuntuServer", "sku":
      "14.04.5-LTS"}, "nodeAgentSKUId": "batch.node.ubuntu 14.04"}, "targetDedicatedNodes":
      1}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['250']
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.5.0 azure-batch/5.0.0 Azure-SDK-For-Python batchextensionsclient/4.0.0]
      accept-language: [en-US]
      client-request-id: [48fc5ef4-ad3b-11e8-ab46-44032c851683]
      ocp-date: ['Fri, 31 Aug 2018 16:31:17 GMT']
    method: POST
    uri: https://test1.westus.batch.azure.com/pools?api-version=2018-08-01.7.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#Microsoft.Azure.Batch.Protocol.Entities.Container.errors/@Element\"\
        ,\"code\":\"PoolExists\",\"message\":{\r\n    \"lang\":\"en-US\",\"value\"\
        :\"The specified pool already exists.\\nRequestId:0a6ae80b-7ad2-484d-9cd8-cb2c19e1a11f\\\
        nTime:2018-08-31T16:31:17.7535115Z\"\r\n  }\r\n}"}
    headers:
      Content-Length: ['328']
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Fri, 31 Aug 2018 16:31:17 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      X-Content-Type-Options: [nosniff]
      request-id: [0a6ae80b-7ad2-484d-9cd8-cb2c19e1a11f]
    status: {code: 409, message: The specified pool already exists.}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.5.0 azure-batch/5.0.0 Azure-SDK-For-Python batchextensionsclient/4.0.0]
      accept-language: [en-US]
      client-request-id: [493abe0c-ad3b-11e8-b769-44032c851683]
      ocp-date: ['Fri, 31 Aug 2018 16:31:17 GMT']
    method: GET
    uri: https://test1.westus.batch.azure.com/pools/ncj-ubuntu1404?api-version=2018-08-01.7.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#pools/@Element\"\
        ,\"id\":\"ncj-ubuntu1404\",\"url\":\"https://test1.westus.batch.azure.com/pools/ncj-ubuntu1404\"\
        ,\"eTag\":\"0x8D60E9AFA44B9BC\",\"lastModified\":\"2018-08-30T17:06:50.6064316Z\"\
        ,\"creationTime\":\"2018-08-30T17:06:50.6064316Z\",\"state\":\"active\",\"\
        stateTransitionTime\":\"2018-08-30T17:06:50.6064316Z\",\"allocationState\"\
        :\"steady\",\"allocationStateTransitionTime\":\"2018-08-30T17:08:56.0054463Z\"\
        ,\"vmSize\":\"standard_d1_v2\",\"resizeTimeout\":\"PT15M\",\"currentDedicatedNodes\"\
        :1,\"targetDedicatedNodes\":1,\"currentLowPriorityNodes\":0,\"targetLowPriorityNodes\"\
        :0,\"enableAutoScale\":false,\"enableInterNodeCommunication\":false,\"maxTasksPerNode\"\
        :1,\"taskSchedulingPolicy\":{\r\n    \"nodeFillType\":\"Spread\"\r\n  },\"\
        virtualMachineConfiguration\":{\r\n    \"imageReference\":{\r\n      \"publisher\"\
        :\"Canonical\",\"offer\":\"UbuntuServer\",\"sku\":\"14.04.5-LTS\",\"version\"\
        :\"latest\"\r\n    },\"nodeAgentSKUId\":\"batch.node.ubuntu 14.04\"\r\n  }\r\
        \n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Fri, 31 Aug 2018 16:31:17 GMT']
      ETag: ['0x8D60E9AFA44B9BC']
      Last-Modified: ['Thu, 30 Aug 2018 17:06:50 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [ca7cfc5e-2c31-460c-82ab-c3da01ea7eda]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.5.0 azure-batch/5.0.0 Azure-SDK-For-Python batchextensionsclient/4.0.0]
      accept-language: [en-US]
      client-request-id: [4974f864-ad3b-11e8-8073-44032c851683]
      ocp-date: ['Fri, 31 Aug 2018 16:31:18 GMT']
    method: GET
    uri: https://test1.westus.batch.azure.com/pools/ncj-ubuntu1404/nodes?api-version=2018-08-01.7.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#nodes\"\
        ,\"value\":[\r\n    {\r\n      \"id\":\"tvm-2487789449_1-20180830t170855z\"\
        ,\"url\":\"https://test1.westus.batch.azure.com/pools/ncj-ubuntu1404/nodes/tvm-2487789449_1-20180830t170855z\"\
        ,\"state\":\"idle\",\"schedulingState\":\"enabled\",\"stateTransitionTime\"\
        :\"2018-08-30T22:02:55.809723Z\",\"lastBootTime\":\"2018-08-30T17:09:11.451508Z\"\
        ,\"allocationTime\":\"2018-08-30T17:08:55.2748194Z\",\"ipAddress\":\"10.0.0.4\"\
        ,\"affinityId\":\"TVM:tvm-2487789449_1-20180830t170855z\",\"vmSize\":\"standard_d1_v2\"\
        ,\"totalTasksRun\":34,\"totalTasksSucceeded\":34,\"runningTasksCount\":0,\"\
        recentTasks\":[\r\n        {\r\n          \"taskUrl\":\"https://test1.westus.batch.azure.com/jobs/ncj-ubuntu1404-1/tasks/myTask\"\
        ,\"jobId\":\"ncj-ubuntu1404-1\",\"taskId\":\"myTask\",\"taskState\":\"completed\"\
        ,\"executionInfo\":{\r\n            \"startTime\":\"2018-08-30T22:02:55.202347Z\"\
        ,\"endTime\":\"2018-08-30T22:02:55.779773Z\",\"exitCode\":0,\"result\":\"\
        Success\",\"retryCount\":0,\"requeueCount\":0\r\n          }\r\n        }\r\
        \n      ],\"isDedicated\":true,\"endpointConfiguration\":{\r\n        \"inboundEndpoints\"\
        :[\r\n          {\r\n            \"name\":\"SSHRule.0\",\"protocol\":\"tcp\"\
        ,\"publicIPAddress\":\"40.70.213.124\",\"publicFQDN\":\"dnsf372daf0-42f6-475a-9089-b6607f934ed7-azurebatch-cloudservice.westus.cloudapp.azure.com\"\
        ,\"frontendPort\":50000,\"backendPort\":22\r\n          }\r\n        ]\r\n\
        \      },\"nodeAgentInfo\":{\r\n        \"lastUpdateTime\":\"2018-08-30T17:09:11.451508Z\"\
        ,\"version\":\"1.3.0.9\"\r\n      }\r\n    }\r\n  ]\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Fri, 31 Aug 2018 16:31:18 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [4407d67c-1e84-42c4-8671-bfaa6c780850]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.5.0 batchmanagementclient/4.1.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      x-ms-client-request-id: [49d88d90-ad3b-11e8-846a-44032c851683]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Batch/batchAccounts?api-version=2017-05-01
  response:
    body: {string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/test_rg/providers/Microsoft.Batch/batchAccounts/test1","name":"test1","type":"Microsoft.Batch/batchAccounts","location":"westus","properties":{"accountEndpoint":"test1.westus.batch.azure.com","provisioningState":"Succeeded","dedicatedCoreQuota":20,"lowPriorityCoreQuota":100,"poolQuota":100,"activeJobAndJobScheduleQuota":300,"autoStorage":{"storageAccountId":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/test_rg/providers/Microsoft.Storage/storageAccounts/testaccountforbatch","lastKeySync":"2018-08-27T21:09:28.1417679Z"},"poolAllocationMode":"batchservice"}}]}'}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Fri, 31 Aug 2018 16:31:20 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      Vary: [Accept-Encoding]
      X-Content-Type-Options: [nosniff]
      content-length: ['672']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.5.0 azure-mgmt-storage/1.5.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      x-ms-client-request-id: [4b3a0bb4-ad3b-11e8-934f-44032c851683]
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/test_rg/providers/Microsoft.Storage/storageAccounts/testaccountforbatch/listKeys?api-version=2017-10-01
  response:
    body: {string: '{"keys":[{"keyName":"key1","value":"abc==","permissions":"FULL"},{"keyName":"key2","value":"abc==","permissions":"FULL"}]}'}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json]
      Date: ['Fri, 31 Aug 2018 16:31:20 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: ['Microsoft-Azure-Storage-Resource-Provider/1.0,Microsoft-HTTPAPI/2.0
          Microsoft-HTTPAPI/2.0']
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      Vary: [Accept-Encoding]
      X-Content-Type-Options: [nosniff]
      content-length: ['288']
      x-ms-ratelimit-remaining-subscription-writes: ['1199']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Connection: [keep-alive]
      Content-Length: ['0']
      User-Agent: [Azure-Storage/1.1.0-1.1.0 (Python CPython 3.6.5; Windows 10)]
      x-ms-client-request-id: [4b66acd2-ad3b-11e8-8869-44032c851683]
      x-ms-date: ['Fri, 31 Aug 2018 16:31:21 GMT']
      x-ms-version: ['2017-07-29']
    method: PUT
    uri: https://testaccountforbatch.blob.core.windows.net/aaatestcontainer?restype=container
  response:
    body: {string: "\uFEFF<?xml version=\"1.0\" encoding=\"utf-8\"?><Error><Code>ContainerAlreadyExists</Code><Message>The\
        \ specified container already exists.\nRequestId:c6394d36-401e-006a-2e48-41eabd000000\n\
        Time:2018-08-31T16:31:21.7700449Z</Message></Error>"}
    headers:
      Content-Length: ['230']
      Content-Type: [application/xml]
      Date: ['Fri, 31 Aug 2018 16:31:21 GMT']
      Server: [Windows-Azure-Blob/1.0 Microsoft-HTTPAPI/2.0]
      x-ms-error-code: [ContainerAlreadyExists]
      x-ms-version: ['2017-07-29']
    status: {code: 409, message: The specified container already exists.}
- request:
    body: '{"id": "ncj-ubuntu1404", "poolInfo": {"poolId": "ncj-ubuntu1404"}}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['66']
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.5.0 azure-batch/5.0.0 Azure-SDK-For-Python batchextensionsclient/4.0.0]
      accept-language: [en-US]
      client-request-id: [4b9ef15c-ad3b-11e8-ac41-44032c851683]
      return-client-request-id: ['false']
    method: POST
    uri: https://test1.westus.batch.azure.com/jobs?api-version=2018-08-01.7.0&timeout=30
  response:
    body: {string: ''}
    headers:
      DataServiceId: ['https://test1.westus.batch.azure.com/jobs/job-1']
      DataServiceVersion: ['3.0']
      Date: ['Fri, 31 Aug 2018 16:31:23 GMT']
      ETag: ['0x8D60F5F3136E8DB']
      Last-Modified: ['Fri, 31 Aug 2018 16:31:24 GMT']
      Location: ['https://test1.westus.batch.azure.com/jobs/job-1']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [b00c7755-01e7-4748-afaa-c010de688298]
    status: {code: 201, message: Created}
- request:
    body: '{"value": [{"id": "myTask", "commandLine": "/bin/bash -c \"echo test\"",
      "outputFiles": [{"filePattern": "$AZ_BATCH_TASK_DIR/*.txt", "destination": {"container":
      {"containerUrl": "https://testaccountforbatch.blob.core.windows.net:443/aaatestcontainer"}},
      "uploadOptions": {"uploadCondition": "tasksuccess"}}], "constraints": {"retentionTime":
      "PT1H"}}]}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['469']
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.5.0 azure-batch/5.0.0 Azure-SDK-For-Python batchextensionsclient/4.0.0]
      accept-language: [en-US]
      client-request-id: [4d0aeb4a-ad3b-11e8-951c-44032c851683]
    method: POST
    uri: https://test1.westus.batch.azure.com/jobs/ncj-ubuntu1404/addtaskcollection?api-version=2018-08-01.7.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#taskaddresult\"\
        ,\"value\":[\r\n    {\r\n      \"status\":\"Success\",\"taskId\":\"myTask\"\
        ,\"eTag\":\"0x8D60F5F31C969CC\",\"lastModified\":\"2018-08-31T16:31:25.1097036Z\"\
        ,\"location\":\"https://test1.westus.batch.azure.com/jobs/ncj-ubuntu1404/tasks/myTask\"\
        \r\n    }\r\n  ]\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Fri, 31 Aug 2018 16:31:25 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [dc35ce3c-b28b-4b15-b09a-c0d5f51a5694]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.5.0 azure-batch/5.0.0 Azure-SDK-For-Python batchextensionsclient/4.0.0]
      accept-language: [en-US]
      client-request-id: [4da4267e-ad3b-11e8-922e-44032c851683]
      ocp-date: ['Fri, 31 Aug 2018 16:31:25 GMT']
    method: GET
    uri: https://test1.westus.batch.azure.com/jobs/ncj-ubuntu1404?api-version=2018-08-01.7.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#jobs/@Element\"\
        ,\"id\":\"ncj-ubuntu1404\",\"url\":\"https://test1.westus.batch.azure.com/jobs/ncj-ubuntu1404\"\
        ,\"eTag\":\"0x8D60F5F3136E8DB\",\"lastModified\":\"2018-08-31T16:31:24.1495771Z\"\
        ,\"creationTime\":\"2018-08-31T16:31:24.1285757Z\",\"state\":\"active\",\"\
        stateTransitionTime\":\"2018-08-31T16:31:24.1495771Z\",\"priority\":0,\"usesTaskDependencies\"\
        :false,\"constraints\":{\r\n    \"maxWallClockTime\":\"P10675199DT2H48M5.4775807S\"\
        ,\"maxTaskRetryCount\":0\r\n  },\"poolInfo\":{\r\n    \"poolId\":\"ncj-ubuntu1404\"\
        \r\n  },\"executionInfo\":{\r\n    \"startTime\":\"2018-08-31T16:31:24.1495771Z\"\
        ,\"poolId\":\"ncj-ubuntu1404\"\r\n  },\"onAllTasksComplete\":\"noaction\"\
        ,\"onTaskFailure\":\"noaction\"\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Fri, 31 Aug 2018 16:31:24 GMT']
      ETag: ['0x8D60F5F3136E8DB']
      Last-Modified: ['Fri, 31 Aug 2018 16:31:24 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [c00e9e61-8563-45b9-af2a-d349bf9ce457]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.5.0 azure-batch/5.0.0 Azure-SDK-For-Python batchextensionsclient/4.0.0]
      accept-language: [en-US]
      client-request-id: [4de3e47e-ad3b-11e8-bd0e-44032c851683]
      ocp-date: ['Fri, 31 Aug 2018 16:31:25 GMT']
    method: GET
    uri: https://test1.westus.batch.azure.com/jobs/ncj-ubuntu1404/tasks?api-version=2018-08-01.7.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#tasks\"\
        ,\"value\":[\r\n    {\r\n      \"id\":\"myTask\",\"url\":\"https://test1.westus.batch.azure.com/jobs/ncj-ubuntu1404/tasks/myTask\"\
        ,\"eTag\":\"0x8D60F5F31C969CC\",\"creationTime\":\"2018-08-31T16:31:25.1097036Z\"\
        ,\"lastModified\":\"2018-08-31T16:31:25.1097036Z\",\"state\":\"active\",\"\
        stateTransitionTime\":\"2018-08-31T16:31:25.1097036Z\",\"commandLine\":\"\
        /bin/bash -c \\\"echo test\\\"\",\"outputFiles\":[\r\n        {\r\n      \
        \    \"filePattern\":\"$AZ_BATCH_TASK_DIR/*.txt\",\"destination\":{\r\n  \
        \          \"container\":{\r\n              \"containerUrl\":\"https://testaccountforbatch.blob.core.windows.net:443/aaatestcontainer\"\
        \r\n            }\r\n          },\"uploadOptions\":{\r\n            \"uploadCondition\"\
        :\"TaskSuccess\"\r\n          }\r\n        }\r\n      ],\"userIdentity\":{\r\
        \n        \"autoUser\":{\r\n          \"elevationLevel\":\"nonadmin\"\r\n\
        \        }\r\n      },\"constraints\":{\r\n        \"maxWallClockTime\":\"\
        P10675199DT2H48M5.4775807S\",\"retentionTime\":\"PT1H\",\"maxTaskRetryCount\"\
        :0\r\n      },\"executionInfo\":{\r\n        \"retryCount\":0,\"requeueCount\"\
        :0\r\n      }\r\n    }\r\n  ]\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Fri, 31 Aug 2018 16:31:25 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [22d21481-2dab-4771-9444-4287a48182f8]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.5.0 azure-batch/5.0.0 Azure-SDK-For-Python batchextensionsclient/4.0.0]
      accept-language: [en-US]
      client-request-id: [4feb0f1a-ad3b-11e8-adcc-44032c851683]
      ocp-date: ['Fri, 31 Aug 2018 16:31:29 GMT']
    method: GET
    uri: https://test1.westus.batch.azure.com/jobs/ncj-ubuntu1404/tasks?api-version=2018-08-01.7.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#tasks\"\
        ,\"value\":[\r\n    {\r\n      \"id\":\"myTask\",\"url\":\"https://test1.westus.batch.azure.com/jobs/ncj-ubuntu1404/tasks/myTask\"\
        ,\"eTag\":\"0x8D60F5F31C969CC\",\"creationTime\":\"2018-08-31T16:31:25.1097036Z\"\
        ,\"lastModified\":\"2018-08-31T16:31:25.1097036Z\",\"state\":\"completed\"\
        ,\"stateTransitionTime\":\"2018-08-31T16:31:27.410342Z\",\"previousState\"\
        :\"running\",\"previousStateTransitionTime\":\"2018-08-31T16:31:26.711453Z\"\
        ,\"commandLine\":\"/bin/bash -c \\\"echo test\\\"\",\"outputFiles\":[\r\n\
        \        {\r\n          \"filePattern\":\"$AZ_BATCH_TASK_DIR/*.txt\",\"destination\"\
        :{\r\n            \"container\":{\r\n              \"containerUrl\":\"https://testaccountforbatch.blob.core.windows.net:443/aaatestcontainer\"\
        \r\n            }\r\n          },\"uploadOptions\":{\r\n            \"uploadCondition\"\
        :\"TaskSuccess\"\r\n          }\r\n        }\r\n      ],\"userIdentity\":{\r\
        \n        \"autoUser\":{\r\n          \"elevationLevel\":\"nonadmin\"\r\n\
        \        }\r\n      },\"constraints\":{\r\n        \"maxWallClockTime\":\"\
        P10675199DT2H48M5.4775807S\",\"retentionTime\":\"PT1H\",\"maxTaskRetryCount\"\
        :0\r\n      },\"executionInfo\":{\r\n        \"startTime\":\"2018-08-31T16:31:26.711551Z\"\
        ,\"endTime\":\"2018-08-31T16:31:27.410342Z\",\"exitCode\":0,\"result\":\"\
        Success\",\"retryCount\":0,\"requeueCount\":0\r\n      },\"nodeInfo\":{\r\n\
        \        \"affinityId\":\"TVM:tvm-2487789449_1-20180830t170855z\",\"nodeUrl\"\
        :\"https://test1.westus.batch.azure.com/pools/ncj-ubuntu1404/nodes/tvm-2487789449_1-20180830t170855z\"\
        ,\"poolId\":\"ncj-ubuntu1404\",\"nodeId\":\"tvm-2487789449_1-20180830t170855z\"\
        ,\"taskRootDirectory\":\"workitems/ncj-ubuntu1404/job-1/myTask\",\"taskRootDirectoryUrl\"\
        :\"https://test1.westus.batch.azure.com/pools/ncj-ubuntu1404/nodes/tvm-2487789449_1-20180830t170855z/files/workitems/ncj-ubuntu1404/job-1/myTask\"\
        \r\n      }\r\n    }\r\n  ]\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Fri, 31 Aug 2018 16:31:28 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [db34600a-15f2-4a4e-910a-b51766ff32b1]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.5.0 azure-batch/5.0.0 Azure-SDK-For-Python batchextensionsclient/4.0.0]
      accept-language: [en-US]
      client-request-id: [502d78c2-ad3b-11e8-a079-44032c851683]
      ocp-date: ['Fri, 31 Aug 2018 16:31:29 GMT']
    method: GET
    uri: https://test1.westus.batch.azure.com/jobs/ncj-ubuntu1404/tasks/myTask?api-version=2018-08-01.7.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#tasks/@Element\"\
        ,\"id\":\"myTask\",\"url\":\"https://test1.westus.batch.azure.com/jobs/ncj-ubuntu1404/tasks/myTask\"\
        ,\"eTag\":\"0x8D60F5F31C969CC\",\"creationTime\":\"2018-08-31T16:31:25.1097036Z\"\
        ,\"lastModified\":\"2018-08-31T16:31:25.1097036Z\",\"state\":\"completed\"\
        ,\"stateTransitionTime\":\"2018-08-31T16:31:27.410342Z\",\"previousState\"\
        :\"running\",\"previousStateTransitionTime\":\"2018-08-31T16:31:26.711453Z\"\
        ,\"commandLine\":\"/bin/bash -c \\\"echo test\\\"\",\"outputFiles\":[\r\n\
        \    {\r\n      \"filePattern\":\"$AZ_BATCH_TASK_DIR/*.txt\",\"destination\"\
        :{\r\n        \"container\":{\r\n          \"containerUrl\":\"https://testaccountforbatch.blob.core.windows.net:443/aaatestcontainer\"\
        \r\n        }\r\n      },\"uploadOptions\":{\r\n        \"uploadCondition\"\
        :\"TaskSuccess\"\r\n      }\r\n    }\r\n  ],\"userIdentity\":{\r\n    \"autoUser\"\
        :{\r\n      \"elevationLevel\":\"nonadmin\"\r\n    }\r\n  },\"constraints\"\
        :{\r\n    \"maxWallClockTime\":\"P10675199DT2H48M5.4775807S\",\"retentionTime\"\
        :\"PT1H\",\"maxTaskRetryCount\":0\r\n  },\"executionInfo\":{\r\n    \"startTime\"\
        :\"2018-08-31T16:31:26.711551Z\",\"endTime\":\"2018-08-31T16:31:27.410342Z\"\
        ,\"exitCode\":0,\"result\":\"Success\",\"retryCount\":0,\"requeueCount\":0\r\
        \n  },\"nodeInfo\":{\r\n    \"affinityId\":\"TVM:tvm-2487789449_1-20180830t170855z\"\
        ,\"nodeUrl\":\"https://test1.westus.batch.azure.com/pools/ncj-ubuntu1404/nodes/tvm-2487789449_1-20180830t170855z\"\
        ,\"poolId\":\"ncj-ubuntu1404\",\"nodeId\":\"tvm-2487789449_1-20180830t170855z\"\
        ,\"taskRootDirectory\":\"workitems/ncj-ubuntu1404/job-1/myTask\",\"taskRootDirectoryUrl\"\
        :\"https://test1.westus.batch.azure.com/pools/ncj-ubuntu1404/nodes/tvm-2487789449_1-20180830t170855z/files/workitems/ncj-ubuntu1404/job-1/myTask\"\
        \r\n  }\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Fri, 31 Aug 2018 16:31:29 GMT']
      ETag: ['0x8D60F5F31C969CC']
      Last-Modified: ['Fri, 31 Aug 2018 16:31:25 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [63bfac86-2ee4-46dd-a497-da5796f1ad87]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Connection: [keep-alive]
      User-Agent: [Azure-Storage/1.1.0-1.1.0 (Python CPython 3.6.5; Windows 10)]
      x-ms-client-request-id: [506fc514-ad3b-11e8-a408-44032c851683]
      x-ms-date: ['Fri, 31 Aug 2018 16:31:29 GMT']
      x-ms-version: ['2017-07-29']
    method: GET
    uri: https://testaccountforbatch.blob.core.windows.net/aaatestcontainer?restype=container&comp=list
  response:
    body: {string: "\uFEFF<?xml version=\"1.0\" encoding=\"utf-8\"?><EnumerationResults\
        \ ServiceEndpoint=\"https://testaccountforbatch.blob.core.windows.net/\" ContainerName=\"\
        aaatestcontainer\"><Blobs><Blob><Name>fileuploaderr.txt</Name><Properties><Last-Modified>Fri,\
        \ 31 Aug 2018 16:31:27 GMT</Last-Modified><Etag>0x8D60F5F3318456A</Etag><Content-Length>0</Content-Length><Content-Type>application/octet-stream</Content-Type><Content-Encoding\
        \ /><Content-Language /><Content-MD5>1B2M2Y8AsgTpgAmY7PhCfg==</Content-MD5><Cache-Control\
        \ /><Content-Disposition /><BlobType>BlockBlob</BlobType><LeaseStatus>unlocked</LeaseStatus><LeaseState>available</LeaseState><ServerEncrypted>true</ServerEncrypted></Properties></Blob><Blob><Name>fileuploadout.txt</Name><Properties><Last-Modified>Fri,\
        \ 31 Aug 2018 16:31:27 GMT</Last-Modified><Etag>0x8D60F5F330FB7D3</Etag><Content-Length>394</Content-Length><Content-Type>application/octet-stream</Content-Type><Content-Encoding\
        \ /><Content-Language /><Content-MD5>oCqKbGngGWRqpUyHYrun2Q==</Content-MD5><Cache-Control\
        \ /><Content-Disposition /><BlobType>BlockBlob</BlobType><LeaseStatus>unlocked</LeaseStatus><LeaseState>available</LeaseState><ServerEncrypted>true</ServerEncrypted></Properties></Blob><Blob><Name>stderr.txt</Name><Properties><Last-Modified>Fri,\
        \ 31 Aug 2018 16:31:27 GMT</Last-Modified><Etag>0x8D60F5F331CDA6D</Etag><Content-Length>0</Content-Length><Content-Type>application/octet-stream</Content-Type><Content-Encoding\
        \ /><Content-Language /><Content-MD5>1B2M2Y8AsgTpgAmY7PhCfg==</Content-MD5><Cache-Control\
        \ /><Content-Disposition /><BlobType>BlockBlob</BlobType><LeaseStatus>unlocked</LeaseStatus><LeaseState>available</LeaseState><ServerEncrypted>true</ServerEncrypted></Properties></Blob><Blob><Name>stdout.txt</Name><Properties><Last-Modified>Fri,\
        \ 31 Aug 2018 16:31:27 GMT</Last-Modified><Etag>0x8D60F5F33216F68</Etag><Content-Length>5</Content-Length><Content-Type>application/octet-stream</Content-Type><Content-Encoding\
        \ /><Content-Language /><Content-MD5>2Oj8otwPiW/Xy0ywAxuiSQ==</Content-MD5><Cache-Control\
        \ /><Content-Disposition /><BlobType>BlockBlob</BlobType><LeaseStatus>unlocked</LeaseStatus><LeaseState>available</LeaseState><ServerEncrypted>true</ServerEncrypted></Properties></Blob></Blobs><NextMarker\
        \ /></EnumerationResults>"}
    headers:
      Content-Type: [application/xml]
      Date: ['Fri, 31 Aug 2018 16:31:29 GMT']
      Server: [Windows-Azure-Blob/1.0 Microsoft-HTTPAPI/2.0]
      Transfer-Encoding: [chunked]
      x-ms-version: ['2017-07-29']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['0']
      User-Agent: [python/3.6.5 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.5.0 azure-batch/5.0.0 Azure-SDK-For-Python batchextensionsclient/4.0.0]
      accept-language: [en-US]
      client-request-id: [508a6fb0-ad3b-11e8-8047-44032c851683]
      ocp-date: ['Fri, 31 Aug 2018 16:31:30 GMT']
    method: DELETE
    uri: https://test1.westus.batch.azure.com/jobs/ncj-ubuntu1404?api-version=2018-08-01.7.0
  response:
    body: {string: ''}
    headers:
      DataServiceVersion: ['3.0']
      Date: ['Fri, 31 Aug 2018 16:31:29 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [664238e4-a7a4-4313-8ec8-2ec2f152ca74]
    status: {code: 202, message: Accepted}
- request:
    body: null
    headers:
      Connection: [keep-alive]
      User-Agent: [Azure-Storage/1.1.0-1.1.0 (Python CPython 3.6.5; Windows 10)]
      x-ms-client-request-id: [50c4d622-ad3b-11e8-9313-44032c851683]
      x-ms-date: ['Fri, 31 Aug 2018 16:31:30 GMT']
      x-ms-version: ['2017-07-29']
    method: GET
    uri: https://testaccountforbatch.blob.core.windows.net/aaatestcontainer?restype=container&comp=list
  response:
    body: {string: "\uFEFF<?xml version=\"1.0\" encoding=\"utf-8\"?><EnumerationResults\
        \ ServiceEndpoint=\"https://testaccountforbatch.blob.core.windows.net/\" ContainerName=\"\
        aaatestcontainer\"><Blobs><Blob><Name>fileuploaderr.txt</Name><Properties><Last-Modified>Fri,\
        \ 31 Aug 2018 16:31:27 GMT</Last-Modified><Etag>0x8D60F5F3318456A</Etag><Content-Length>0</Content-Length><Content-Type>application/octet-stream</Content-Type><Content-Encoding\
        \ /><Content-Language /><Content-MD5>1B2M2Y8AsgTpgAmY7PhCfg==</Content-MD5><Cache-Control\
        \ /><Content-Disposition /><BlobType>BlockBlob</BlobType><LeaseStatus>unlocked</LeaseStatus><LeaseState>available</LeaseState><ServerEncrypted>true</ServerEncrypted></Properties></Blob><Blob><Name>fileuploadout.txt</Name><Properties><Last-Modified>Fri,\
        \ 31 Aug 2018 16:31:27 GMT</Last-Modified><Etag>0x8D60F5F330FB7D3</Etag><Content-Length>394</Content-Length><Content-Type>application/octet-stream</Content-Type><Content-Encoding\
        \ /><Content-Language /><Content-MD5>oCqKbGngGWRqpUyHYrun2Q==</Content-MD5><Cache-Control\
        \ /><Content-Disposition /><BlobType>BlockBlob</BlobType><LeaseStatus>unlocked</LeaseStatus><LeaseState>available</LeaseState><ServerEncrypted>true</ServerEncrypted></Properties></Blob><Blob><Name>stderr.txt</Name><Properties><Last-Modified>Fri,\
        \ 31 Aug 2018 16:31:27 GMT</Last-Modified><Etag>0x8D60F5F331CDA6D</Etag><Content-Length>0</Content-Length><Content-Type>application/octet-stream</Content-Type><Content-Encoding\
        \ /><Content-Language /><Content-MD5>1B2M2Y8AsgTpgAmY7PhCfg==</Content-MD5><Cache-Control\
        \ /><Content-Disposition /><BlobType>BlockBlob</BlobType><LeaseStatus>unlocked</LeaseStatus><LeaseState>available</LeaseState><ServerEncrypted>true</ServerEncrypted></Properties></Blob><Blob><Name>stdout.txt</Name><Properties><Last-Modified>Fri,\
        \ 31 Aug 2018 16:31:27 GMT</Last-Modified><Etag>0x8D60F5F33216F68</Etag><Content-Length>5</Content-Length><Content-Type>application/octet-stream</Content-Type><Content-Encoding\
        \ /><Content-Language /><Content-MD5>2Oj8otwPiW/Xy0ywAxuiSQ==</Content-MD5><Cache-Control\
        \ /><Content-Disposition /><BlobType>BlockBlob</BlobType><LeaseStatus>unlocked</LeaseStatus><LeaseState>available</LeaseState><ServerEncrypted>true</ServerEncrypted></Properties></Blob></Blobs><NextMarker\
        \ /></EnumerationResults>"}
    headers:
      Content-Type: [application/xml]
      Date: ['Fri, 31 Aug 2018 16:31:29 GMT']
      Server: [Windows-Azure-Blob/1.0 Microsoft-HTTPAPI/2.0]
      Transfer-Encoding: [chunked]
      x-ms-version: ['2017-07-29']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Connection: [keep-alive]
      Content-Length: ['0']
      User-Agent: [Azure-Storage/1.1.0-1.1.0 (Python CPython 3.6.5; Windows 10)]
      x-ms-client-request-id: [50e021a4-ad3b-11e8-94b2-44032c851683]
      x-ms-date: ['Fri, 31 Aug 2018 16:31:30 GMT']
      x-ms-version: ['2017-07-29']
    method: DELETE
    uri: https://testaccountforbatch.blob.core.windows.net/aaatestcontainer/fileuploaderr.txt
  response:
    body: {string: ''}
    headers:
      Date: ['Fri, 31 Aug 2018 16:31:29 GMT']
      Server: [Windows-Azure-Blob/1.0 Microsoft-HTTPAPI/2.0]
      Transfer-Encoding: [chunked]
      x-ms-delete-type-permanent: ['true']
      x-ms-version: ['2017-07-29']
    status: {code: 202, message: Accepted}
- request:
    body: null
    headers:
      Connection: [keep-alive]
      Content-Length: ['0']
      User-Agent: [Azure-Storage/1.1.0-1.1.0 (Python CPython 3.6.5; Windows 10)]
      x-ms-client-request-id: [50eee19c-ad3b-11e8-9568-44032c851683]
      x-ms-date: ['Fri, 31 Aug 2018 16:31:30 GMT']
      x-ms-version: ['2017-07-29']
    method: DELETE
    uri: https://testaccountforbatch.blob.core.windows.net/aaatestcontainer/fileuploadout.txt
  response:
    body: {string: ''}
    headers:
      Date: ['Fri, 31 Aug 2018 16:31:30 GMT']
      Server: [Windows-Azure-Blob/1.0 Microsoft-HTTPAPI/2.0]
      Transfer-Encoding: [chunked]
      x-ms-delete-type-permanent: ['true']
      x-ms-version: ['2017-07-29']
    status: {code: 202, message: Accepted}
- request:
    body: null
    headers:
      Connection: [keep-alive]
      Content-Length: ['0']
      User-Agent: [Azure-Storage/1.1.0-1.1.0 (Python CPython 3.6.5; Windows 10)]
      x-ms-client-request-id: [50fe3fb8-ad3b-11e8-a1b1-44032c851683]
      x-ms-date: ['Fri, 31 Aug 2018 16:31:30 GMT']
      x-ms-version: ['2017-07-29']
    method: DELETE
    uri: https://testaccountforbatch.blob.core.windows.net/aaatestcontainer/stderr.txt
  response:
    body: {string: ''}
    headers:
      Date: ['Fri, 31 Aug 2018 16:31:30 GMT']
      Server: [Windows-Azure-Blob/1.0 Microsoft-HTTPAPI/2.0]
      Transfer-Encoding: [chunked]
      x-ms-delete-type-permanent: ['true']
      x-ms-version: ['2017-07-29']
    status: {code: 202, message: Accepted}
- request:
    body: null
    headers:
      Connection: [keep-alive]
      Content-Length: ['0']
      User-Agent: [Azure-Storage/1.1.0-1.1.0 (Python CPython 3.6.5; Windows 10)]
      x-ms-client-request-id: [510d45b0-ad3b-11e8-a854-44032c851683]
      x-ms-date: ['Fri, 31 Aug 2018 16:31:30 GMT']
      x-ms-version: ['2017-07-29']
    method: DELETE
    uri: https://testaccountforbatch.blob.core.windows.net/aaatestcontainer/stdout.txt
  response:
    body: {string: ''}
    headers:
      Date: ['Fri, 31 Aug 2018 16:31:30 GMT']
      Server: [Windows-Azure-Blob/1.0 Microsoft-HTTPAPI/2.0]
      Transfer-Encoding: [chunked]
      x-ms-delete-type-permanent: ['true']
      x-ms-version: ['2017-07-29']
    status: {code: 202, message: Accepted}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.5.0 azure-batch/5.0.0 Azure-SDK-For-Python batchextensionsclient/4.0.0]
      accept-language: [en-US]
      client-request-id: [511be864-ad3b-11e8-a0ef-44032c851683]
      ocp-date: ['Fri, 31 Aug 2018 16:31:31 GMT']
    method: GET
    uri: https://test1.westus.batch.azure.com/nodeagentskus?api-version=2018-08-01.7.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#nodeagentskus\"\
        ,\"value\":[\r\n    {\r\n      \"id\":\"batch.node.centos 7\",\"verifiedImageReferences\"\
        :[\r\n        {\r\n          \"publisher\":\"OpenLogic\",\"offer\":\"CentOS\"\
        ,\"sku\":\"7.5\",\"version\":\"latest\"\r\n        },{\r\n          \"publisher\"\
        :\"OpenLogic\",\"offer\":\"CentOS-HPC\",\"sku\":\"7.4\",\"version\":\"latest\"\
        \r\n        },{\r\n          \"publisher\":\"OpenLogic\",\"offer\":\"CentOS-HPC\"\
        ,\"sku\":\"7.3\",\"version\":\"latest\"\r\n        },{\r\n          \"publisher\"\
        :\"OpenLogic\",\"offer\":\"CentOS-HPC\",\"sku\":\"7.1\",\"version\":\"latest\"\
        \r\n        },{\r\n          \"publisher\":\"Oracle\",\"offer\":\"Oracle-Linux\"\
        ,\"sku\":\"7.4\",\"version\":\"latest\"\r\n        },{\r\n          \"publisher\"\
        :\"microsoft-ads\",\"offer\":\"linux-data-science-vm\",\"sku\":\"linuxdsvm\"\
        ,\"version\":\"latest\"\r\n        },{\r\n          \"publisher\":\"batch\"\
        ,\"offer\":\"rendering-centos73\",\"sku\":\"rendering\",\"version\":\"latest\"\
        \r\n        },{\r\n          \"publisher\":\"microsoft-azure-batch\",\"offer\"\
        :\"centos-container\",\"sku\":\"7-5\",\"version\":\"latest\"\r\n        },{\r\
        \n          \"publisher\":\"microsoft-azure-batch\",\"offer\":\"centos-container-rdma\"\
        ,\"sku\":\"7-4\",\"version\":\"latest\"\r\n        }\r\n      ],\"osType\"\
        :\"linux\"\r\n    },{\r\n      \"id\":\"batch.node.debian 8\",\"verifiedImageReferences\"\
        :[\r\n        {\r\n          \"publisher\":\"Credativ\",\"offer\":\"Debian\"\
        ,\"sku\":\"8\",\"version\":\"latest\"\r\n        }\r\n      ],\"osType\":\"\
        linux\"\r\n    },{\r\n      \"id\":\"batch.node.debian 9\",\"verifiedImageReferences\"\
        :[\r\n        {\r\n          \"publisher\":\"Credativ\",\"offer\":\"Debian\"\
        ,\"sku\":\"9\",\"version\":\"latest\"\r\n        }\r\n      ],\"osType\":\"\
        linux\"\r\n    },{\r\n      \"id\":\"batch.node.ubuntu 14.04\",\"verifiedImageReferences\"\
        :[\r\n        {\r\n          \"publisher\":\"Canonical\",\"offer\":\"UbuntuServer\"\
        ,\"sku\":\"14.04.5-LTS\",\"version\":\"latest\"\r\n        }\r\n      ],\"\
        osType\":\"linux\"\r\n    },{\r\n      \"id\":\"batch.node.ubuntu 16.04\"\
        ,\"verifiedImageReferences\":[\r\n        {\r\n          \"publisher\":\"\
        Canonical\",\"offer\":\"UbuntuServer\",\"sku\":\"16.04-LTS\",\"version\":\"\
        latest\"\r\n        },{\r\n          \"publisher\":\"microsoft-dsvm\",\"offer\"\
        :\"linux-data-science-vm-ubuntu\",\"sku\":\"linuxdsvmubuntu\",\"version\"\
        :\"latest\"\r\n        },{\r\n          \"publisher\":\"microsoft-azure-batch\"\
        ,\"offer\":\"ubuntu-server-container\",\"sku\":\"16-04-lts\",\"version\":\"\
        latest\"\r\n        },{\r\n          \"publisher\":\"microsoft-azure-batch\"\
        ,\"offer\":\"ubuntu-server-container-rdma\",\"sku\":\"16-04-lts\",\"version\"\
        :\"latest\"\r\n        }\r\n      ],\"osType\":\"linux\"\r\n    },{\r\n  \
        \    \"id\":\"batch.node.ubuntu 18.04\",\"verifiedImageReferences\":[\r\n\
        \        {\r\n          \"publisher\":\"Canonical\",\"offer\":\"UbuntuServer\"\
        ,\"sku\":\"18.04-LTS\",\"version\":\"latest\"\r\n        }\r\n      ],\"osType\"\
        :\"linux\"\r\n    },{\r\n      \"id\":\"batch.node.windows amd64\",\"verifiedImageReferences\"\
        :[\r\n        {\r\n          \"publisher\":\"MicrosoftWindowsServer\",\"offer\"\
        :\"WindowsServer\",\"sku\":\"2008-R2-SP1\",\"version\":\"latest\"\r\n    \
        \    },{\r\n          \"publisher\":\"MicrosoftWindowsServer\",\"offer\":\"\
        WindowsServer\",\"sku\":\"2008-R2-SP1-smalldisk\",\"version\":\"latest\"\r\
        \n        },{\r\n          \"publisher\":\"MicrosoftWindowsServer\",\"offer\"\
        :\"WindowsServer\",\"sku\":\"2012-Datacenter\",\"version\":\"latest\"\r\n\
        \        },{\r\n          \"publisher\":\"MicrosoftWindowsServer\",\"offer\"\
        :\"WindowsServer\",\"sku\":\"2012-Datacenter-smalldisk\",\"version\":\"latest\"\
        \r\n        },{\r\n          \"publisher\":\"MicrosoftWindowsServer\",\"offer\"\
        :\"WindowsServer\",\"sku\":\"2012-R2-Datacenter\",\"version\":\"latest\"\r\
        \n        },{\r\n          \"publisher\":\"MicrosoftWindowsServer\",\"offer\"\
        :\"WindowsServer\",\"sku\":\"2012-R2-Datacenter-smalldisk\",\"version\":\"\
        latest\"\r\n        },{\r\n          \"publisher\":\"MicrosoftWindowsServer\"\
        ,\"offer\":\"WindowsServer\",\"sku\":\"2016-Datacenter\",\"version\":\"latest\"\
        \r\n        },{\r\n          \"publisher\":\"MicrosoftWindowsServer\",\"offer\"\
        :\"WindowsServer\",\"sku\":\"2016-Datacenter-smalldisk\",\"version\":\"latest\"\
        \r\n        },{\r\n          \"publisher\":\"MicrosoftWindowsServer\",\"offer\"\
        :\"WindowsServer\",\"sku\":\"2016-Datacenter-with-Containers\",\"version\"\
        :\"latest\"\r\n        },{\r\n          \"publisher\":\"microsoft-dsvm\",\"\
        offer\":\"dsvm-windows\",\"sku\":\"server-2016\",\"version\":\"latest\"\r\n\
        \        },{\r\n          \"publisher\":\"batch\",\"offer\":\"rendering-windows2016\"\
        ,\"sku\":\"rendering\",\"version\":\"latest\"\r\n        }\r\n      ],\"osType\"\
        :\"windows\"\r\n    }\r\n  ]\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Fri, 31 Aug 2018 16:31:31 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [4084b6cc-39de-4cdd-a531-92e9cab3047c]
    status: {code: 200, message: OK}
- request:
    body: '{"id": "ncj-windows-2012-r2", "vmSize": "STANDARD_D1_V2", "virtualMachineConfiguration":
      {"imageReference": {"publisher": "MicrosoftWindowsServer", "offer": "WindowsServer",
      "sku": "2012-R2-Datacenter"}, "nodeAgentSKUId": "batch.node.windows amd64"},
      "targetDedicatedNodes": 1}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['277']
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.5.0 azure-batch/5.0.0 Azure-SDK-For-Python batchextensionsclient/4.0.0]
      accept-language: [en-US]
      client-request-id: [5158c6a2-ad3b-11e8-9a02-44032c851683]
      ocp-date: ['Fri, 31 Aug 2018 16:31:31 GMT']
    method: POST
    uri: https://test1.westus.batch.azure.com/pools?api-version=2018-08-01.7.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#Microsoft.Azure.Batch.Protocol.Entities.Container.errors/@Element\"\
        ,\"code\":\"PoolExists\",\"message\":{\r\n    \"lang\":\"en-US\",\"value\"\
        :\"The specified pool already exists.\\nRequestId:bf33ea02-64b5-497c-a42c-df85db416888\\\
        nTime:2018-08-31T16:31:31.7812822Z\"\r\n  }\r\n}"}
    headers:
      Content-Length: ['328']
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Fri, 31 Aug 2018 16:31:30 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      X-Content-Type-Options: [nosniff]
      request-id: [bf33ea02-64b5-497c-a42c-df85db416888]
    status: {code: 409, message: The specified pool already exists.}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.5.0 azure-batch/5.0.0 Azure-SDK-For-Python batchextensionsclient/4.0.0]
      accept-language: [en-US]
      client-request-id: [519753f6-ad3b-11e8-a00d-44032c851683]
      ocp-date: ['Fri, 31 Aug 2018 16:31:31 GMT']
    method: GET
    uri: https://test1.westus.batch.azure.com/pools/ncj-windows-2012-r2?api-version=2018-08-01.7.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#pools/@Element\"\
        ,\"id\":\"ncj-windows-2012-r2\",\"url\":\"https://test1.westus.batch.azure.com/pools/ncj-windows-2012-r2\"\
        ,\"eTag\":\"0x8D60EB487FFEF7F\",\"lastModified\":\"2018-08-30T20:09:45.8103167Z\"\
        ,\"creationTime\":\"2018-08-30T20:09:45.8103167Z\",\"state\":\"active\",\"\
        stateTransitionTime\":\"2018-08-30T20:09:45.8103167Z\",\"allocationState\"\
        :\"steady\",\"allocationStateTransitionTime\":\"2018-08-30T20:11:35.4321523Z\"\
        ,\"vmSize\":\"standard_d1_v2\",\"resizeTimeout\":\"PT15M\",\"currentDedicatedNodes\"\
        :1,\"targetDedicatedNodes\":1,\"currentLowPriorityNodes\":0,\"targetLowPriorityNodes\"\
        :0,\"enableAutoScale\":false,\"enableInterNodeCommunication\":false,\"maxTasksPerNode\"\
        :1,\"taskSchedulingPolicy\":{\r\n    \"nodeFillType\":\"Spread\"\r\n  },\"\
        virtualMachineConfiguration\":{\r\n    \"imageReference\":{\r\n      \"publisher\"\
        :\"MicrosoftWindowsServer\",\"offer\":\"WindowsServer\",\"sku\":\"2012-R2-Datacenter\"\
        ,\"version\":\"latest\"\r\n    },\"nodeAgentSKUId\":\"batch.node.windows amd64\"\
        \r\n  }\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Fri, 31 Aug 2018 16:31:32 GMT']
      ETag: ['0x8D60EB487FFEF7F']
      Last-Modified: ['Thu, 30 Aug 2018 20:09:45 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [768c02e1-c32f-4f36-bb94-aca6783ec6ee]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.5.0 azure-batch/5.0.0 Azure-SDK-For-Python batchextensionsclient/4.0.0]
      accept-language: [en-US]
      client-request-id: [51d6702e-ad3b-11e8-b7cc-44032c851683]
      ocp-date: ['Fri, 31 Aug 2018 16:31:32 GMT']
    method: GET
    uri: https://test1.westus.batch.azure.com/pools/ncj-windows-2012-r2/nodes?api-version=2018-08-01.7.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#nodes\"\
        ,\"value\":[\r\n    {\r\n      \"id\":\"tvm-2487789449_1-20180830t201134z\"\
        ,\"url\":\"https://test1.westus.batch.azure.com/pools/ncj-windows-2012-r2/nodes/tvm-2487789449_1-20180830t201134z\"\
        ,\"state\":\"idle\",\"schedulingState\":\"enabled\",\"stateTransitionTime\"\
        :\"2018-08-30T22:03:05.041318Z\",\"lastBootTime\":\"2018-08-30T20:14:48.700441Z\"\
        ,\"allocationTime\":\"2018-08-30T20:11:34.4125859Z\",\"ipAddress\":\"10.0.0.4\"\
        ,\"affinityId\":\"TVM:tvm-2487789449_1-20180830t201134z\",\"vmSize\":\"standard_d1_v2\"\
        ,\"totalTasksRun\":33,\"totalTasksSucceeded\":33,\"runningTasksCount\":0,\"\
        recentTasks\":[\r\n        {\r\n          \"taskUrl\":\"https://test1.westus.batch.azure.com/jobs/ncj-windows-2012-r2-1/tasks/myTask\"\
        ,\"jobId\":\"ncj-windows-2012-r2-1\",\"taskId\":\"myTask\",\"taskState\":\"\
        completed\",\"executionInfo\":{\r\n            \"startTime\":\"2018-08-30T22:03:03.959741Z\"\
        ,\"endTime\":\"2018-08-30T22:03:05.010067Z\",\"exitCode\":0,\"result\":\"\
        Success\",\"retryCount\":0,\"requeueCount\":0\r\n          }\r\n        }\r\
        \n      ],\"isDedicated\":true,\"endpointConfiguration\":{\r\n        \"inboundEndpoints\"\
        :[\r\n          {\r\n            \"name\":\"SSHRule.0\",\"protocol\":\"tcp\"\
        ,\"publicIPAddress\":\"52.179.208.101\",\"publicFQDN\":\"dnse3d86395-f9e0-4f00-bee3-bf84ca731d10-azurebatch-cloudservice.westus.cloudapp.azure.com\"\
        ,\"frontendPort\":50000,\"backendPort\":3389\r\n          }\r\n        ]\r\
        \n      },\"nodeAgentInfo\":{\r\n        \"lastUpdateTime\":\"2018-08-30T20:14:48.700441Z\"\
        ,\"version\":\"1.3.0.9\"\r\n      }\r\n    }\r\n  ]\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Fri, 31 Aug 2018 16:31:32 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [9433367d-325c-4718-a00a-04d27d009906]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.5.0 batchmanagementclient/4.1.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      x-ms-client-request-id: [522a7922-ad3b-11e8-8a12-44032c851683]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Batch/batchAccounts?api-version=2017-05-01
  response:
    body: {string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/test_rg/providers/Microsoft.Batch/batchAccounts/test1","name":"test1","type":"Microsoft.Batch/batchAccounts","location":"westus","properties":{"accountEndpoint":"test1.westus.batch.azure.com","provisioningState":"Succeeded","dedicatedCoreQuota":20,"lowPriorityCoreQuota":100,"poolQuota":100,"activeJobAndJobScheduleQuota":300,"autoStorage":{"storageAccountId":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/test_rg/providers/Microsoft.Storage/storageAccounts/testaccountforbatch","lastKeySync":"2018-08-27T21:09:28.1417679Z"},"poolAllocationMode":"batchservice"}}]}'}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Fri, 31 Aug 2018 16:31:32 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      Vary: [Accept-Encoding]
      X-Content-Type-Options: [nosniff]
      content-length: ['672']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.5.0 azure-mgmt-storage/1.5.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      x-ms-client-request-id: [5275c546-ad3b-11e8-beb2-44032c851683]
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/test_rg/providers/Microsoft.Storage/storageAccounts/testaccountforbatch/listKeys?api-version=2017-10-01
  response:
    body: {string: '{"keys":[{"keyName":"key1","value":"abc==","permissions":"FULL"},{"keyName":"key2","value":"abc==","permissions":"FULL"}]}'}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json]
      Date: ['Fri, 31 Aug 2018 16:31:32 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: ['Microsoft-Azure-Storage-Resource-Provider/1.0,Microsoft-HTTPAPI/2.0
          Microsoft-HTTPAPI/2.0']
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      Vary: [Accept-Encoding]
      X-Content-Type-Options: [nosniff]
      content-length: ['288']
      x-ms-ratelimit-remaining-subscription-writes: ['1199']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Connection: [keep-alive]
      Content-Length: ['0']
      User-Agent: [Azure-Storage/1.1.0-1.1.0 (Python CPython 3.6.5; Windows 10)]
      x-ms-client-request-id: [52b31bb0-ad3b-11e8-a9a9-44032c851683]
      x-ms-date: ['Fri, 31 Aug 2018 16:31:33 GMT']
      x-ms-version: ['2017-07-29']
    method: PUT
    uri: https://testaccountforbatch.blob.core.windows.net/aaatestcontainer?restype=container
  response:
    body: {string: "\uFEFF<?xml version=\"1.0\" encoding=\"utf-8\"?><Error><Code>ContainerAlreadyExists</Code><Message>The\
        \ specified container already exists.\nRequestId:11be9e6c-b01e-009a-6e48-413ad3000000\n\
        Time:2018-08-31T16:31:34.0435228Z</Message></Error>"}
    headers:
      Content-Length: ['230']
      Content-Type: [application/xml]
      Date: ['Fri, 31 Aug 2018 16:31:33 GMT']
      Server: [Windows-Azure-Blob/1.0 Microsoft-HTTPAPI/2.0]
      x-ms-error-code: [ContainerAlreadyExists]
      x-ms-version: ['2017-07-29']
    status: {code: 409, message: The specified container already exists.}
- request:
    body: '{"id": "ncj-windows-2012-r2", "poolInfo": {"poolId": "ncj-windows-2012-r2"}}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['76']
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.5.0 azure-batch/5.0.0 Azure-SDK-For-Python batchextensionsclient/4.0.0]
      accept-language: [en-US]
      client-request-id: [52efcfca-ad3b-11e8-ab18-44032c851683]
      return-client-request-id: ['false']
    method: POST
    uri: https://test1.westus.batch.azure.com/jobs?api-version=2018-08-01.7.0&timeout=30
  response:
    body: {string: ''}
    headers:
      DataServiceId: ['https://test1.westus.batch.azure.com/jobs/job-1']
      DataServiceVersion: ['3.0']
      Date: ['Fri, 31 Aug 2018 16:31:34 GMT']
      ETag: ['0x8D60F5F37A80792']
      Last-Modified: ['Fri, 31 Aug 2018 16:31:34 GMT']
      Location: ['https://test1.westus.batch.azure.com/jobs/job-1']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [c620e9a6-f7a9-4da3-ae29-f43db997214f]
    status: {code: 201, message: Created}
- request:
    body: '{"value": [{"id": "myTask", "commandLine": "cmd /c echo | set /p dummy=test",
      "outputFiles": [{"filePattern": "$AZ_BATCH_TASK_DIR/*.txt", "destination": {"container":
      {"containerUrl": "https://testaccountforbatch.blob.core.windows.net:443/aaatestcontainer"}},
      "uploadOptions": {"uploadCondition": "tasksuccess"}}], "constraints": {"retentionTime":
      "PT1H"}}]}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['474']
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.5.0 azure-batch/5.0.0 Azure-SDK-For-Python batchextensionsclient/4.0.0]
      accept-language: [en-US]
      client-request-id: [537c45ca-ad3b-11e8-a192-44032c851683]
    method: POST
    uri: https://test1.westus.batch.azure.com/jobs/ncj-windows-2012-r2/addtaskcollection?api-version=2018-08-01.7.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#taskaddresult\"\
        ,\"value\":[\r\n    {\r\n      \"status\":\"Success\",\"taskId\":\"myTask\"\
        ,\"eTag\":\"0x8D60F5F3829708C\",\"lastModified\":\"2018-08-31T16:31:35.8053516Z\"\
        ,\"location\":\"https://test1.westus.batch.azure.com/jobs/ncj-windows-2012-r2/tasks/myTask\"\
        \r\n    }\r\n  ]\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Fri, 31 Aug 2018 16:31:34 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [7e4df830-ef97-4091-a623-30c2fbcea0bd]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.5.0 azure-batch/5.0.0 Azure-SDK-For-Python batchextensionsclient/4.0.0]
      accept-language: [en-US]
      client-request-id: [53fe3900-ad3b-11e8-b49c-44032c851683]
      ocp-date: ['Fri, 31 Aug 2018 16:31:35 GMT']
    method: GET
    uri: https://test1.westus.batch.azure.com/jobs/ncj-windows-2012-r2?api-version=2018-08-01.7.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#jobs/@Element\"\
        ,\"id\":\"ncj-windows-2012-r2\",\"url\":\"https://test1.westus.batch.azure.com/jobs/ncj-windows-2012-r2\"\
        ,\"eTag\":\"0x8D60F5F37A80792\",\"lastModified\":\"2018-08-31T16:31:34.9572498Z\"\
        ,\"creationTime\":\"2018-08-31T16:31:34.9382481Z\",\"state\":\"active\",\"\
        stateTransitionTime\":\"2018-08-31T16:31:34.9572498Z\",\"priority\":0,\"usesTaskDependencies\"\
        :false,\"constraints\":{\r\n    \"maxWallClockTime\":\"P10675199DT2H48M5.4775807S\"\
        ,\"maxTaskRetryCount\":0\r\n  },\"poolInfo\":{\r\n    \"poolId\":\"ncj-windows-2012-r2\"\
        \r\n  },\"executionInfo\":{\r\n    \"startTime\":\"2018-08-31T16:31:34.9572498Z\"\
        ,\"poolId\":\"ncj-windows-2012-r2\"\r\n  },\"onAllTasksComplete\":\"noaction\"\
        ,\"onTaskFailure\":\"noaction\"\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Fri, 31 Aug 2018 16:31:35 GMT']
      ETag: ['0x8D60F5F37A80792']
      Last-Modified: ['Fri, 31 Aug 2018 16:31:34 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [7ca4466a-02b5-43d0-84e3-531b08d93115]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.5.0 azure-batch/5.0.0 Azure-SDK-For-Python batchextensionsclient/4.0.0]
      accept-language: [en-US]
      client-request-id: [543851e6-ad3b-11e8-95c3-44032c851683]
      ocp-date: ['Fri, 31 Aug 2018 16:31:36 GMT']
    method: GET
    uri: https://test1.westus.batch.azure.com/jobs/ncj-windows-2012-r2/tasks?api-version=2018-08-01.7.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#tasks\"\
        ,\"value\":[\r\n    {\r\n      \"id\":\"myTask\",\"url\":\"https://test1.westus.batch.azure.com/jobs/ncj-windows-2012-r2/tasks/myTask\"\
        ,\"eTag\":\"0x8D60F5F3829708C\",\"creationTime\":\"2018-08-31T16:31:35.8053516Z\"\
        ,\"lastModified\":\"2018-08-31T16:31:35.8053516Z\",\"state\":\"running\",\"\
        stateTransitionTime\":\"2018-08-31T16:31:33.166958Z\",\"previousState\":\"\
        active\",\"previousStateTransitionTime\":\"2018-08-31T16:31:35.8053516Z\"\
        ,\"commandLine\":\"cmd /c echo | set /p dummy=test\",\"outputFiles\":[\r\n\
        \        {\r\n          \"filePattern\":\"$AZ_BATCH_TASK_DIR/*.txt\",\"destination\"\
        :{\r\n            \"container\":{\r\n              \"containerUrl\":\"https://testaccountforbatch.blob.core.windows.net:443/aaatestcontainer\"\
        \r\n            }\r\n          },\"uploadOptions\":{\r\n            \"uploadCondition\"\
        :\"TaskSuccess\"\r\n          }\r\n        }\r\n      ],\"userIdentity\":{\r\
        \n        \"autoUser\":{\r\n          \"elevationLevel\":\"nonadmin\"\r\n\
        \        }\r\n      },\"constraints\":{\r\n        \"maxWallClockTime\":\"\
        P10675199DT2H48M5.4775807S\",\"retentionTime\":\"PT1H\",\"maxTaskRetryCount\"\
        :0\r\n      },\"executionInfo\":{\r\n        \"startTime\":\"2018-08-31T16:31:33.166958Z\"\
        ,\"retryCount\":0,\"requeueCount\":0\r\n      },\"nodeInfo\":{\r\n       \
        \ \"affinityId\":\"TVM:tvm-2487789449_1-20180830t201134z\",\"nodeUrl\":\"\
        https://test1.westus.batch.azure.com/pools/ncj-windows-2012-r2/nodes/tvm-2487789449_1-20180830t201134z\"\
        ,\"poolId\":\"ncj-windows-2012-r2\",\"nodeId\":\"tvm-2487789449_1-20180830t201134z\"\
        ,\"taskRootDirectory\":\"workitems\\\\ncj-windows-2012-r2\\\\job-1\\\\myTask\"\
        ,\"taskRootDirectoryUrl\":\"https://test1.westus.batch.azure.com/pools/ncj-windows-2012-r2/nodes/tvm-2487789449_1-20180830t201134z/files/workitems/ncj-windows-2012-r2/job-1/myTask\"\
        \r\n      }\r\n    }\r\n  ]\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Fri, 31 Aug 2018 16:31:35 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [f85bf903-d554-4c73-872d-a2a6f50dc13b]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.5.0 azure-batch/5.0.0 Azure-SDK-For-Python batchextensionsclient/4.0.0]
      accept-language: [en-US]
      client-request-id: [5642498c-ad3b-11e8-999c-44032c851683]
      ocp-date: ['Fri, 31 Aug 2018 16:31:39 GMT']
    method: GET
    uri: https://test1.westus.batch.azure.com/jobs/ncj-windows-2012-r2/tasks?api-version=2018-08-01.7.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#tasks\"\
        ,\"value\":[\r\n    {\r\n      \"id\":\"myTask\",\"url\":\"https://test1.westus.batch.azure.com/jobs/ncj-windows-2012-r2/tasks/myTask\"\
        ,\"eTag\":\"0x8D60F5F3829708C\",\"creationTime\":\"2018-08-31T16:31:35.8053516Z\"\
        ,\"lastModified\":\"2018-08-31T16:31:35.8053516Z\",\"state\":\"completed\"\
        ,\"stateTransitionTime\":\"2018-08-31T16:31:34.262387Z\",\"previousState\"\
        :\"running\",\"previousStateTransitionTime\":\"2018-08-31T16:31:33.166958Z\"\
        ,\"commandLine\":\"cmd /c echo | set /p dummy=test\",\"outputFiles\":[\r\n\
        \        {\r\n          \"filePattern\":\"$AZ_BATCH_TASK_DIR/*.txt\",\"destination\"\
        :{\r\n            \"container\":{\r\n              \"containerUrl\":\"https://testaccountforbatch.blob.core.windows.net:443/aaatestcontainer\"\
        \r\n            }\r\n          },\"uploadOptions\":{\r\n            \"uploadCondition\"\
        :\"TaskSuccess\"\r\n          }\r\n        }\r\n      ],\"userIdentity\":{\r\
        \n        \"autoUser\":{\r\n          \"elevationLevel\":\"nonadmin\"\r\n\
        \        }\r\n      },\"constraints\":{\r\n        \"maxWallClockTime\":\"\
        P10675199DT2H48M5.4775807S\",\"retentionTime\":\"PT1H\",\"maxTaskRetryCount\"\
        :0\r\n      },\"executionInfo\":{\r\n        \"startTime\":\"2018-08-31T16:31:33.166958Z\"\
        ,\"endTime\":\"2018-08-31T16:31:34.262387Z\",\"exitCode\":0,\"result\":\"\
        Success\",\"retryCount\":0,\"requeueCount\":0\r\n      },\"nodeInfo\":{\r\n\
        \        \"affinityId\":\"TVM:tvm-2487789449_1-20180830t201134z\",\"nodeUrl\"\
        :\"https://test1.westus.batch.azure.com/pools/ncj-windows-2012-r2/nodes/tvm-2487789449_1-20180830t201134z\"\
        ,\"poolId\":\"ncj-windows-2012-r2\",\"nodeId\":\"tvm-2487789449_1-20180830t201134z\"\
        ,\"taskRootDirectory\":\"workitems\\\\ncj-windows-2012-r2\\\\job-1\\\\myTask\"\
        ,\"taskRootDirectoryUrl\":\"https://test1.westus.batch.azure.com/pools/ncj-windows-2012-r2/nodes/tvm-2487789449_1-20180830t201134z/files/workitems/ncj-windows-2012-r2/job-1/myTask\"\
        \r\n      }\r\n    }\r\n  ]\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Fri, 31 Aug 2018 16:31:39 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [ae8b9178-e432-452e-823a-c86485165394]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.5.0 azure-batch/5.0.0 Azure-SDK-For-Python batchextensionsclient/4.0.0]
      accept-language: [en-US]
      client-request-id: [567e0094-ad3b-11e8-8a3c-44032c851683]
      ocp-date: ['Fri, 31 Aug 2018 16:31:40 GMT']
    method: GET
    uri: https://test1.westus.batch.azure.com/jobs/ncj-windows-2012-r2/tasks/myTask?api-version=2018-08-01.7.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#tasks/@Element\"\
        ,\"id\":\"myTask\",\"url\":\"https://test1.westus.batch.azure.com/jobs/ncj-windows-2012-r2/tasks/myTask\"\
        ,\"eTag\":\"0x8D60F5F3829708C\",\"creationTime\":\"2018-08-31T16:31:35.8053516Z\"\
        ,\"lastModified\":\"2018-08-31T16:31:35.8053516Z\",\"state\":\"completed\"\
        ,\"stateTransitionTime\":\"2018-08-31T16:31:34.262387Z\",\"previousState\"\
        :\"running\",\"previousStateTransitionTime\":\"2018-08-31T16:31:33.166958Z\"\
        ,\"commandLine\":\"cmd /c echo | set /p dummy=test\",\"outputFiles\":[\r\n\
        \    {\r\n      \"filePattern\":\"$AZ_BATCH_TASK_DIR/*.txt\",\"destination\"\
        :{\r\n        \"container\":{\r\n          \"containerUrl\":\"https://testaccountforbatch.blob.core.windows.net:443/aaatestcontainer\"\
        \r\n        }\r\n      },\"uploadOptions\":{\r\n        \"uploadCondition\"\
        :\"TaskSuccess\"\r\n      }\r\n    }\r\n  ],\"userIdentity\":{\r\n    \"autoUser\"\
        :{\r\n      \"elevationLevel\":\"nonadmin\"\r\n    }\r\n  },\"constraints\"\
        :{\r\n    \"maxWallClockTime\":\"P10675199DT2H48M5.4775807S\",\"retentionTime\"\
        :\"PT1H\",\"maxTaskRetryCount\":0\r\n  },\"executionInfo\":{\r\n    \"startTime\"\
        :\"2018-08-31T16:31:33.166958Z\",\"endTime\":\"2018-08-31T16:31:34.262387Z\"\
        ,\"exitCode\":0,\"result\":\"Success\",\"retryCount\":0,\"requeueCount\":0\r\
        \n  },\"nodeInfo\":{\r\n    \"affinityId\":\"TVM:tvm-2487789449_1-20180830t201134z\"\
        ,\"nodeUrl\":\"https://test1.westus.batch.azure.com/pools/ncj-windows-2012-r2/nodes/tvm-2487789449_1-20180830t201134z\"\
        ,\"poolId\":\"ncj-windows-2012-r2\",\"nodeId\":\"tvm-2487789449_1-20180830t201134z\"\
        ,\"taskRootDirectory\":\"workitems\\\\ncj-windows-2012-r2\\\\job-1\\\\myTask\"\
        ,\"taskRootDirectoryUrl\":\"https://test1.westus.batch.azure.com/pools/ncj-windows-2012-r2/nodes/tvm-2487789449_1-20180830t201134z/files/workitems/ncj-windows-2012-r2/job-1/myTask\"\
        \r\n  }\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Fri, 31 Aug 2018 16:31:40 GMT']
      ETag: ['0x8D60F5F3829708C']
      Last-Modified: ['Fri, 31 Aug 2018 16:31:35 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [403fb6e6-0584-4b13-abe1-aa76414ac34b]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Connection: [keep-alive]
      User-Agent: [Azure-Storage/1.1.0-1.1.0 (Python CPython 3.6.5; Windows 10)]
      x-ms-client-request-id: [56b8e23e-ad3b-11e8-ace0-44032c851683]
      x-ms-date: ['Fri, 31 Aug 2018 16:31:40 GMT']
      x-ms-version: ['2017-07-29']
    method: GET
    uri: https://testaccountforbatch.blob.core.windows.net/aaatestcontainer?restype=container&comp=list
  response:
    body: {string: "\uFEFF<?xml version=\"1.0\" encoding=\"utf-8\"?><EnumerationResults\
        \ ServiceEndpoint=\"https://testaccountforbatch.blob.core.windows.net/\" ContainerName=\"\
        aaatestcontainer\"><Blobs><Blob><Name>fileuploaderr.txt</Name><Properties><Last-Modified>Fri,\
        \ 31 Aug 2018 16:31:37 GMT</Last-Modified><Etag>0x8D60F5F3902C6C6</Etag><Content-Length>0</Content-Length><Content-Type>application/octet-stream</Content-Type><Content-Encoding\
        \ /><Content-Language /><Content-MD5>1B2M2Y8AsgTpgAmY7PhCfg==</Content-MD5><Cache-Control\
        \ /><Content-Disposition /><BlobType>BlockBlob</BlobType><LeaseStatus>unlocked</LeaseStatus><LeaseState>available</LeaseState><ServerEncrypted>true</ServerEncrypted></Properties></Blob><Blob><Name>fileuploadout.txt</Name><Properties><Last-Modified>Fri,\
        \ 31 Aug 2018 16:31:37 GMT</Last-Modified><Etag>0x8D60F5F390474E0</Etag><Content-Length>405</Content-Length><Content-Type>application/octet-stream</Content-Type><Content-Encoding\
        \ /><Content-Language /><Content-MD5>gXJ1KQyZntqk/2Q+wn4eJA==</Content-MD5><Cache-Control\
        \ /><Content-Disposition /><BlobType>BlockBlob</BlobType><LeaseStatus>unlocked</LeaseStatus><LeaseState>available</LeaseState><ServerEncrypted>true</ServerEncrypted></Properties></Blob><Blob><Name>stderr.txt</Name><Properties><Last-Modified>Fri,\
        \ 31 Aug 2018 16:31:37 GMT</Last-Modified><Etag>0x8D60F5F3906713D</Etag><Content-Length>0</Content-Length><Content-Type>application/octet-stream</Content-Type><Content-Encoding\
        \ /><Content-Language /><Content-MD5>1B2M2Y8AsgTpgAmY7PhCfg==</Content-MD5><Cache-Control\
        \ /><Content-Disposition /><BlobType>BlockBlob</BlobType><LeaseStatus>unlocked</LeaseStatus><LeaseState>available</LeaseState><ServerEncrypted>true</ServerEncrypted></Properties></Blob><Blob><Name>stdout.txt</Name><Properties><Last-Modified>Fri,\
        \ 31 Aug 2018 16:31:37 GMT</Last-Modified><Etag>0x8D60F5F39081F49</Etag><Content-Length>4</Content-Length><Content-Type>application/octet-stream</Content-Type><Content-Encoding\
        \ /><Content-Language /><Content-MD5>CY9rzUYh03PK3k6DJie09g==</Content-MD5><Cache-Control\
        \ /><Content-Disposition /><BlobType>BlockBlob</BlobType><LeaseStatus>unlocked</LeaseStatus><LeaseState>available</LeaseState><ServerEncrypted>true</ServerEncrypted></Properties></Blob></Blobs><NextMarker\
        \ /></EnumerationResults>"}
    headers:
      Content-Type: [application/xml]
      Date: ['Fri, 31 Aug 2018 16:31:39 GMT']
      Server: [Windows-Azure-Blob/1.0 Microsoft-HTTPAPI/2.0]
      Transfer-Encoding: [chunked]
      x-ms-version: ['2017-07-29']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['0']
      User-Agent: [python/3.6.5 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.5.0 azure-batch/5.0.0 Azure-SDK-For-Python batchextensionsclient/4.0.0]
      accept-language: [en-US]
      client-request-id: [56d2a7ca-ad3b-11e8-8596-44032c851683]
      ocp-date: ['Fri, 31 Aug 2018 16:31:40 GMT']
    method: DELETE
    uri: https://test1.westus.batch.azure.com/jobs/ncj-windows-2012-r2?api-version=2018-08-01.7.0
  response:
    body: {string: ''}
    headers:
      DataServiceVersion: ['3.0']
      Date: ['Fri, 31 Aug 2018 16:31:40 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [8872a328-f2c3-4020-b59a-85be820f5e9b]
    status: {code: 202, message: Accepted}
- request:
    body: null
    headers:
      Connection: [keep-alive]
      User-Agent: [Azure-Storage/1.1.0-1.1.0 (Python CPython 3.6.5; Windows 10)]
      x-ms-client-request-id: [57090f6c-ad3b-11e8-8009-44032c851683]
      x-ms-date: ['Fri, 31 Aug 2018 16:31:40 GMT']
      x-ms-version: ['2017-07-29']
    method: GET
    uri: https://testaccountforbatch.blob.core.windows.net/fgrp-output?restype=container&comp=list
  response:
    body: {string: "\uFEFF<?xml version=\"1.0\" encoding=\"utf-8\"?><EnumerationResults\
        \ ServiceEndpoint=\"https://testaccountforbatch.blob.core.windows.net/\" ContainerName=\"\
        fgrp-output\"><Blobs><Blob><Name>fileuploaderr.txt</Name><Properties><Last-Modified>Thu,\
        \ 30 Aug 2018 22:03:05 GMT</Last-Modified><Etag>0x8D60EC45CC8F4A2</Etag><Content-Length>0</Content-Length><Content-Type>application/octet-stream</Content-Type><Content-Encoding\
        \ /><Content-Language /><Content-MD5>1B2M2Y8AsgTpgAmY7PhCfg==</Content-MD5><Cache-Control\
        \ /><Content-Disposition /><BlobType>BlockBlob</BlobType><LeaseStatus>unlocked</LeaseStatus><LeaseState>available</LeaseState><ServerEncrypted>true</ServerEncrypted></Properties></Blob><Blob><Name>fileuploadout.txt</Name><Properties><Last-Modified>Thu,\
        \ 30 Aug 2018 22:03:05 GMT</Last-Modified><Etag>0x8D60EC45CCA7BA6</Etag><Content-Length>411</Content-Length><Content-Type>application/octet-stream</Content-Type><Content-Encoding\
        \ /><Content-Language /><Content-MD5>9L3J39q5gCSNahfVc3kzvA==</Content-MD5><Cache-Control\
        \ /><Content-Disposition /><BlobType>BlockBlob</BlobType><LeaseStatus>unlocked</LeaseStatus><LeaseState>available</LeaseState><ServerEncrypted>true</ServerEncrypted></Properties></Blob><Blob><Name>stderr.txt</Name><Properties><Last-Modified>Thu,\
        \ 30 Aug 2018 22:03:05 GMT</Last-Modified><Etag>0x8D60EC45CCC29BB</Etag><Content-Length>0</Content-Length><Content-Type>application/octet-stream</Content-Type><Content-Encoding\
        \ /><Content-Language /><Content-MD5>1B2M2Y8AsgTpgAmY7PhCfg==</Content-MD5><Cache-Control\
        \ /><Content-Disposition /><BlobType>BlockBlob</BlobType><LeaseStatus>unlocked</LeaseStatus><LeaseState>available</LeaseState><ServerEncrypted>true</ServerEncrypted></Properties></Blob><Blob><Name>stdout.txt</Name><Properties><Last-Modified>Thu,\
        \ 30 Aug 2018 22:03:05 GMT</Last-Modified><Etag>0x8D60EC45CCD89A5</Etag><Content-Length>4</Content-Length><Content-Type>application/octet-stream</Content-Type><Content-Encoding\
        \ /><Content-Language /><Content-MD5>CY9rzUYh03PK3k6DJie09g==</Content-MD5><Cache-Control\
        \ /><Content-Disposition /><BlobType>BlockBlob</BlobType><LeaseStatus>unlocked</LeaseStatus><LeaseState>available</LeaseState><ServerEncrypted>true</ServerEncrypted></Properties></Blob></Blobs><NextMarker\
        \ /></EnumerationResults>"}
    headers:
      Content-Type: [application/xml]
      Date: ['Fri, 31 Aug 2018 16:31:40 GMT']
      Server: [Windows-Azure-Blob/1.0 Microsoft-HTTPAPI/2.0]
      Transfer-Encoding: [chunked]
      x-ms-version: ['2017-07-29']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Connection: [keep-alive]
      Content-Length: ['0']
      User-Agent: [Azure-Storage/1.1.0-1.1.0 (Python CPython 3.6.5; Windows 10)]
      x-ms-client-request-id: [57247018-ad3b-11e8-9856-44032c851683]
      x-ms-date: ['Fri, 31 Aug 2018 16:31:41 GMT']
      x-ms-version: ['2017-07-29']
    method: DELETE
    uri: https://testaccountforbatch.blob.core.windows.net/fgrp-output/fileuploaderr.txt
  response:
    body: {string: ''}
    headers:
      Date: ['Fri, 31 Aug 2018 16:31:40 GMT']
      Server: [Windows-Azure-Blob/1.0 Microsoft-HTTPAPI/2.0]
      Transfer-Encoding: [chunked]
      x-ms-delete-type-permanent: ['true']
      x-ms-version: ['2017-07-29']
    status: {code: 202, message: Accepted}
- request:
    body: null
    headers:
      Connection: [keep-alive]
      Content-Length: ['0']
      User-Agent: [Azure-Storage/1.1.0-1.1.0 (Python CPython 3.6.5; Windows 10)]
      x-ms-client-request-id: [57345d90-ad3b-11e8-b6ae-44032c851683]
      x-ms-date: ['Fri, 31 Aug 2018 16:31:41 GMT']
      x-ms-version: ['2017-07-29']
    method: DELETE
    uri: https://testaccountforbatch.blob.core.windows.net/fgrp-output/fileuploadout.txt
  response:
    body: {string: ''}
    headers:
      Date: ['Fri, 31 Aug 2018 16:31:40 GMT']
      Server: [Windows-Azure-Blob/1.0 Microsoft-HTTPAPI/2.0]
      Transfer-Encoding: [chunked]
      x-ms-delete-type-permanent: ['true']
      x-ms-version: ['2017-07-29']
    status: {code: 202, message: Accepted}
- request:
    body: null
    headers:
      Connection: [keep-alive]
      Content-Length: ['0']
      User-Agent: [Azure-Storage/1.1.0-1.1.0 (Python CPython 3.6.5; Windows 10)]
      x-ms-client-request-id: [5744351c-ad3b-11e8-8c64-44032c851683]
      x-ms-date: ['Fri, 31 Aug 2018 16:31:41 GMT']
      x-ms-version: ['2017-07-29']
    method: DELETE
    uri: https://testaccountforbatch.blob.core.windows.net/fgrp-output/stderr.txt
  response:
    body: {string: ''}
    headers:
      Date: ['Fri, 31 Aug 2018 16:31:40 GMT']
      Server: [Windows-Azure-Blob/1.0 Microsoft-HTTPAPI/2.0]
      Transfer-Encoding: [chunked]
      x-ms-delete-type-permanent: ['true']
      x-ms-version: ['2017-07-29']
    status: {code: 202, message: Accepted}
- request:
    body: null
    headers:
      Connection: [keep-alive]
      Content-Length: ['0']
      User-Agent: [Azure-Storage/1.1.0-1.1.0 (Python CPython 3.6.5; Windows 10)]
      x-ms-client-request-id: [5753a8b8-ad3b-11e8-943d-44032c851683]
      x-ms-date: ['Fri, 31 Aug 2018 16:31:41 GMT']
      x-ms-version: ['2017-07-29']
    method: DELETE
    uri: https://testaccountforbatch.blob.core.windows.net/fgrp-output/stdout.txt
  response:
    body: {string: ''}
    headers:
      Date: ['Fri, 31 Aug 2018 16:31:40 GMT']
      Server: [Windows-Azure-Blob/1.0 Microsoft-HTTPAPI/2.0]
      Transfer-Encoding: [chunked]
      x-ms-delete-type-permanent: ['true']
      x-ms-version: ['2017-07-29']
    status: {code: 202, message: Accepted}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.5.0 azure-batch/5.0.0 Azure-SDK-For-Python batchextensionsclient/4.0.0]
      accept-language: [en-US]
      client-request-id: [57637e6c-ad3b-11e8-8e66-44032c851683]
      ocp-date: ['Fri, 31 Aug 2018 16:31:41 GMT']
    method: GET
    uri: https://test1.westus.batch.azure.com/nodeagentskus?api-version=2018-08-01.7.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#nodeagentskus\"\
        ,\"value\":[\r\n    {\r\n      \"id\":\"batch.node.centos 7\",\"verifiedImageReferences\"\
        :[\r\n        {\r\n          \"publisher\":\"OpenLogic\",\"offer\":\"CentOS\"\
        ,\"sku\":\"7.5\",\"version\":\"latest\"\r\n        },{\r\n          \"publisher\"\
        :\"OpenLogic\",\"offer\":\"CentOS-HPC\",\"sku\":\"7.4\",\"version\":\"latest\"\
        \r\n        },{\r\n          \"publisher\":\"OpenLogic\",\"offer\":\"CentOS-HPC\"\
        ,\"sku\":\"7.3\",\"version\":\"latest\"\r\n        },{\r\n          \"publisher\"\
        :\"OpenLogic\",\"offer\":\"CentOS-HPC\",\"sku\":\"7.1\",\"version\":\"latest\"\
        \r\n        },{\r\n          \"publisher\":\"Oracle\",\"offer\":\"Oracle-Linux\"\
        ,\"sku\":\"7.4\",\"version\":\"latest\"\r\n        },{\r\n          \"publisher\"\
        :\"microsoft-ads\",\"offer\":\"linux-data-science-vm\",\"sku\":\"linuxdsvm\"\
        ,\"version\":\"latest\"\r\n        },{\r\n          \"publisher\":\"batch\"\
        ,\"offer\":\"rendering-centos73\",\"sku\":\"rendering\",\"version\":\"latest\"\
        \r\n        },{\r\n          \"publisher\":\"microsoft-azure-batch\",\"offer\"\
        :\"centos-container\",\"sku\":\"7-5\",\"version\":\"latest\"\r\n        },{\r\
        \n          \"publisher\":\"microsoft-azure-batch\",\"offer\":\"centos-container-rdma\"\
        ,\"sku\":\"7-4\",\"version\":\"latest\"\r\n        }\r\n      ],\"osType\"\
        :\"linux\"\r\n    },{\r\n      \"id\":\"batch.node.debian 8\",\"verifiedImageReferences\"\
        :[\r\n        {\r\n          \"publisher\":\"Credativ\",\"offer\":\"Debian\"\
        ,\"sku\":\"8\",\"version\":\"latest\"\r\n        }\r\n      ],\"osType\":\"\
        linux\"\r\n    },{\r\n      \"id\":\"batch.node.debian 9\",\"verifiedImageReferences\"\
        :[\r\n        {\r\n          \"publisher\":\"Credativ\",\"offer\":\"Debian\"\
        ,\"sku\":\"9\",\"version\":\"latest\"\r\n        }\r\n      ],\"osType\":\"\
        linux\"\r\n    },{\r\n      \"id\":\"batch.node.ubuntu 14.04\",\"verifiedImageReferences\"\
        :[\r\n        {\r\n          \"publisher\":\"Canonical\",\"offer\":\"UbuntuServer\"\
        ,\"sku\":\"14.04.5-LTS\",\"version\":\"latest\"\r\n        }\r\n      ],\"\
        osType\":\"linux\"\r\n    },{\r\n      \"id\":\"batch.node.ubuntu 16.04\"\
        ,\"verifiedImageReferences\":[\r\n        {\r\n          \"publisher\":\"\
        Canonical\",\"offer\":\"UbuntuServer\",\"sku\":\"16.04-LTS\",\"version\":\"\
        latest\"\r\n        },{\r\n          \"publisher\":\"microsoft-dsvm\",\"offer\"\
        :\"linux-data-science-vm-ubuntu\",\"sku\":\"linuxdsvmubuntu\",\"version\"\
        :\"latest\"\r\n        },{\r\n          \"publisher\":\"microsoft-azure-batch\"\
        ,\"offer\":\"ubuntu-server-container\",\"sku\":\"16-04-lts\",\"version\":\"\
        latest\"\r\n        },{\r\n          \"publisher\":\"microsoft-azure-batch\"\
        ,\"offer\":\"ubuntu-server-container-rdma\",\"sku\":\"16-04-lts\",\"version\"\
        :\"latest\"\r\n        }\r\n      ],\"osType\":\"linux\"\r\n    },{\r\n  \
        \    \"id\":\"batch.node.ubuntu 18.04\",\"verifiedImageReferences\":[\r\n\
        \        {\r\n          \"publisher\":\"Canonical\",\"offer\":\"UbuntuServer\"\
        ,\"sku\":\"18.04-LTS\",\"version\":\"latest\"\r\n        }\r\n      ],\"osType\"\
        :\"linux\"\r\n    },{\r\n      \"id\":\"batch.node.windows amd64\",\"verifiedImageReferences\"\
        :[\r\n        {\r\n          \"publisher\":\"MicrosoftWindowsServer\",\"offer\"\
        :\"WindowsServer\",\"sku\":\"2008-R2-SP1\",\"version\":\"latest\"\r\n    \
        \    },{\r\n          \"publisher\":\"MicrosoftWindowsServer\",\"offer\":\"\
        WindowsServer\",\"sku\":\"2008-R2-SP1-smalldisk\",\"version\":\"latest\"\r\
        \n        },{\r\n          \"publisher\":\"MicrosoftWindowsServer\",\"offer\"\
        :\"WindowsServer\",\"sku\":\"2012-Datacenter\",\"version\":\"latest\"\r\n\
        \        },{\r\n          \"publisher\":\"MicrosoftWindowsServer\",\"offer\"\
        :\"WindowsServer\",\"sku\":\"2012-Datacenter-smalldisk\",\"version\":\"latest\"\
        \r\n        },{\r\n          \"publisher\":\"MicrosoftWindowsServer\",\"offer\"\
        :\"WindowsServer\",\"sku\":\"2012-R2-Datacenter\",\"version\":\"latest\"\r\
        \n        },{\r\n          \"publisher\":\"MicrosoftWindowsServer\",\"offer\"\
        :\"WindowsServer\",\"sku\":\"2012-R2-Datacenter-smalldisk\",\"version\":\"\
        latest\"\r\n        },{\r\n          \"publisher\":\"MicrosoftWindowsServer\"\
        ,\"offer\":\"WindowsServer\",\"sku\":\"2016-Datacenter\",\"version\":\"latest\"\
        \r\n        },{\r\n          \"publisher\":\"MicrosoftWindowsServer\",\"offer\"\
        :\"WindowsServer\",\"sku\":\"2016-Datacenter-smalldisk\",\"version\":\"latest\"\
        \r\n        },{\r\n          \"publisher\":\"MicrosoftWindowsServer\",\"offer\"\
        :\"WindowsServer\",\"sku\":\"2016-Datacenter-with-Containers\",\"version\"\
        :\"latest\"\r\n        },{\r\n          \"publisher\":\"microsoft-dsvm\",\"\
        offer\":\"dsvm-windows\",\"sku\":\"server-2016\",\"version\":\"latest\"\r\n\
        \        },{\r\n          \"publisher\":\"batch\",\"offer\":\"rendering-windows2016\"\
        ,\"sku\":\"rendering\",\"version\":\"latest\"\r\n        }\r\n      ],\"osType\"\
        :\"windows\"\r\n    }\r\n  ]\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Fri, 31 Aug 2018 16:31:41 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [cb41a4ac-7392-439d-b32e-22082979e9c5]
    status: {code: 200, message: OK}
- request:
    body: '{"id": "ncj-ubuntu1404", "vmSize": "STANDARD_D1_V2", "virtualMachineConfiguration":
      {"imageReference": {"publisher": "Canonical", "offer": "UbuntuServer", "sku":
      "14.04.5-LTS"}, "nodeAgentSKUId": "batch.node.ubuntu 14.04"}, "targetDedicatedNodes":
      1}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['250']
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.5.0 azure-batch/5.0.0 Azure-SDK-For-Python batchextensionsclient/4.0.0]
      accept-language: [en-US]
      client-request-id: [579ea1dc-ad3b-11e8-9f45-44032c851683]
      ocp-date: ['Fri, 31 Aug 2018 16:31:41 GMT']
    method: POST
    uri: https://test1.westus.batch.azure.com/pools?api-version=2018-08-01.7.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#Microsoft.Azure.Batch.Protocol.Entities.Container.errors/@Element\"\
        ,\"code\":\"PoolExists\",\"message\":{\r\n    \"lang\":\"en-US\",\"value\"\
        :\"The specified pool already exists.\\nRequestId:2ce4af44-e300-4658-a9db-2529918b9ea6\\\
        nTime:2018-08-31T16:31:42.2883887Z\"\r\n  }\r\n}"}
    headers:
      Content-Length: ['328']
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Fri, 31 Aug 2018 16:31:41 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      X-Content-Type-Options: [nosniff]
      request-id: [2ce4af44-e300-4658-a9db-2529918b9ea6]
    status: {code: 409, message: The specified pool already exists.}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.5.0 azure-batch/5.0.0 Azure-SDK-For-Python batchextensionsclient/4.0.0]
      accept-language: [en-US]
      client-request-id: [57dc308a-ad3b-11e8-9fba-44032c851683]
      ocp-date: ['Fri, 31 Aug 2018 16:31:42 GMT']
    method: GET
    uri: https://test1.westus.batch.azure.com/pools/ncj-ubuntu1404?api-version=2018-08-01.7.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#pools/@Element\"\
        ,\"id\":\"ncj-ubuntu1404\",\"url\":\"https://test1.westus.batch.azure.com/pools/ncj-ubuntu1404\"\
        ,\"eTag\":\"0x8D60E9AFA44B9BC\",\"lastModified\":\"2018-08-30T17:06:50.6064316Z\"\
        ,\"creationTime\":\"2018-08-30T17:06:50.6064316Z\",\"state\":\"active\",\"\
        stateTransitionTime\":\"2018-08-30T17:06:50.6064316Z\",\"allocationState\"\
        :\"steady\",\"allocationStateTransitionTime\":\"2018-08-30T17:08:56.0054463Z\"\
        ,\"vmSize\":\"standard_d1_v2\",\"resizeTimeout\":\"PT15M\",\"currentDedicatedNodes\"\
        :1,\"targetDedicatedNodes\":1,\"currentLowPriorityNodes\":0,\"targetLowPriorityNodes\"\
        :0,\"enableAutoScale\":false,\"enableInterNodeCommunication\":false,\"maxTasksPerNode\"\
        :1,\"taskSchedulingPolicy\":{\r\n    \"nodeFillType\":\"Spread\"\r\n  },\"\
        virtualMachineConfiguration\":{\r\n    \"imageReference\":{\r\n      \"publisher\"\
        :\"Canonical\",\"offer\":\"UbuntuServer\",\"sku\":\"14.04.5-LTS\",\"version\"\
        :\"latest\"\r\n    },\"nodeAgentSKUId\":\"batch.node.ubuntu 14.04\"\r\n  }\r\
        \n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Fri, 31 Aug 2018 16:31:42 GMT']
      ETag: ['0x8D60E9AFA44B9BC']
      Last-Modified: ['Thu, 30 Aug 2018 17:06:50 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [160f4a8b-67b2-4a4c-8273-4b27871c1eb7]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.5.0 azure-batch/5.0.0 Azure-SDK-For-Python batchextensionsclient/4.0.0]
      accept-language: [en-US]
      client-request-id: [58157ce2-ad3b-11e8-afa1-44032c851683]
      ocp-date: ['Fri, 31 Aug 2018 16:31:42 GMT']
    method: GET
    uri: https://test1.westus.batch.azure.com/pools/ncj-ubuntu1404/nodes?api-version=2018-08-01.7.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#nodes\"\
        ,\"value\":[\r\n    {\r\n      \"id\":\"tvm-2487789449_1-20180830t170855z\"\
        ,\"url\":\"https://test1.westus.batch.azure.com/pools/ncj-ubuntu1404/nodes/tvm-2487789449_1-20180830t170855z\"\
        ,\"state\":\"idle\",\"schedulingState\":\"enabled\",\"stateTransitionTime\"\
        :\"2018-08-31T16:31:27.443022Z\",\"lastBootTime\":\"2018-08-30T17:09:11.451508Z\"\
        ,\"allocationTime\":\"2018-08-30T17:08:55.2748194Z\",\"ipAddress\":\"10.0.0.4\"\
        ,\"affinityId\":\"TVM:tvm-2487789449_1-20180830t170855z\",\"vmSize\":\"standard_d1_v2\"\
        ,\"totalTasksRun\":35,\"totalTasksSucceeded\":35,\"runningTasksCount\":0,\"\
        recentTasks\":[\r\n        {\r\n          \"taskUrl\":\"https://test1.westus.batch.azure.com/jobs/ncj-ubuntu1404/tasks/myTask\"\
        ,\"jobId\":\"ncj-ubuntu1404\",\"taskId\":\"myTask\",\"taskState\":\"completed\"\
        ,\"executionInfo\":{\r\n            \"startTime\":\"2018-08-31T16:31:26.711551Z\"\
        ,\"endTime\":\"2018-08-31T16:31:27.410342Z\",\"exitCode\":0,\"result\":\"\
        Success\",\"retryCount\":0,\"requeueCount\":0\r\n          }\r\n        }\r\
        \n      ],\"isDedicated\":true,\"endpointConfiguration\":{\r\n        \"inboundEndpoints\"\
        :[\r\n          {\r\n            \"name\":\"SSHRule.0\",\"protocol\":\"tcp\"\
        ,\"publicIPAddress\":\"40.70.213.124\",\"publicFQDN\":\"dnsf372daf0-42f6-475a-9089-b6607f934ed7-azurebatch-cloudservice.westus.cloudapp.azure.com\"\
        ,\"frontendPort\":50000,\"backendPort\":22\r\n          }\r\n        ]\r\n\
        \      },\"nodeAgentInfo\":{\r\n        \"lastUpdateTime\":\"2018-08-30T17:09:11.451508Z\"\
        ,\"version\":\"1.3.0.9\"\r\n      }\r\n    }\r\n  ]\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Fri, 31 Aug 2018 16:31:43 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [7d57b481-8f10-4d3f-a6ac-9f231250924d]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.5.0 batchmanagementclient/4.1.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      x-ms-client-request-id: [5868f610-ad3b-11e8-8a5f-44032c851683]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Batch/batchAccounts?api-version=2017-05-01
  response:
    body: {string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/test_rg/providers/Microsoft.Batch/batchAccounts/test1","name":"test1","type":"Microsoft.Batch/batchAccounts","location":"westus","properties":{"accountEndpoint":"test1.westus.batch.azure.com","provisioningState":"Succeeded","dedicatedCoreQuota":20,"lowPriorityCoreQuota":100,"poolQuota":100,"activeJobAndJobScheduleQuota":300,"autoStorage":{"storageAccountId":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/test_rg/providers/Microsoft.Storage/storageAccounts/testaccountforbatch","lastKeySync":"2018-08-27T21:09:28.1417679Z"},"poolAllocationMode":"batchservice"}}]}'}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Fri, 31 Aug 2018 16:31:43 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      Vary: [Accept-Encoding]
      X-Content-Type-Options: [nosniff]
      content-length: ['672']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.5.0 azure-mgmt-storage/1.5.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      x-ms-client-request-id: [58c07736-ad3b-11e8-aeee-44032c851683]
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/test_rg/providers/Microsoft.Storage/storageAccounts/testaccountforbatch/listKeys?api-version=2017-10-01
  response:
    body: {string: '{"keys":[{"keyName":"key1","value":"abc==","permissions":"FULL"},{"keyName":"key2","value":"abc==","permissions":"FULL"}]}'}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json]
      Date: ['Fri, 31 Aug 2018 16:31:43 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: ['Microsoft-Azure-Storage-Resource-Provider/1.0,Microsoft-HTTPAPI/2.0
          Microsoft-HTTPAPI/2.0']
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      Vary: [Accept-Encoding]
      X-Content-Type-Options: [nosniff]
      content-length: ['288']
      x-ms-ratelimit-remaining-subscription-writes: ['1199']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Connection: [keep-alive]
      Content-Length: ['0']
      User-Agent: [Azure-Storage/1.1.0-1.1.0 (Python CPython 3.6.5; Windows 10)]
      x-ms-client-request-id: [5908b4d2-ad3b-11e8-a1d9-44032c851683]
      x-ms-date: ['Fri, 31 Aug 2018 16:31:44 GMT']
      x-ms-version: ['2017-07-29']
    method: PUT
    uri: https://testaccountforbatch.blob.core.windows.net/fgrp-output?restype=container
  response:
    body: {string: "\uFEFF<?xml version=\"1.0\" encoding=\"utf-8\"?><Error><Code>ContainerAlreadyExists</Code><Message>The\
        \ specified container already exists.\nRequestId:2cd0bd14-d01e-002b-2f48-41c2ae000000\n\
        Time:2018-08-31T16:31:44.6550148Z</Message></Error>"}
    headers:
      Content-Length: ['230']
      Content-Type: [application/xml]
      Date: ['Fri, 31 Aug 2018 16:31:44 GMT']
      Server: [Windows-Azure-Blob/1.0 Microsoft-HTTPAPI/2.0]
      x-ms-error-code: [ContainerAlreadyExists]
      x-ms-version: ['2017-07-29']
    status: {code: 409, message: The specified container already exists.}
- request:
    body: '{"id": "ncj-ubuntu1404-1", "poolInfo": {"poolId": "ncj-ubuntu1404"}}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['68']
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.5.0 azure-batch/5.0.0 Azure-SDK-For-Python batchextensionsclient/4.0.0]
      accept-language: [en-US]
      client-request-id: [5942d7fa-ad3b-11e8-9366-44032c851683]
      return-client-request-id: ['false']
    method: POST
    uri: https://test1.westus.batch.azure.com/jobs?api-version=2018-08-01.7.0&timeout=30
  response:
    body: {string: ''}
    headers:
      DataServiceId: ['https://test1.westus.batch.azure.com/jobs/job-1']
      DataServiceVersion: ['3.0']
      Date: ['Fri, 31 Aug 2018 16:31:45 GMT']
      ETag: ['0x8D60F5F3DDE40A6']
      Last-Modified: ['Fri, 31 Aug 2018 16:31:45 GMT']
      Location: ['https://test1.westus.batch.azure.com/jobs/job-1']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [7befa130-c7bf-4954-828d-94755fd24594]
    status: {code: 201, message: Created}
- request:
    body: '{"value": [{"id": "myTask", "commandLine": "/bin/bash -c \"echo test\"",
      "outputFiles": [{"filePattern": "$AZ_BATCH_TASK_DIR/*.txt", "destination": {"container":
      {"containerUrl": "https://testaccountforbatch.blob.core.windows.net:443/aaatestcontainer"}},
      "uploadOptions": {"uploadCondition": "tasksuccess"}}], "constraints": {"retentionTime":
      "PT1H"}}]}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['468']
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.5.0 azure-batch/5.0.0 Azure-SDK-For-Python batchextensionsclient/4.0.0]
      accept-language: [en-US]
      client-request-id: [59b19f30-ad3b-11e8-a09f-44032c851683]
    method: POST
    uri: https://test1.westus.batch.azure.com/jobs/ncj-ubuntu1404-1/addtaskcollection?api-version=2018-08-01.7.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#taskaddresult\"\
        ,\"value\":[\r\n    {\r\n      \"status\":\"Success\",\"taskId\":\"myTask\"\
        ,\"eTag\":\"0x8D60F5F3E6F5BD3\",\"lastModified\":\"2018-08-31T16:31:46.3299027Z\"\
        ,\"location\":\"https://test1.westus.batch.azure.com/jobs/ncj-ubuntu1404-1/tasks/myTask\"\
        \r\n    }\r\n  ]\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Fri, 31 Aug 2018 16:31:45 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [b908b69e-519e-4c4e-856f-d902a4e38b11]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.5.0 azure-batch/5.0.0 Azure-SDK-For-Python batchextensionsclient/4.0.0]
      accept-language: [en-US]
      client-request-id: [5a4c8124-ad3b-11e8-a5cd-44032c851683]
      ocp-date: ['Fri, 31 Aug 2018 16:31:46 GMT']
    method: GET
    uri: https://test1.westus.batch.azure.com/jobs/ncj-ubuntu1404-1?api-version=2018-08-01.7.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#jobs/@Element\"\
        ,\"id\":\"ncj-ubuntu1404-1\",\"url\":\"https://test1.westus.batch.azure.com/jobs/ncj-ubuntu1404-1\"\
        ,\"eTag\":\"0x8D60F5F3DDE40A6\",\"lastModified\":\"2018-08-31T16:31:45.378935Z\"\
        ,\"creationTime\":\"2018-08-31T16:31:45.3595954Z\",\"state\":\"active\",\"\
        stateTransitionTime\":\"2018-08-31T16:31:45.378935Z\",\"priority\":0,\"usesTaskDependencies\"\
        :false,\"constraints\":{\r\n    \"maxWallClockTime\":\"P10675199DT2H48M5.4775807S\"\
        ,\"maxTaskRetryCount\":0\r\n  },\"poolInfo\":{\r\n    \"poolId\":\"ncj-ubuntu1404\"\
        \r\n  },\"executionInfo\":{\r\n    \"startTime\":\"2018-08-31T16:31:45.378935Z\"\
        ,\"poolId\":\"ncj-ubuntu1404\"\r\n  },\"onAllTasksComplete\":\"noaction\"\
        ,\"onTaskFailure\":\"noaction\"\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Fri, 31 Aug 2018 16:31:46 GMT']
      ETag: ['0x8D60F5F3DDE40A6']
      Last-Modified: ['Fri, 31 Aug 2018 16:31:45 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [ce86eff2-b9e9-436e-b690-c1b854875b66]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.5.0 azure-batch/5.0.0 Azure-SDK-For-Python batchextensionsclient/4.0.0]
      accept-language: [en-US]
      client-request-id: [5a88158c-ad3b-11e8-840b-44032c851683]
      ocp-date: ['Fri, 31 Aug 2018 16:31:46 GMT']
    method: GET
    uri: https://test1.westus.batch.azure.com/jobs/ncj-ubuntu1404-1/tasks?api-version=2018-08-01.7.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#tasks\"\
        ,\"value\":[\r\n    {\r\n      \"id\":\"myTask\",\"url\":\"https://test1.westus.batch.azure.com/jobs/ncj-ubuntu1404-1/tasks/myTask\"\
        ,\"eTag\":\"0x8D60F5F3E6F5BD3\",\"creationTime\":\"2018-08-31T16:31:46.3299027Z\"\
        ,\"lastModified\":\"2018-08-31T16:31:46.3299027Z\",\"state\":\"running\",\"\
        stateTransitionTime\":\"2018-08-31T16:31:46.587165Z\",\"previousState\":\"\
        active\",\"previousStateTransitionTime\":\"2018-08-31T16:31:46.3299027Z\"\
        ,\"commandLine\":\"/bin/bash -c \\\"echo test\\\"\",\"outputFiles\":[\r\n\
        \        {\r\n          \"filePattern\":\"$AZ_BATCH_TASK_DIR/*.txt\",\"destination\"\
        :{\r\n            \"container\":{\r\n              \"containerUrl\":\"https://testaccountforbatch.blob.core.windows.net:443/aaatestcontainer\"\
        \r\n            }\r\n          },\"uploadOptions\":{\r\n            \"uploadCondition\"\
        :\"TaskSuccess\"\r\n          }\r\n        }\r\n      ],\"userIdentity\":{\r\
        \n        \"autoUser\":{\r\n          \"elevationLevel\":\"nonadmin\"\r\n\
        \        }\r\n      },\"constraints\":{\r\n        \"maxWallClockTime\":\"\
        P10675199DT2H48M5.4775807S\",\"retentionTime\":\"PT1H\",\"maxTaskRetryCount\"\
        :0\r\n      },\"executionInfo\":{\r\n        \"startTime\":\"2018-08-31T16:31:46.587256Z\"\
        ,\"retryCount\":0,\"requeueCount\":0\r\n      },\"nodeInfo\":{\r\n       \
        \ \"affinityId\":\"TVM:tvm-2487789449_1-20180830t170855z\",\"nodeUrl\":\"\
        https://test1.westus.batch.azure.com/pools/ncj-ubuntu1404/nodes/tvm-2487789449_1-20180830t170855z\"\
        ,\"poolId\":\"ncj-ubuntu1404\",\"nodeId\":\"tvm-2487789449_1-20180830t170855z\"\
        ,\"taskRootDirectory\":\"workitems/ncj-ubuntu1404-1/job-1/myTask\",\"taskRootDirectoryUrl\"\
        :\"https://test1.westus.batch.azure.com/pools/ncj-ubuntu1404/nodes/tvm-2487789449_1-20180830t170855z/files/workitems/ncj-ubuntu1404-1/job-1/myTask\"\
        \r\n      }\r\n    }\r\n  ]\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Fri, 31 Aug 2018 16:31:47 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [f73f1b99-4aa5-4b93-98ce-287d2b151c8d]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.5.0 azure-batch/5.0.0 Azure-SDK-For-Python batchextensionsclient/4.0.0]
      accept-language: [en-US]
      client-request-id: [5c8ed494-ad3b-11e8-82e2-44032c851683]
      ocp-date: ['Fri, 31 Aug 2018 16:31:50 GMT']
    method: GET
    uri: https://test1.westus.batch.azure.com/jobs/ncj-ubuntu1404-1/tasks?api-version=2018-08-01.7.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#tasks\"\
        ,\"value\":[\r\n    {\r\n      \"id\":\"myTask\",\"url\":\"https://test1.westus.batch.azure.com/jobs/ncj-ubuntu1404-1/tasks/myTask\"\
        ,\"eTag\":\"0x8D60F5F3E6F5BD3\",\"creationTime\":\"2018-08-31T16:31:46.3299027Z\"\
        ,\"lastModified\":\"2018-08-31T16:31:46.3299027Z\",\"state\":\"completed\"\
        ,\"stateTransitionTime\":\"2018-08-31T16:31:47.170692Z\",\"previousState\"\
        :\"running\",\"previousStateTransitionTime\":\"2018-08-31T16:31:46.587165Z\"\
        ,\"commandLine\":\"/bin/bash -c \\\"echo test\\\"\",\"outputFiles\":[\r\n\
        \        {\r\n          \"filePattern\":\"$AZ_BATCH_TASK_DIR/*.txt\",\"destination\"\
        :{\r\n            \"container\":{\r\n              \"containerUrl\":\"https://testaccountforbatch.blob.core.windows.net:443/aaatestcontainer\"\
        \r\n            }\r\n          },\"uploadOptions\":{\r\n            \"uploadCondition\"\
        :\"TaskSuccess\"\r\n          }\r\n        }\r\n      ],\"userIdentity\":{\r\
        \n        \"autoUser\":{\r\n          \"elevationLevel\":\"nonadmin\"\r\n\
        \        }\r\n      },\"constraints\":{\r\n        \"maxWallClockTime\":\"\
        P10675199DT2H48M5.4775807S\",\"retentionTime\":\"PT1H\",\"maxTaskRetryCount\"\
        :0\r\n      },\"executionInfo\":{\r\n        \"startTime\":\"2018-08-31T16:31:46.587256Z\"\
        ,\"endTime\":\"2018-08-31T16:31:47.170692Z\",\"exitCode\":0,\"result\":\"\
        Success\",\"retryCount\":0,\"requeueCount\":0\r\n      },\"nodeInfo\":{\r\n\
        \        \"affinityId\":\"TVM:tvm-2487789449_1-20180830t170855z\",\"nodeUrl\"\
        :\"https://test1.westus.batch.azure.com/pools/ncj-ubuntu1404/nodes/tvm-2487789449_1-20180830t170855z\"\
        ,\"poolId\":\"ncj-ubuntu1404\",\"nodeId\":\"tvm-2487789449_1-20180830t170855z\"\
        ,\"taskRootDirectory\":\"workitems/ncj-ubuntu1404-1/job-1/myTask\",\"taskRootDirectoryUrl\"\
        :\"https://test1.westus.batch.azure.com/pools/ncj-ubuntu1404/nodes/tvm-2487789449_1-20180830t170855z/files/workitems/ncj-ubuntu1404-1/job-1/myTask\"\
        \r\n      }\r\n    }\r\n  ]\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Fri, 31 Aug 2018 16:31:50 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [d36c25ee-1be3-4e9b-a174-a2ee3fab2607]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.5.0 azure-batch/5.0.0 Azure-SDK-For-Python batchextensionsclient/4.0.0]
      accept-language: [en-US]
      client-request-id: [5ccdd9e6-ad3b-11e8-8452-44032c851683]
      ocp-date: ['Fri, 31 Aug 2018 16:31:50 GMT']
    method: GET
    uri: https://test1.westus.batch.azure.com/jobs/ncj-ubuntu1404-1/tasks/myTask?api-version=2018-08-01.7.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#tasks/@Element\"\
        ,\"id\":\"myTask\",\"url\":\"https://test1.westus.batch.azure.com/jobs/ncj-ubuntu1404-1/tasks/myTask\"\
        ,\"eTag\":\"0x8D60F5F3E6F5BD3\",\"creationTime\":\"2018-08-31T16:31:46.3299027Z\"\
        ,\"lastModified\":\"2018-08-31T16:31:46.3299027Z\",\"state\":\"completed\"\
        ,\"stateTransitionTime\":\"2018-08-31T16:31:47.170692Z\",\"previousState\"\
        :\"running\",\"previousStateTransitionTime\":\"2018-08-31T16:31:46.587165Z\"\
        ,\"commandLine\":\"/bin/bash -c \\\"echo test\\\"\",\"outputFiles\":[\r\n\
        \    {\r\n      \"filePattern\":\"$AZ_BATCH_TASK_DIR/*.txt\",\"destination\"\
        :{\r\n        \"container\":{\r\n          \"containerUrl\":\"https://testaccountforbatch.blob.core.windows.net:443/aaatestcontainer\"\
        \r\n        }\r\n      },\"uploadOptions\":{\r\n        \"uploadCondition\"\
        :\"TaskSuccess\"\r\n      }\r\n    }\r\n  ],\"userIdentity\":{\r\n    \"autoUser\"\
        :{\r\n      \"elevationLevel\":\"nonadmin\"\r\n    }\r\n  },\"constraints\"\
        :{\r\n    \"maxWallClockTime\":\"P10675199DT2H48M5.4775807S\",\"retentionTime\"\
        :\"PT1H\",\"maxTaskRetryCount\":0\r\n  },\"executionInfo\":{\r\n    \"startTime\"\
        :\"2018-08-31T16:31:46.587256Z\",\"endTime\":\"2018-08-31T16:31:47.170692Z\"\
        ,\"exitCode\":0,\"result\":\"Success\",\"retryCount\":0,\"requeueCount\":0\r\
        \n  },\"nodeInfo\":{\r\n    \"affinityId\":\"TVM:tvm-2487789449_1-20180830t170855z\"\
        ,\"nodeUrl\":\"https://test1.westus.batch.azure.com/pools/ncj-ubuntu1404/nodes/tvm-2487789449_1-20180830t170855z\"\
        ,\"poolId\":\"ncj-ubuntu1404\",\"nodeId\":\"tvm-2487789449_1-20180830t170855z\"\
        ,\"taskRootDirectory\":\"workitems/ncj-ubuntu1404-1/job-1/myTask\",\"taskRootDirectoryUrl\"\
        :\"https://test1.westus.batch.azure.com/pools/ncj-ubuntu1404/nodes/tvm-2487789449_1-20180830t170855z/files/workitems/ncj-ubuntu1404-1/job-1/myTask\"\
        \r\n  }\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Fri, 31 Aug 2018 16:31:50 GMT']
      ETag: ['0x8D60F5F3E6F5BD3']
      Last-Modified: ['Fri, 31 Aug 2018 16:31:46 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [04ba0b03-8364-41f7-93a7-ceaadfb4b862]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Connection: [keep-alive]
      User-Agent: [Azure-Storage/1.1.0-1.1.0 (Python CPython 3.6.5; Windows 10)]
      x-ms-client-request-id: [5d1006a8-ad3b-11e8-8143-44032c851683]
      x-ms-date: ['Fri, 31 Aug 2018 16:31:51 GMT']
      x-ms-version: ['2017-07-29']
    method: GET
    uri: https://testaccountforbatch.blob.core.windows.net/fgrp-output?restype=container&comp=list
  response:
    body: {string: "\uFEFF<?xml version=\"1.0\" encoding=\"utf-8\"?><EnumerationResults\
        \ ServiceEndpoint=\"https://testaccountforbatch.blob.core.windows.net/\" ContainerName=\"\
        fgrp-output\"><Blobs><Blob><Name>fileuploaderr.txt</Name><Properties><Last-Modified>Fri,\
        \ 31 Aug 2018 16:31:47 GMT</Last-Modified><Etag>0x8D60F5F3EDF140A</Etag><Content-Length>0</Content-Length><Content-Type>application/octet-stream</Content-Type><Content-Encoding\
        \ /><Content-Language /><Content-MD5>1B2M2Y8AsgTpgAmY7PhCfg==</Content-MD5><Cache-Control\
        \ /><Content-Disposition /><BlobType>BlockBlob</BlobType><LeaseStatus>unlocked</LeaseStatus><LeaseState>available</LeaseState><ServerEncrypted>true</ServerEncrypted></Properties></Blob><Blob><Name>fileuploadout.txt</Name><Properties><Last-Modified>Fri,\
        \ 31 Aug 2018 16:31:47 GMT</Last-Modified><Etag>0x8D60F5F3EDAA622</Etag><Content-Length>400</Content-Length><Content-Type>application/octet-stream</Content-Type><Content-Encoding\
        \ /><Content-Language /><Content-MD5>8x6AiXBY/1y1RB2TBbPJRQ==</Content-MD5><Cache-Control\
        \ /><Content-Disposition /><BlobType>BlockBlob</BlobType><LeaseStatus>unlocked</LeaseStatus><LeaseState>available</LeaseState><ServerEncrypted>true</ServerEncrypted></Properties></Blob><Blob><Name>stderr.txt</Name><Properties><Last-Modified>Fri,\
        \ 31 Aug 2018 16:31:47 GMT</Last-Modified><Etag>0x8D60F5F3EE3D018</Etag><Content-Length>0</Content-Length><Content-Type>application/octet-stream</Content-Type><Content-Encoding\
        \ /><Content-Language /><Content-MD5>1B2M2Y8AsgTpgAmY7PhCfg==</Content-MD5><Cache-Control\
        \ /><Content-Disposition /><BlobType>BlockBlob</BlobType><LeaseStatus>unlocked</LeaseStatus><LeaseState>available</LeaseState><ServerEncrypted>true</ServerEncrypted></Properties></Blob><Blob><Name>stdout.txt</Name><Properties><Last-Modified>Fri,\
        \ 31 Aug 2018 16:31:47 GMT</Last-Modified><Etag>0x8D60F5F3EE86519</Etag><Content-Length>5</Content-Length><Content-Type>application/octet-stream</Content-Type><Content-Encoding\
        \ /><Content-Language /><Content-MD5>2Oj8otwPiW/Xy0ywAxuiSQ==</Content-MD5><Cache-Control\
        \ /><Content-Disposition /><BlobType>BlockBlob</BlobType><LeaseStatus>unlocked</LeaseStatus><LeaseState>available</LeaseState><ServerEncrypted>true</ServerEncrypted></Properties></Blob></Blobs><NextMarker\
        \ /></EnumerationResults>"}
    headers:
      Content-Type: [application/xml]
      Date: ['Fri, 31 Aug 2018 16:31:50 GMT']
      Server: [Windows-Azure-Blob/1.0 Microsoft-HTTPAPI/2.0]
      Transfer-Encoding: [chunked]
      x-ms-version: ['2017-07-29']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['0']
      User-Agent: [python/3.6.5 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.5.0 azure-batch/5.0.0 Azure-SDK-For-Python batchextensionsclient/4.0.0]
      accept-language: [en-US]
      client-request-id: [5d2bf564-ad3b-11e8-92d2-44032c851683]
      ocp-date: ['Fri, 31 Aug 2018 16:31:51 GMT']
    method: DELETE
    uri: https://test1.westus.batch.azure.com/jobs/ncj-ubuntu1404-1?api-version=2018-08-01.7.0
  response:
    body: {string: ''}
    headers:
      DataServiceVersion: ['3.0']
      Date: ['Fri, 31 Aug 2018 16:31:50 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [af92841e-69f8-47af-b556-b58f96466925]
    status: {code: 202, message: Accepted}
- request:
    body: null
    headers:
      Connection: [keep-alive]
      User-Agent: [Azure-Storage/1.1.0-1.1.0 (Python CPython 3.6.5; Windows 10)]
      x-ms-client-request-id: [5d6a9508-ad3b-11e8-87bb-44032c851683]
      x-ms-date: ['Fri, 31 Aug 2018 16:31:51 GMT']
      x-ms-version: ['2017-07-29']
    method: GET
    uri: https://testaccountforbatch.blob.core.windows.net/fgrp-output?restype=container&comp=list
  response:
    body: {string: "\uFEFF<?xml version=\"1.0\" encoding=\"utf-8\"?><EnumerationResults\
        \ ServiceEndpoint=\"https://testaccountforbatch.blob.core.windows.net/\" ContainerName=\"\
        fgrp-output\"><Blobs><Blob><Name>fileuploaderr.txt</Name><Properties><Last-Modified>Fri,\
        \ 31 Aug 2018 16:31:47 GMT</Last-Modified><Etag>0x8D60F5F3EDF140A</Etag><Content-Length>0</Content-Length><Content-Type>application/octet-stream</Content-Type><Content-Encoding\
        \ /><Content-Language /><Content-MD5>1B2M2Y8AsgTpgAmY7PhCfg==</Content-MD5><Cache-Control\
        \ /><Content-Disposition /><BlobType>BlockBlob</BlobType><LeaseStatus>unlocked</LeaseStatus><LeaseState>available</LeaseState><ServerEncrypted>true</ServerEncrypted></Properties></Blob><Blob><Name>fileuploadout.txt</Name><Properties><Last-Modified>Fri,\
        \ 31 Aug 2018 16:31:47 GMT</Last-Modified><Etag>0x8D60F5F3EDAA622</Etag><Content-Length>400</Content-Length><Content-Type>application/octet-stream</Content-Type><Content-Encoding\
        \ /><Content-Language /><Content-MD5>8x6AiXBY/1y1RB2TBbPJRQ==</Content-MD5><Cache-Control\
        \ /><Content-Disposition /><BlobType>BlockBlob</BlobType><LeaseStatus>unlocked</LeaseStatus><LeaseState>available</LeaseState><ServerEncrypted>true</ServerEncrypted></Properties></Blob><Blob><Name>stderr.txt</Name><Properties><Last-Modified>Fri,\
        \ 31 Aug 2018 16:31:47 GMT</Last-Modified><Etag>0x8D60F5F3EE3D018</Etag><Content-Length>0</Content-Length><Content-Type>application/octet-stream</Content-Type><Content-Encoding\
        \ /><Content-Language /><Content-MD5>1B2M2Y8AsgTpgAmY7PhCfg==</Content-MD5><Cache-Control\
        \ /><Content-Disposition /><BlobType>BlockBlob</BlobType><LeaseStatus>unlocked</LeaseStatus><LeaseState>available</LeaseState><ServerEncrypted>true</ServerEncrypted></Properties></Blob><Blob><Name>stdout.txt</Name><Properties><Last-Modified>Fri,\
        \ 31 Aug 2018 16:31:47 GMT</Last-Modified><Etag>0x8D60F5F3EE86519</Etag><Content-Length>5</Content-Length><Content-Type>application/octet-stream</Content-Type><Content-Encoding\
        \ /><Content-Language /><Content-MD5>2Oj8otwPiW/Xy0ywAxuiSQ==</Content-MD5><Cache-Control\
        \ /><Content-Disposition /><BlobType>BlockBlob</BlobType><LeaseStatus>unlocked</LeaseStatus><LeaseState>available</LeaseState><ServerEncrypted>true</ServerEncrypted></Properties></Blob></Blobs><NextMarker\
        \ /></EnumerationResults>"}
    headers:
      Content-Type: [application/xml]
      Date: ['Fri, 31 Aug 2018 16:31:50 GMT']
      Server: [Windows-Azure-Blob/1.0 Microsoft-HTTPAPI/2.0]
      Transfer-Encoding: [chunked]
      x-ms-version: ['2017-07-29']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Connection: [keep-alive]
      Content-Length: ['0']
      User-Agent: [Azure-Storage/1.1.0-1.1.0 (Python CPython 3.6.5; Windows 10)]
      x-ms-client-request-id: [5d870a92-ad3b-11e8-b5a4-44032c851683]
      x-ms-date: ['Fri, 31 Aug 2018 16:31:51 GMT']
      x-ms-version: ['2017-07-29']
    method: DELETE
    uri: https://testaccountforbatch.blob.core.windows.net/fgrp-output/fileuploaderr.txt
  response:
    body: {string: ''}
    headers:
      Date: ['Fri, 31 Aug 2018 16:31:51 GMT']
      Server: [Windows-Azure-Blob/1.0 Microsoft-HTTPAPI/2.0]
      Transfer-Encoding: [chunked]
      x-ms-delete-type-permanent: ['true']
      x-ms-version: ['2017-07-29']
    status: {code: 202, message: Accepted}
- request:
    body: null
    headers:
      Connection: [keep-alive]
      Content-Length: ['0']
      User-Agent: [Azure-Storage/1.1.0-1.1.0 (Python CPython 3.6.5; Windows 10)]
      x-ms-client-request-id: [5d9727e2-ad3b-11e8-8a58-44032c851683]
      x-ms-date: ['Fri, 31 Aug 2018 16:31:51 GMT']
      x-ms-version: ['2017-07-29']
    method: DELETE
    uri: https://testaccountforbatch.blob.core.windows.net/fgrp-output/fileuploadout.txt
  response:
    body: {string: ''}
    headers:
      Date: ['Fri, 31 Aug 2018 16:31:51 GMT']
      Server: [Windows-Azure-Blob/1.0 Microsoft-HTTPAPI/2.0]
      Transfer-Encoding: [chunked]
      x-ms-delete-type-permanent: ['true']
      x-ms-version: ['2017-07-29']
    status: {code: 202, message: Accepted}
- request:
    body: null
    headers:
      Connection: [keep-alive]
      Content-Length: ['0']
      User-Agent: [Azure-Storage/1.1.0-1.1.0 (Python CPython 3.6.5; Windows 10)]
      x-ms-client-request-id: [5da755f4-ad3b-11e8-8a58-44032c851683]
      x-ms-date: ['Fri, 31 Aug 2018 16:31:52 GMT']
      x-ms-version: ['2017-07-29']
    method: DELETE
    uri: https://testaccountforbatch.blob.core.windows.net/fgrp-output/stderr.txt
  response:
    body: {string: ''}
    headers:
      Date: ['Fri, 31 Aug 2018 16:31:51 GMT']
      Server: [Windows-Azure-Blob/1.0 Microsoft-HTTPAPI/2.0]
      Transfer-Encoding: [chunked]
      x-ms-delete-type-permanent: ['true']
      x-ms-version: ['2017-07-29']
    status: {code: 202, message: Accepted}
- request:
    body: null
    headers:
      Connection: [keep-alive]
      Content-Length: ['0']
      User-Agent: [Azure-Storage/1.1.0-1.1.0 (Python CPython 3.6.5; Windows 10)]
      x-ms-client-request-id: [5dbe216c-ad3b-11e8-a5cb-44032c851683]
      x-ms-date: ['Fri, 31 Aug 2018 16:31:52 GMT']
      x-ms-version: ['2017-07-29']
    method: DELETE
    uri: https://testaccountforbatch.blob.core.windows.net/fgrp-output/stdout.txt
  response:
    body: {string: ''}
    headers:
      Date: ['Fri, 31 Aug 2018 16:31:51 GMT']
      Server: [Windows-Azure-Blob/1.0 Microsoft-HTTPAPI/2.0]
      Transfer-Encoding: [chunked]
      x-ms-delete-type-permanent: ['true']
      x-ms-version: ['2017-07-29']
    status: {code: 202, message: Accepted}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.5.0 azure-batch/5.0.0 Azure-SDK-For-Python batchextensionsclient/4.0.0]
      accept-language: [en-US]
      client-request-id: [5dce17b0-ad3b-11e8-9e3e-44032c851683]
      ocp-date: ['Fri, 31 Aug 2018 16:31:52 GMT']
    method: GET
    uri: https://test1.westus.batch.azure.com/nodeagentskus?api-version=2018-08-01.7.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#nodeagentskus\"\
        ,\"value\":[\r\n    {\r\n      \"id\":\"batch.node.centos 7\",\"verifiedImageReferences\"\
        :[\r\n        {\r\n          \"publisher\":\"OpenLogic\",\"offer\":\"CentOS\"\
        ,\"sku\":\"7.5\",\"version\":\"latest\"\r\n        },{\r\n          \"publisher\"\
        :\"OpenLogic\",\"offer\":\"CentOS-HPC\",\"sku\":\"7.4\",\"version\":\"latest\"\
        \r\n        },{\r\n          \"publisher\":\"OpenLogic\",\"offer\":\"CentOS-HPC\"\
        ,\"sku\":\"7.3\",\"version\":\"latest\"\r\n        },{\r\n          \"publisher\"\
        :\"OpenLogic\",\"offer\":\"CentOS-HPC\",\"sku\":\"7.1\",\"version\":\"latest\"\
        \r\n        },{\r\n          \"publisher\":\"Oracle\",\"offer\":\"Oracle-Linux\"\
        ,\"sku\":\"7.4\",\"version\":\"latest\"\r\n        },{\r\n          \"publisher\"\
        :\"microsoft-ads\",\"offer\":\"linux-data-science-vm\",\"sku\":\"linuxdsvm\"\
        ,\"version\":\"latest\"\r\n        },{\r\n          \"publisher\":\"batch\"\
        ,\"offer\":\"rendering-centos73\",\"sku\":\"rendering\",\"version\":\"latest\"\
        \r\n        },{\r\n          \"publisher\":\"microsoft-azure-batch\",\"offer\"\
        :\"centos-container\",\"sku\":\"7-5\",\"version\":\"latest\"\r\n        },{\r\
        \n          \"publisher\":\"microsoft-azure-batch\",\"offer\":\"centos-container-rdma\"\
        ,\"sku\":\"7-4\",\"version\":\"latest\"\r\n        }\r\n      ],\"osType\"\
        :\"linux\"\r\n    },{\r\n      \"id\":\"batch.node.debian 8\",\"verifiedImageReferences\"\
        :[\r\n        {\r\n          \"publisher\":\"Credativ\",\"offer\":\"Debian\"\
        ,\"sku\":\"8\",\"version\":\"latest\"\r\n        }\r\n      ],\"osType\":\"\
        linux\"\r\n    },{\r\n      \"id\":\"batch.node.debian 9\",\"verifiedImageReferences\"\
        :[\r\n        {\r\n          \"publisher\":\"Credativ\",\"offer\":\"Debian\"\
        ,\"sku\":\"9\",\"version\":\"latest\"\r\n        }\r\n      ],\"osType\":\"\
        linux\"\r\n    },{\r\n      \"id\":\"batch.node.ubuntu 14.04\",\"verifiedImageReferences\"\
        :[\r\n        {\r\n          \"publisher\":\"Canonical\",\"offer\":\"UbuntuServer\"\
        ,\"sku\":\"14.04.5-LTS\",\"version\":\"latest\"\r\n        }\r\n      ],\"\
        osType\":\"linux\"\r\n    },{\r\n      \"id\":\"batch.node.ubuntu 16.04\"\
        ,\"verifiedImageReferences\":[\r\n        {\r\n          \"publisher\":\"\
        Canonical\",\"offer\":\"UbuntuServer\",\"sku\":\"16.04-LTS\",\"version\":\"\
        latest\"\r\n        },{\r\n          \"publisher\":\"microsoft-dsvm\",\"offer\"\
        :\"linux-data-science-vm-ubuntu\",\"sku\":\"linuxdsvmubuntu\",\"version\"\
        :\"latest\"\r\n        },{\r\n          \"publisher\":\"microsoft-azure-batch\"\
        ,\"offer\":\"ubuntu-server-container\",\"sku\":\"16-04-lts\",\"version\":\"\
        latest\"\r\n        },{\r\n          \"publisher\":\"microsoft-azure-batch\"\
        ,\"offer\":\"ubuntu-server-container-rdma\",\"sku\":\"16-04-lts\",\"version\"\
        :\"latest\"\r\n        }\r\n      ],\"osType\":\"linux\"\r\n    },{\r\n  \
        \    \"id\":\"batch.node.ubuntu 18.04\",\"verifiedImageReferences\":[\r\n\
        \        {\r\n          \"publisher\":\"Canonical\",\"offer\":\"UbuntuServer\"\
        ,\"sku\":\"18.04-LTS\",\"version\":\"latest\"\r\n        }\r\n      ],\"osType\"\
        :\"linux\"\r\n    },{\r\n      \"id\":\"batch.node.windows amd64\",\"verifiedImageReferences\"\
        :[\r\n        {\r\n          \"publisher\":\"MicrosoftWindowsServer\",\"offer\"\
        :\"WindowsServer\",\"sku\":\"2008-R2-SP1\",\"version\":\"latest\"\r\n    \
        \    },{\r\n          \"publisher\":\"MicrosoftWindowsServer\",\"offer\":\"\
        WindowsServer\",\"sku\":\"2008-R2-SP1-smalldisk\",\"version\":\"latest\"\r\
        \n        },{\r\n          \"publisher\":\"MicrosoftWindowsServer\",\"offer\"\
        :\"WindowsServer\",\"sku\":\"2012-Datacenter\",\"version\":\"latest\"\r\n\
        \        },{\r\n          \"publisher\":\"MicrosoftWindowsServer\",\"offer\"\
        :\"WindowsServer\",\"sku\":\"2012-Datacenter-smalldisk\",\"version\":\"latest\"\
        \r\n        },{\r\n          \"publisher\":\"MicrosoftWindowsServer\",\"offer\"\
        :\"WindowsServer\",\"sku\":\"2012-R2-Datacenter\",\"version\":\"latest\"\r\
        \n        },{\r\n          \"publisher\":\"MicrosoftWindowsServer\",\"offer\"\
        :\"WindowsServer\",\"sku\":\"2012-R2-Datacenter-smalldisk\",\"version\":\"\
        latest\"\r\n        },{\r\n          \"publisher\":\"MicrosoftWindowsServer\"\
        ,\"offer\":\"WindowsServer\",\"sku\":\"2016-Datacenter\",\"version\":\"latest\"\
        \r\n        },{\r\n          \"publisher\":\"MicrosoftWindowsServer\",\"offer\"\
        :\"WindowsServer\",\"sku\":\"2016-Datacenter-smalldisk\",\"version\":\"latest\"\
        \r\n        },{\r\n          \"publisher\":\"MicrosoftWindowsServer\",\"offer\"\
        :\"WindowsServer\",\"sku\":\"2016-Datacenter-with-Containers\",\"version\"\
        :\"latest\"\r\n        },{\r\n          \"publisher\":\"microsoft-dsvm\",\"\
        offer\":\"dsvm-windows\",\"sku\":\"server-2016\",\"version\":\"latest\"\r\n\
        \        },{\r\n          \"publisher\":\"batch\",\"offer\":\"rendering-windows2016\"\
        ,\"sku\":\"rendering\",\"version\":\"latest\"\r\n        }\r\n      ],\"osType\"\
        :\"windows\"\r\n    }\r\n  ]\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Fri, 31 Aug 2018 16:31:52 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [06f8ee6b-44ff-4b79-b62b-dd477d40f226]
    status: {code: 200, message: OK}
- request:
    body: '{"id": "ncj-windows-2012-r2", "vmSize": "STANDARD_D1_V2", "virtualMachineConfiguration":
      {"imageReference": {"publisher": "MicrosoftWindowsServer", "offer": "WindowsServer",
      "sku": "2012-R2-Datacenter"}, "nodeAgentSKUId": "batch.node.windows amd64"},
      "targetDedicatedNodes": 1}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['277']
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.5.0 azure-batch/5.0.0 Azure-SDK-For-Python batchextensionsclient/4.0.0]
      accept-language: [en-US]
      client-request-id: [5e0b3224-ad3b-11e8-a18a-44032c851683]
      ocp-date: ['Fri, 31 Aug 2018 16:31:52 GMT']
    method: POST
    uri: https://test1.westus.batch.azure.com/pools?api-version=2018-08-01.7.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#Microsoft.Azure.Batch.Protocol.Entities.Container.errors/@Element\"\
        ,\"code\":\"PoolExists\",\"message\":{\r\n    \"lang\":\"en-US\",\"value\"\
        :\"The specified pool already exists.\\nRequestId:e9ed6ceb-04e8-4614-883d-22d5d128295d\\\
        nTime:2018-08-31T16:31:53.0849807Z\"\r\n  }\r\n}"}
    headers:
      Content-Length: ['328']
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Fri, 31 Aug 2018 16:31:52 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      X-Content-Type-Options: [nosniff]
      request-id: [e9ed6ceb-04e8-4614-883d-22d5d128295d]
    status: {code: 409, message: The specified pool already exists.}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.5.0 azure-batch/5.0.0 Azure-SDK-For-Python batchextensionsclient/4.0.0]
      accept-language: [en-US]
      client-request-id: [5e499d5c-ad3b-11e8-b6ec-44032c851683]
      ocp-date: ['Fri, 31 Aug 2018 16:31:53 GMT']
    method: GET
    uri: https://test1.westus.batch.azure.com/pools/ncj-windows-2012-r2?api-version=2018-08-01.7.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#pools/@Element\"\
        ,\"id\":\"ncj-windows-2012-r2\",\"url\":\"https://test1.westus.batch.azure.com/pools/ncj-windows-2012-r2\"\
        ,\"eTag\":\"0x8D60EB487FFEF7F\",\"lastModified\":\"2018-08-30T20:09:45.8103167Z\"\
        ,\"creationTime\":\"2018-08-30T20:09:45.8103167Z\",\"state\":\"active\",\"\
        stateTransitionTime\":\"2018-08-30T20:09:45.8103167Z\",\"allocationState\"\
        :\"steady\",\"allocationStateTransitionTime\":\"2018-08-30T20:11:35.4321523Z\"\
        ,\"vmSize\":\"standard_d1_v2\",\"resizeTimeout\":\"PT15M\",\"currentDedicatedNodes\"\
        :1,\"targetDedicatedNodes\":1,\"currentLowPriorityNodes\":0,\"targetLowPriorityNodes\"\
        :0,\"enableAutoScale\":false,\"enableInterNodeCommunication\":false,\"maxTasksPerNode\"\
        :1,\"taskSchedulingPolicy\":{\r\n    \"nodeFillType\":\"Spread\"\r\n  },\"\
        virtualMachineConfiguration\":{\r\n    \"imageReference\":{\r\n      \"publisher\"\
        :\"MicrosoftWindowsServer\",\"offer\":\"WindowsServer\",\"sku\":\"2012-R2-Datacenter\"\
        ,\"version\":\"latest\"\r\n    },\"nodeAgentSKUId\":\"batch.node.windows amd64\"\
        \r\n  }\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Fri, 31 Aug 2018 16:31:53 GMT']
      ETag: ['0x8D60EB487FFEF7F']
      Last-Modified: ['Thu, 30 Aug 2018 20:09:45 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [dc60601e-ecd1-4456-ac9d-62a0641e45bf]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.5.0 azure-batch/5.0.0 Azure-SDK-For-Python batchextensionsclient/4.0.0]
      accept-language: [en-US]
      client-request-id: [5e858954-ad3b-11e8-b77d-44032c851683]
      ocp-date: ['Fri, 31 Aug 2018 16:31:53 GMT']
    method: GET
    uri: https://test1.westus.batch.azure.com/pools/ncj-windows-2012-r2/nodes?api-version=2018-08-01.7.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#nodes\"\
        ,\"value\":[\r\n    {\r\n      \"id\":\"tvm-2487789449_1-20180830t201134z\"\
        ,\"url\":\"https://test1.westus.batch.azure.com/pools/ncj-windows-2012-r2/nodes/tvm-2487789449_1-20180830t201134z\"\
        ,\"state\":\"idle\",\"schedulingState\":\"enabled\",\"stateTransitionTime\"\
        :\"2018-08-31T16:31:34.293648Z\",\"lastBootTime\":\"2018-08-30T20:14:48.700441Z\"\
        ,\"allocationTime\":\"2018-08-30T20:11:34.4125859Z\",\"ipAddress\":\"10.0.0.4\"\
        ,\"affinityId\":\"TVM:tvm-2487789449_1-20180830t201134z\",\"vmSize\":\"standard_d1_v2\"\
        ,\"totalTasksRun\":34,\"totalTasksSucceeded\":34,\"runningTasksCount\":0,\"\
        recentTasks\":[\r\n        {\r\n          \"taskUrl\":\"https://test1.westus.batch.azure.com/jobs/ncj-windows-2012-r2/tasks/myTask\"\
        ,\"jobId\":\"ncj-windows-2012-r2\",\"taskId\":\"myTask\",\"taskState\":\"\
        completed\",\"executionInfo\":{\r\n            \"startTime\":\"2018-08-31T16:31:33.166958Z\"\
        ,\"endTime\":\"2018-08-31T16:31:34.262387Z\",\"exitCode\":0,\"result\":\"\
        Success\",\"retryCount\":0,\"requeueCount\":0\r\n          }\r\n        }\r\
        \n      ],\"isDedicated\":true,\"endpointConfiguration\":{\r\n        \"inboundEndpoints\"\
        :[\r\n          {\r\n            \"name\":\"SSHRule.0\",\"protocol\":\"tcp\"\
        ,\"publicIPAddress\":\"52.179.208.101\",\"publicFQDN\":\"dnse3d86395-f9e0-4f00-bee3-bf84ca731d10-azurebatch-cloudservice.westus.cloudapp.azure.com\"\
        ,\"frontendPort\":50000,\"backendPort\":3389\r\n          }\r\n        ]\r\
        \n      },\"nodeAgentInfo\":{\r\n        \"lastUpdateTime\":\"2018-08-30T20:14:48.700441Z\"\
        ,\"version\":\"1.3.0.9\"\r\n      }\r\n    }\r\n  ]\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Fri, 31 Aug 2018 16:31:53 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [4c22af7d-2599-433a-86f5-1485f9510adb]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.5.0 batchmanagementclient/4.1.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      x-ms-client-request-id: [5eceed0c-ad3b-11e8-93d6-44032c851683]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Batch/batchAccounts?api-version=2017-05-01
  response:
    body: {string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/test_rg/providers/Microsoft.Batch/batchAccounts/test1","name":"test1","type":"Microsoft.Batch/batchAccounts","location":"westus","properties":{"accountEndpoint":"test1.westus.batch.azure.com","provisioningState":"Succeeded","dedicatedCoreQuota":20,"lowPriorityCoreQuota":100,"poolQuota":100,"activeJobAndJobScheduleQuota":300,"autoStorage":{"storageAccountId":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/test_rg/providers/Microsoft.Storage/storageAccounts/testaccountforbatch","lastKeySync":"2018-08-27T21:09:28.1417679Z"},"poolAllocationMode":"batchservice"}}]}'}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Fri, 31 Aug 2018 16:31:53 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      Vary: [Accept-Encoding]
      X-Content-Type-Options: [nosniff]
      content-length: ['672']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.5.0 azure-mgmt-storage/1.5.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      x-ms-client-request-id: [5f1342ac-ad3b-11e8-bf04-44032c851683]
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/test_rg/providers/Microsoft.Storage/storageAccounts/testaccountforbatch/listKeys?api-version=2017-10-01
  response:
    body: {string: '{"keys":[{"keyName":"key1","value":"abc==","permissions":"FULL"},{"keyName":"key2","value":"abc==","permissions":"FULL"}]}'}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json]
      Date: ['Fri, 31 Aug 2018 16:31:54 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: ['Microsoft-Azure-Storage-Resource-Provider/1.0,Microsoft-HTTPAPI/2.0
          Microsoft-HTTPAPI/2.0']
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      Vary: [Accept-Encoding]
      X-Content-Type-Options: [nosniff]
      content-length: ['288']
      x-ms-ratelimit-remaining-subscription-writes: ['1199']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Connection: [keep-alive]
      Content-Length: ['0']
      User-Agent: [Azure-Storage/1.1.0-1.1.0 (Python CPython 3.6.5; Windows 10)]
      x-ms-client-request-id: [5f43a118-ad3b-11e8-816d-44032c851683]
      x-ms-date: ['Fri, 31 Aug 2018 16:31:54 GMT']
      x-ms-version: ['2017-07-29']
    method: PUT
    uri: https://testaccountforbatch.blob.core.windows.net/fgrp-output?restype=container
  response:
    body: {string: "\uFEFF<?xml version=\"1.0\" encoding=\"utf-8\"?><Error><Code>ContainerAlreadyExists</Code><Message>The\
        \ specified container already exists.\nRequestId:33cf43e5-601e-007d-3948-412ade000000\n\
        Time:2018-08-31T16:31:55.0888041Z</Message></Error>"}
    headers:
      Content-Length: ['230']
      Content-Type: [application/xml]
      Date: ['Fri, 31 Aug 2018 16:31:54 GMT']
      Server: [Windows-Azure-Blob/1.0 Microsoft-HTTPAPI/2.0]
      x-ms-error-code: [ContainerAlreadyExists]
      x-ms-version: ['2017-07-29']
    status: {code: 409, message: The specified container already exists.}
- request:
    body: '{"id": "ncj-windows-2012-r2-1", "poolInfo": {"poolId": "ncj-windows-2012-r2"}}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['78']
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.5.0 azure-batch/5.0.0 Azure-SDK-For-Python batchextensionsclient/4.0.0]
      accept-language: [en-US]
      client-request-id: [5f7ab3ae-ad3b-11e8-ac25-44032c851683]
      return-client-request-id: ['false']
    method: POST
    uri: https://test1.westus.batch.azure.com/jobs?api-version=2018-08-01.7.0&timeout=30
  response:
    body: {string: ''}
    headers:
      DataServiceId: ['https://test1.westus.batch.azure.com/jobs/job-1']
      DataServiceVersion: ['3.0']
      Date: ['Fri, 31 Aug 2018 16:31:54 GMT']
      ETag: ['0x8D60F5F43F0CB05']
      Last-Modified: ['Fri, 31 Aug 2018 16:31:55 GMT']
      Location: ['https://test1.westus.batch.azure.com/jobs/job-1']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [2bae266d-b562-4234-9648-ec0ff934b725]
    status: {code: 201, message: Created}
- request:
    body: '{"value": [{"id": "myTask", "commandLine": "cmd /c echo | set /p dummy=test",
      "outputFiles": [{"filePattern": "$AZ_BATCH_TASK_DIR/*.txt", "destination": {"container":
      {"containerUrl": "https://testaccountforbatch.blob.core.windows.net:443/aaatestcontainer"}},
      "uploadOptions": {"uploadCondition": "tasksuccess"}}], "constraints": {"retentionTime":
      "PT1H"}}]}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['469']
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.5.0 azure-batch/5.0.0 Azure-SDK-For-Python batchextensionsclient/4.0.0]
      accept-language: [en-US]
      client-request-id: [5fc513e4-ad3b-11e8-ac0a-44032c851683]
    method: POST
    uri: https://test1.westus.batch.azure.com/jobs/ncj-windows-2012-r2-1/addtaskcollection?api-version=2018-08-01.7.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#taskaddresult\"\
        ,\"value\":[\r\n    {\r\n      \"status\":\"Success\",\"taskId\":\"myTask\"\
        ,\"eTag\":\"0x8D60F5F4433770D\",\"lastModified\":\"2018-08-31T16:31:56.0037133Z\"\
        ,\"location\":\"https://test1.westus.batch.azure.com/jobs/ncj-windows-2012-r2-1/tasks/myTask\"\
        \r\n    }\r\n  ]\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Fri, 31 Aug 2018 16:31:56 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [76c566d8-56b9-42c9-9a03-e839bfa68faf]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.5.0 azure-batch/5.0.0 Azure-SDK-For-Python batchextensionsclient/4.0.0]
      accept-language: [en-US]
      client-request-id: [600867cc-ad3b-11e8-8762-44032c851683]
      ocp-date: ['Fri, 31 Aug 2018 16:31:56 GMT']
    method: GET
    uri: https://test1.westus.batch.azure.com/jobs/ncj-windows-2012-r2-1?api-version=2018-08-01.7.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#jobs/@Element\"\
        ,\"id\":\"ncj-windows-2012-r2-1\",\"url\":\"https://test1.westus.batch.azure.com/jobs/ncj-windows-2012-r2-1\"\
        ,\"eTag\":\"0x8D60F5F43F0CB05\",\"lastModified\":\"2018-08-31T16:31:55.5667717Z\"\
        ,\"creationTime\":\"2018-08-31T16:31:55.5511343Z\",\"state\":\"active\",\"\
        stateTransitionTime\":\"2018-08-31T16:31:55.5667717Z\",\"priority\":0,\"usesTaskDependencies\"\
        :false,\"constraints\":{\r\n    \"maxWallClockTime\":\"P10675199DT2H48M5.4775807S\"\
        ,\"maxTaskRetryCount\":0\r\n  },\"poolInfo\":{\r\n    \"poolId\":\"ncj-windows-2012-r2\"\
        \r\n  },\"executionInfo\":{\r\n    \"startTime\":\"2018-08-31T16:31:55.5667717Z\"\
        ,\"poolId\":\"ncj-windows-2012-r2\"\r\n  },\"onAllTasksComplete\":\"noaction\"\
        ,\"onTaskFailure\":\"noaction\"\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Fri, 31 Aug 2018 16:31:55 GMT']
      ETag: ['0x8D60F5F43F0CB05']
      Last-Modified: ['Fri, 31 Aug 2018 16:31:55 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [d348e5ad-f55b-4bb7-9137-66afd8307537]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.5.0 azure-batch/5.0.0 Azure-SDK-For-Python batchextensionsclient/4.0.0]
      accept-language: [en-US]
      client-request-id: [603f2d80-ad3b-11e8-8f15-44032c851683]
      ocp-date: ['Fri, 31 Aug 2018 16:31:56 GMT']
    method: GET
    uri: https://test1.westus.batch.azure.com/jobs/ncj-windows-2012-r2-1/tasks?api-version=2018-08-01.7.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#tasks\"\
        ,\"value\":[\r\n    {\r\n      \"id\":\"myTask\",\"url\":\"https://test1.westus.batch.azure.com/jobs/ncj-windows-2012-r2-1/tasks/myTask\"\
        ,\"eTag\":\"0x8D60F5F4433770D\",\"creationTime\":\"2018-08-31T16:31:56.0037133Z\"\
        ,\"lastModified\":\"2018-08-31T16:31:56.0037133Z\",\"state\":\"active\",\"\
        stateTransitionTime\":\"2018-08-31T16:31:56.0037133Z\",\"commandLine\":\"\
        cmd /c echo | set /p dummy=test\",\"outputFiles\":[\r\n        {\r\n     \
        \     \"filePattern\":\"$AZ_BATCH_TASK_DIR/*.txt\",\"destination\":{\r\n \
        \           \"container\":{\r\n              \"containerUrl\":\"https://testaccountforbatch.blob.core.windows.net:443/aaatestcontainer\"\
        \r\n            }\r\n          },\"uploadOptions\":{\r\n            \"uploadCondition\"\
        :\"TaskSuccess\"\r\n          }\r\n        }\r\n      ],\"userIdentity\":{\r\
        \n        \"autoUser\":{\r\n          \"elevationLevel\":\"nonadmin\"\r\n\
        \        }\r\n      },\"constraints\":{\r\n        \"maxWallClockTime\":\"\
        P10675199DT2H48M5.4775807S\",\"retentionTime\":\"PT1H\",\"maxTaskRetryCount\"\
        :0\r\n      },\"executionInfo\":{\r\n        \"retryCount\":0,\"requeueCount\"\
        :0\r\n      }\r\n    }\r\n  ]\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Fri, 31 Aug 2018 16:31:56 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [7f09b245-addf-4623-9486-5abc2cdc1c1f]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.5.0 azure-batch/5.0.0 Azure-SDK-For-Python batchextensionsclient/4.0.0]
      accept-language: [en-US]
      client-request-id: [62408c58-ad3b-11e8-b09c-44032c851683]
      ocp-date: ['Fri, 31 Aug 2018 16:31:59 GMT']
    method: GET
    uri: https://test1.westus.batch.azure.com/jobs/ncj-windows-2012-r2-1/tasks?api-version=2018-08-01.7.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#tasks\"\
        ,\"value\":[\r\n    {\r\n      \"id\":\"myTask\",\"url\":\"https://test1.westus.batch.azure.com/jobs/ncj-windows-2012-r2-1/tasks/myTask\"\
        ,\"eTag\":\"0x8D60F5F4433770D\",\"creationTime\":\"2018-08-31T16:31:56.0037133Z\"\
        ,\"lastModified\":\"2018-08-31T16:31:56.0037133Z\",\"state\":\"completed\"\
        ,\"stateTransitionTime\":\"2018-08-31T16:31:55.252205Z\",\"previousState\"\
        :\"running\",\"previousStateTransitionTime\":\"2018-08-31T16:31:54.195473Z\"\
        ,\"commandLine\":\"cmd /c echo | set /p dummy=test\",\"outputFiles\":[\r\n\
        \        {\r\n          \"filePattern\":\"$AZ_BATCH_TASK_DIR/*.txt\",\"destination\"\
        :{\r\n            \"container\":{\r\n              \"containerUrl\":\"https://testaccountforbatch.blob.core.windows.net:443/aaatestcontainer\"\
        \r\n            }\r\n          },\"uploadOptions\":{\r\n            \"uploadCondition\"\
        :\"TaskSuccess\"\r\n          }\r\n        }\r\n      ],\"userIdentity\":{\r\
        \n        \"autoUser\":{\r\n          \"elevationLevel\":\"nonadmin\"\r\n\
        \        }\r\n      },\"constraints\":{\r\n        \"maxWallClockTime\":\"\
        P10675199DT2H48M5.4775807S\",\"retentionTime\":\"PT1H\",\"maxTaskRetryCount\"\
        :0\r\n      },\"executionInfo\":{\r\n        \"startTime\":\"2018-08-31T16:31:54.195473Z\"\
        ,\"endTime\":\"2018-08-31T16:31:55.252205Z\",\"exitCode\":0,\"result\":\"\
        Success\",\"retryCount\":0,\"requeueCount\":0\r\n      },\"nodeInfo\":{\r\n\
        \        \"affinityId\":\"TVM:tvm-2487789449_1-20180830t201134z\",\"nodeUrl\"\
        :\"https://test1.westus.batch.azure.com/pools/ncj-windows-2012-r2/nodes/tvm-2487789449_1-20180830t201134z\"\
        ,\"poolId\":\"ncj-windows-2012-r2\",\"nodeId\":\"tvm-2487789449_1-20180830t201134z\"\
        ,\"taskRootDirectory\":\"workitems\\\\ncj-windows-2012-r2-1\\\\job-1\\\\myTask\"\
        ,\"taskRootDirectoryUrl\":\"https://test1.westus.batch.azure.com/pools/ncj-windows-2012-r2/nodes/tvm-2487789449_1-20180830t201134z/files/workitems/ncj-windows-2012-r2-1/job-1/myTask\"\
        \r\n      }\r\n    }\r\n  ]\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Fri, 31 Aug 2018 16:32:00 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [de982522-b848-4648-9d6d-faafdfb5d3d8]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.5.0 azure-batch/5.0.0 Azure-SDK-For-Python batchextensionsclient/4.0.0]
      accept-language: [en-US]
      client-request-id: [627e3c36-ad3b-11e8-8c8d-44032c851683]
      ocp-date: ['Fri, 31 Aug 2018 16:32:00 GMT']
    method: GET
    uri: https://test1.westus.batch.azure.com/jobs/ncj-windows-2012-r2-1/tasks/myTask?api-version=2018-08-01.7.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#tasks/@Element\"\
        ,\"id\":\"myTask\",\"url\":\"https://test1.westus.batch.azure.com/jobs/ncj-windows-2012-r2-1/tasks/myTask\"\
        ,\"eTag\":\"0x8D60F5F4433770D\",\"creationTime\":\"2018-08-31T16:31:56.0037133Z\"\
        ,\"lastModified\":\"2018-08-31T16:31:56.0037133Z\",\"state\":\"completed\"\
        ,\"stateTransitionTime\":\"2018-08-31T16:31:55.252205Z\",\"previousState\"\
        :\"running\",\"previousStateTransitionTime\":\"2018-08-31T16:31:54.195473Z\"\
        ,\"commandLine\":\"cmd /c echo | set /p dummy=test\",\"outputFiles\":[\r\n\
        \    {\r\n      \"filePattern\":\"$AZ_BATCH_TASK_DIR/*.txt\",\"destination\"\
        :{\r\n        \"container\":{\r\n          \"containerUrl\":\"https://testaccountforbatch.blob.core.windows.net:443/aaatestcontainer\"\
        \r\n        }\r\n      },\"uploadOptions\":{\r\n        \"uploadCondition\"\
        :\"TaskSuccess\"\r\n      }\r\n    }\r\n  ],\"userIdentity\":{\r\n    \"autoUser\"\
        :{\r\n      \"elevationLevel\":\"nonadmin\"\r\n    }\r\n  },\"constraints\"\
        :{\r\n    \"maxWallClockTime\":\"P10675199DT2H48M5.4775807S\",\"retentionTime\"\
        :\"PT1H\",\"maxTaskRetryCount\":0\r\n  },\"executionInfo\":{\r\n    \"startTime\"\
        :\"2018-08-31T16:31:54.195473Z\",\"endTime\":\"2018-08-31T16:31:55.252205Z\"\
        ,\"exitCode\":0,\"result\":\"Success\",\"retryCount\":0,\"requeueCount\":0\r\
        \n  },\"nodeInfo\":{\r\n    \"affinityId\":\"TVM:tvm-2487789449_1-20180830t201134z\"\
        ,\"nodeUrl\":\"https://test1.westus.batch.azure.com/pools/ncj-windows-2012-r2/nodes/tvm-2487789449_1-20180830t201134z\"\
        ,\"poolId\":\"ncj-windows-2012-r2\",\"nodeId\":\"tvm-2487789449_1-20180830t201134z\"\
        ,\"taskRootDirectory\":\"workitems\\\\ncj-windows-2012-r2-1\\\\job-1\\\\myTask\"\
        ,\"taskRootDirectoryUrl\":\"https://test1.westus.batch.azure.com/pools/ncj-windows-2012-r2/nodes/tvm-2487789449_1-20180830t201134z/files/workitems/ncj-windows-2012-r2-1/job-1/myTask\"\
        \r\n  }\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Fri, 31 Aug 2018 16:31:59 GMT']
      ETag: ['0x8D60F5F4433770D']
      Last-Modified: ['Fri, 31 Aug 2018 16:31:56 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [44a6d114-6593-4bbc-857b-639ad4f926d5]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Connection: [keep-alive]
      User-Agent: [Azure-Storage/1.1.0-1.1.0 (Python CPython 3.6.5; Windows 10)]
      x-ms-client-request-id: [62caba92-ad3b-11e8-ac3f-44032c851683]
      x-ms-date: ['Fri, 31 Aug 2018 16:32:00 GMT']
      x-ms-version: ['2017-07-29']
    method: GET
    uri: https://testaccountforbatch.blob.core.windows.net/fgrp-output?restype=container&comp=list
  response:
    body: {string: "\uFEFF<?xml version=\"1.0\" encoding=\"utf-8\"?><EnumerationResults\
        \ ServiceEndpoint=\"https://testaccountforbatch.blob.core.windows.net/\" ContainerName=\"\
        fgrp-output\"><Blobs><Blob><Name>fileuploaderr.txt</Name><Properties><Last-Modified>Fri,\
        \ 31 Aug 2018 16:31:58 GMT</Last-Modified><Etag>0x8D60F5F458831F4</Etag><Content-Length>0</Content-Length><Content-Type>application/octet-stream</Content-Type><Content-Encoding\
        \ /><Content-Language /><Content-MD5>1B2M2Y8AsgTpgAmY7PhCfg==</Content-MD5><Cache-Control\
        \ /><Content-Disposition /><BlobType>BlockBlob</BlobType><LeaseStatus>unlocked</LeaseStatus><LeaseState>available</LeaseState><ServerEncrypted>true</ServerEncrypted></Properties></Blob><Blob><Name>fileuploadout.txt</Name><Properties><Last-Modified>Fri,\
        \ 31 Aug 2018 16:31:58 GMT</Last-Modified><Etag>0x8D60F5F458A0722</Etag><Content-Length>411</Content-Length><Content-Type>application/octet-stream</Content-Type><Content-Encoding\
        \ /><Content-Language /><Content-MD5>5VKyMTVmqSdT6rd7DQ9BJQ==</Content-MD5><Cache-Control\
        \ /><Content-Disposition /><BlobType>BlockBlob</BlobType><LeaseStatus>unlocked</LeaseStatus><LeaseState>available</LeaseState><ServerEncrypted>true</ServerEncrypted></Properties></Blob><Blob><Name>stderr.txt</Name><Properties><Last-Modified>Fri,\
        \ 31 Aug 2018 16:31:58 GMT</Last-Modified><Etag>0x8D60F5F458B3FEE</Etag><Content-Length>0</Content-Length><Content-Type>application/octet-stream</Content-Type><Content-Encoding\
        \ /><Content-Language /><Content-MD5>1B2M2Y8AsgTpgAmY7PhCfg==</Content-MD5><Cache-Control\
        \ /><Content-Disposition /><BlobType>BlockBlob</BlobType><LeaseStatus>unlocked</LeaseStatus><LeaseState>available</LeaseState><ServerEncrypted>true</ServerEncrypted></Properties></Blob><Blob><Name>stdout.txt</Name><Properties><Last-Modified>Fri,\
        \ 31 Aug 2018 16:31:58 GMT</Last-Modified><Etag>0x8D60F5F458C9FD3</Etag><Content-Length>4</Content-Length><Content-Type>application/octet-stream</Content-Type><Content-Encoding\
        \ /><Content-Language /><Content-MD5>CY9rzUYh03PK3k6DJie09g==</Content-MD5><Cache-Control\
        \ /><Content-Disposition /><BlobType>BlockBlob</BlobType><LeaseStatus>unlocked</LeaseStatus><LeaseState>available</LeaseState><ServerEncrypted>true</ServerEncrypted></Properties></Blob></Blobs><NextMarker\
        \ /></EnumerationResults>"}
    headers:
      Content-Type: [application/xml]
      Date: ['Fri, 31 Aug 2018 16:31:59 GMT']
      Server: [Windows-Azure-Blob/1.0 Microsoft-HTTPAPI/2.0]
      Transfer-Encoding: [chunked]
      x-ms-version: ['2017-07-29']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['0']
      User-Agent: [python/3.6.5 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.5.0 azure-batch/5.0.0 Azure-SDK-For-Python batchextensionsclient/4.0.0]
      accept-language: [en-US]
      client-request-id: [62e7f79e-ad3b-11e8-8c1c-44032c851683]
      ocp-date: ['Fri, 31 Aug 2018 16:32:00 GMT']
    method: DELETE
    uri: https://test1.westus.batch.azure.com/jobs/ncj-windows-2012-r2-1?api-version=2018-08-01.7.0
  response:
    body: {string: ''}
    headers:
      DataServiceVersion: ['3.0']
      Date: ['Fri, 31 Aug 2018 16:32:00 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [0f57d615-6c9b-4f38-a03f-694f2517072c]
    status: {code: 202, message: Accepted}
version: 1
