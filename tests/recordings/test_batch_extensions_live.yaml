interactions:
- request:
    body: null
    headers:
      Connection: [keep-alive]
      User-Agent: [Azure-Storage/0.36.0 (Python CPython 3.6.1; Windows 10)]
      x-ms-client-request-id: [a4830394-a55b-11e7-b06b-ecb1d755839a]
      x-ms-date: ['Fri, 29 Sep 2017 21:17:47 GMT']
      x-ms-version: ['2017-04-17']
    method: GET
    uri: https://testaccountforbatch.blob.core.windows.net/aaatestcontainer?restype=container&comp=list
  response:
    body: {string: "\uFEFF<?xml version=\"1.0\" encoding=\"utf-8\"?><EnumerationResults\
        \ ServiceEndpoint=\"https://testaccountforbatch.blob.core.windows.net/\" ContainerName=\"\
        aaatestcontainer\"><Blobs /><NextMarker /></EnumerationResults>"}
    headers:
      Content-Type: [application/xml]
      Date: ['Fri, 29 Sep 2017 21:17:49 GMT']
      Server: [Windows-Azure-Blob/1.0 Microsoft-HTTPAPI/2.0]
      Transfer-Encoding: [chunked]
      x-ms-version: ['2017-04-17']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.6.1 (Windows-10-10.0.15063-SP0) requests/2.9.1 msrest/0.4.14
          msrest_azure/0.4.14 batchserviceclient/4.0.0 Azure-SDK-For-Python batchextensionsclient/1.0.0]
      accept-language: [en-US]
      client-request-id: [a539cf48-a55b-11e7-a3fe-ecb1d755839a]
      ocp-date: ['Fri, 29 Sep 2017 21:17:49 GMT']
    method: GET
    uri: https://test1.westus.batch.azure.com/nodeagentskus?api-version=2017-09-01.6.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#nodeagentskus\"\
        ,\"value\":[\r\n    {\r\n      \"id\":\"batch.node.centos 7\",\"verifiedImageReferences\"\
        :[\r\n        {\r\n          \"publisher\":\"OpenLogic\",\"offer\":\"CentOS\"\
        ,\"sku\":\"7.3\",\"version\":\"latest\"\r\n        },{\r\n          \"publisher\"\
        :\"OpenLogic\",\"offer\":\"CentOS-HPC\",\"sku\":\"7.3\",\"version\":\"latest\"\
        \r\n        },{\r\n          \"publisher\":\"Oracle\",\"offer\":\"Oracle-Linux\"\
        ,\"sku\":\"7.3\",\"version\":\"latest\"\r\n        },{\r\n          \"publisher\"\
        :\"microsoft-ads\",\"offer\":\"linux-data-science-vm\",\"sku\":\"linuxdsvm\"\
        ,\"version\":\"latest\"\r\n        },{\r\n          \"publisher\":\"batch\"\
        ,\"offer\":\"rendering-centos73\",\"sku\":\"rendering\",\"version\":\"latest\"\
        \r\n        }\r\n      ],\"osType\":\"linux\"\r\n    },{\r\n      \"id\":\"\
        batch.node.debian 8\",\"verifiedImageReferences\":[\r\n        {\r\n     \
        \     \"publisher\":\"Credativ\",\"offer\":\"Debian\",\"sku\":\"8\",\"version\"\
        :\"latest\"\r\n        },{\r\n          \"publisher\":\"Credativ\",\"offer\"\
        :\"Debian\",\"sku\":\"8-backports\",\"version\":\"latest\"\r\n        }\r\n\
        \      ],\"osType\":\"linux\"\r\n    },{\r\n      \"id\":\"batch.node.opensuse\
        \ 13.2\",\"verifiedImageReferences\":[\r\n        \r\n      ],\"osType\":\"\
        linux\"\r\n    },{\r\n      \"id\":\"batch.node.opensuse 42.1\",\"verifiedImageReferences\"\
        :[\r\n        {\r\n          \"publisher\":\"SUSE\",\"offer\":\"SLES\",\"\
        sku\":\"12-SP2\",\"version\":\"latest\"\r\n        },{\r\n          \"publisher\"\
        :\"SUSE\",\"offer\":\"SLES-HPC\",\"sku\":\"12-SP1\",\"version\":\"latest\"\
        \r\n        }\r\n      ],\"osType\":\"linux\"\r\n    },{\r\n      \"id\":\"\
        batch.node.ubuntu 14.04\",\"verifiedImageReferences\":[\r\n        {\r\n \
        \         \"publisher\":\"Canonical\",\"offer\":\"UbuntuServer\",\"sku\":\"\
        14.04.5-LTS\",\"version\":\"latest\"\r\n        }\r\n      ],\"osType\":\"\
        linux\"\r\n    },{\r\n      \"id\":\"batch.node.ubuntu 16.04\",\"verifiedImageReferences\"\
        :[\r\n        {\r\n          \"publisher\":\"Canonical\",\"offer\":\"UbuntuServer\"\
        ,\"sku\":\"16.04-LTS\",\"version\":\"latest\"\r\n        },{\r\n         \
        \ \"publisher\":\"Canonical\",\"offer\":\"UbuntuServer\",\"sku\":\"17.04\"\
        ,\"version\":\"latest\"\r\n        }\r\n      ],\"osType\":\"linux\"\r\n \
        \   },{\r\n      \"id\":\"batch.node.windows amd64\",\"verifiedImageReferences\"\
        :[\r\n        {\r\n          \"publisher\":\"MicrosoftWindowsServer\",\"offer\"\
        :\"WindowsServer\",\"sku\":\"2012-R2-Datacenter\",\"version\":\"latest\"\r\
        \n        },{\r\n          \"publisher\":\"MicrosoftWindowsServer\",\"offer\"\
        :\"WindowsServer\",\"sku\":\"2012-Datacenter\",\"version\":\"latest\"\r\n\
        \        },{\r\n          \"publisher\":\"MicrosoftWindowsServer\",\"offer\"\
        :\"WindowsServer\",\"sku\":\"2008-R2-SP1\",\"version\":\"latest\"\r\n    \
        \    },{\r\n          \"publisher\":\"MicrosoftWindowsServer\",\"offer\":\"\
        WindowsServer\",\"sku\":\"2016-Datacenter\",\"version\":\"latest\"\r\n   \
        \     },{\r\n          \"publisher\":\"MicrosoftWindowsServer\",\"offer\"\
        :\"WindowsServer\",\"sku\":\"2016-Datacenter-with-Containers\",\"version\"\
        :\"latest\"\r\n        },{\r\n          \"publisher\":\"MicrosoftWindowsServer\"\
        ,\"offer\":\"WindowsServer\",\"sku\":\"2008-R2-SP1-smalldisk\",\"version\"\
        :\"latest\"\r\n        },{\r\n          \"publisher\":\"MicrosoftWindowsServer\"\
        ,\"offer\":\"WindowsServer\",\"sku\":\"2012-Datacenter-smalldisk\",\"version\"\
        :\"latest\"\r\n        },{\r\n          \"publisher\":\"MicrosoftWindowsServer\"\
        ,\"offer\":\"WindowsServer\",\"sku\":\"2012-R2-Datacenter-smalldisk\",\"version\"\
        :\"latest\"\r\n        },{\r\n          \"publisher\":\"MicrosoftWindowsServer\"\
        ,\"offer\":\"WindowsServer\",\"sku\":\"2016-Datacenter-smalldisk\",\"version\"\
        :\"latest\"\r\n        },{\r\n          \"publisher\":\"microsoft-ads\",\"\
        offer\":\"standard-data-science-vm\",\"sku\":\"standard-data-science-vm\"\
        ,\"version\":\"latest\"\r\n        },{\r\n          \"publisher\":\"batch\"\
        ,\"offer\":\"rendering-windows2016\",\"sku\":\"rendering\",\"version\":\"\
        latest\"\r\n        }\r\n      ],\"osType\":\"windows\"\r\n    }\r\n  ]\r\n\
        }"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Fri, 29 Sep 2017 21:17:49 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [11b748ea-542b-4b0d-8e14-6cf4a77d3046]
    status: {code: 200, message: OK}
- request:
    body: '{"id": "ncj-ubuntu1404", "vmSize": "STANDARD_D1_V2", "virtualMachineConfiguration":
      {"imageReference": {"publisher": "Canonical", "offer": "UbuntuServer", "sku":
      "14.04.5-LTS"}, "nodeAgentSKUId": "batch.node.ubuntu 14.04"}, "targetDedicatedNodes":
      1}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['250']
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.6.1 (Windows-10-10.0.15063-SP0) requests/2.9.1 msrest/0.4.14
          msrest_azure/0.4.14 batchserviceclient/4.0.0 Azure-SDK-For-Python batchextensionsclient/1.0.0]
      accept-language: [en-US]
      client-request-id: [a5ccae7e-a55b-11e7-a934-ecb1d755839a]
      ocp-date: ['Fri, 29 Sep 2017 21:17:50 GMT']
    method: POST
    uri: https://test1.westus.batch.azure.com/pools?api-version=2017-09-01.6.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#Microsoft.Azure.Batch.Protocol.Entities.Container.errors/@Element\"\
        ,\"code\":\"PoolExists\",\"message\":{\r\n    \"lang\":\"en-US\",\"value\"\
        :\"The specified pool already exists.\\nRequestId:76491fed-2d7a-4228-a803-ab7d246ed011\\\
        nTime:2017-09-29T21:17:51.5667617Z\"\r\n  }\r\n}"}
    headers:
      Content-Length: ['337']
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Fri, 29 Sep 2017 21:17:51 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      X-Content-Type-Options: [nosniff]
      request-id: [76491fed-2d7a-4228-a803-ab7d246ed011]
    status: {code: 409, message: The specified pool already exists.}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.6.1 (Windows-10-10.0.15063-SP0) requests/2.9.1 msrest/0.4.14
          msrest_azure/0.4.14 batchserviceclient/4.0.0 Azure-SDK-For-Python batchextensionsclient/1.0.0]
      accept-language: [en-US]
      client-request-id: [a6529312-a55b-11e7-8f6d-ecb1d755839a]
      ocp-date: ['Fri, 29 Sep 2017 21:17:50 GMT']
    method: GET
    uri: https://test1.westus.batch.azure.com/pools/ncj-ubuntu1404?api-version=2017-09-01.6.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#pools/@Element\"\
        ,\"id\":\"ncj-ubuntu1404\",\"url\":\"https://test1.westus.batch.azure.com/pools/ncj-ubuntu1404\"\
        ,\"eTag\":\"0x8D506888F6675EC\",\"lastModified\":\"2017-09-28T15:49:53.3968876Z\"\
        ,\"creationTime\":\"2017-09-28T15:49:53.3968876Z\",\"state\":\"active\",\"\
        stateTransitionTime\":\"2017-09-28T15:49:53.3968876Z\",\"allocationState\"\
        :\"steady\",\"allocationStateTransitionTime\":\"2017-09-28T15:51:23.4881379Z\"\
        ,\"vmSize\":\"standard_d1_v2\",\"resizeTimeout\":\"PT15M\",\"currentDedicatedNodes\"\
        :1,\"targetDedicatedNodes\":1,\"currentLowPriorityNodes\":0,\"targetLowPriorityNodes\"\
        :0,\"enableAutoScale\":false,\"enableInterNodeCommunication\":false,\"maxTasksPerNode\"\
        :1,\"taskSchedulingPolicy\":{\r\n    \"nodeFillType\":\"Spread\"\r\n  },\"\
        virtualMachineConfiguration\":{\r\n    \"imageReference\":{\r\n      \"publisher\"\
        :\"Canonical\",\"offer\":\"UbuntuServer\",\"sku\":\"14.04.5-LTS\",\"version\"\
        :\"latest\"\r\n    },\"nodeAgentSKUId\":\"batch.node.ubuntu 14.04\"\r\n  }\r\
        \n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Fri, 29 Sep 2017 21:17:51 GMT']
      ETag: ['0x8D506888F6675EC']
      Last-Modified: ['Thu, 28 Sep 2017 15:49:53 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [1e126925-6dbb-4d31-b03e-672f7d578e05]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.6.1 (Windows-10-10.0.15063-SP0) requests/2.9.1 msrest/0.4.14
          msrest_azure/0.4.14 batchserviceclient/4.0.0 Azure-SDK-For-Python batchextensionsclient/1.0.0]
      accept-language: [en-US]
      client-request-id: [a6d172be-a55b-11e7-8952-ecb1d755839a]
      ocp-date: ['Fri, 29 Sep 2017 21:17:51 GMT']
    method: GET
    uri: https://test1.westus.batch.azure.com/pools/ncj-ubuntu1404/nodes?api-version=2017-09-01.6.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#nodes\"\
        ,\"value\":[\r\n    {\r\n      \"id\":\"tvm-57200098_1-20170928t155122z\"\
        ,\"url\":\"https://test1.westus.batch.azure.com/pools/ncj-ubuntu1404/nodes/tvm-57200098_1-20170928t155122z\"\
        ,\"state\":\"idle\",\"schedulingState\":\"enabled\",\"stateTransitionTime\"\
        :\"2017-09-28T16:24:32.000787Z\",\"lastBootTime\":\"2017-09-28T15:52:18.295654Z\"\
        ,\"allocationTime\":\"2017-09-28T15:51:22.4652917Z\",\"ipAddress\":\"10.0.0.4\"\
        ,\"affinityId\":\"TVM:tvm-57200098_1-20170928t155122z\",\"vmSize\":\"standard_d1_v2\"\
        ,\"totalTasksRun\":6,\"totalTasksSucceeded\":6,\"runningTasksCount\":0,\"\
        recentTasks\":[\r\n        {\r\n          \"taskUrl\":\"https://test1.westus.batch.azure.com/jobs/ncj-ubuntu1404-1/tasks/myTask\"\
        ,\"jobId\":\"ncj-ubuntu1404-1\",\"taskId\":\"myTask\",\"taskState\":\"completed\"\
        ,\"executionInfo\":{\r\n            \"startTime\":\"2017-09-28T16:24:31.296028Z\"\
        ,\"endTime\":\"2017-09-28T16:24:31.908697Z\",\"exitCode\":0,\"result\":\"\
        Success\",\"retryCount\":0,\"requeueCount\":0\r\n          }\r\n        }\r\
        \n      ],\"isDedicated\":true,\"endpointConfiguration\":{\r\n        \"inboundEndpoints\"\
        :[\r\n          {\r\n            \"name\":\"SSHRule.0\",\"protocol\":\"tcp\"\
        ,\"publicIPAddress\":\"104.41.38.204\",\"publicFQDN\":\"dnsc9fa460e-050a-4606-b56c-c72b557beb72-azurebatch-cloudservice.westus.cloudapp.azure.com\"\
        ,\"frontendPort\":50000,\"backendPort\":22\r\n          }\r\n        ]\r\n\
        \      }\r\n    }\r\n  ]\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Fri, 29 Sep 2017 21:17:52 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [715c9bc0-6cfb-444b-a8d4-02f3bb18da1b]
    status: {code: 200, message: OK}
- request:
    body: '{"id": "ncj-ubuntu1404", "poolInfo": {"poolId": "ncj-ubuntu1404"}}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['66']
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.6.1 (Windows-10-10.0.15063-SP0) requests/2.9.1 msrest/0.4.14
          msrest_azure/0.4.14 batchserviceclient/4.0.0 Azure-SDK-For-Python batchextensionsclient/1.0.0]
      accept-language: [en-US]
      client-request-id: [a75cd5da-a55b-11e7-b2f7-ecb1d755839a]
      return-client-request-id: ['false']
    method: POST
    uri: https://test1.westus.batch.azure.com/jobs?api-version=2017-09-01.6.0&timeout=30
  response:
    body: {string: ''}
    headers:
      DataServiceId: ['https://test1.westus.batch.azure.com/jobs/job-1']
      DataServiceVersion: ['3.0']
      Date: ['Fri, 29 Sep 2017 21:17:54 GMT']
      ETag: ['0x8D5077F8D9D5A61']
      Last-Modified: ['Fri, 29 Sep 2017 21:17:56 GMT']
      Location: ['https://test1.westus.batch.azure.com/jobs/job-1']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [220b7e3f-3187-48f0-99a3-9f8d4c35ce55]
    status: {code: 201, message: Created}
- request:
    body: '{"value": [{"id": "myTask", "commandLine": "/bin/bash -c \"echo test\"",
      "outputFiles": [{"filePattern": "$AZ_BATCH_TASK_DIR/*.txt", "destination": {"container":
      {"containerUrl": "https://testaccountforbatch.blob.core.windows.net:443/aaatestcontainer"}},
      "uploadOptions": {"uploadCondition": "taskSuccess"}}], "constraints": {"retentionTime":
      "PT1H"}}]}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['461']
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.6.1 (Windows-10-10.0.15063-SP0) requests/2.9.1 msrest/0.4.14
          msrest_azure/0.4.14 batchserviceclient/4.0.0 Azure-SDK-For-Python batchextensionsclient/1.0.0]
      accept-language: [en-US]
      client-request-id: [a9477ec8-a55b-11e7-9fbf-ecb1d755839a]
    method: POST
    uri: https://test1.westus.batch.azure.com/jobs/ncj-ubuntu1404/addtaskcollection?api-version=2017-09-01.6.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#taskaddresult\"\
        ,\"value\":[\r\n    {\r\n      \"status\":\"Success\",\"taskId\":\"myTask\"\
        ,\"eTag\":\"0x8D5077F8DFDB75C\",\"lastModified\":\"2017-09-29T21:17:56.7249244Z\"\
        ,\"location\":\"https://test1.westus.batch.azure.com/jobs/ncj-ubuntu1404/tasks/myTask\"\
        \r\n    }\r\n  ]\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Fri, 29 Sep 2017 21:17:56 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [f3465323-850e-4261-81d5-86c6f0454b00]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.6.1 (Windows-10-10.0.15063-SP0) requests/2.9.1 msrest/0.4.14
          msrest_azure/0.4.14 batchserviceclient/4.0.0 Azure-SDK-For-Python batchextensionsclient/1.0.0]
      accept-language: [en-US]
      client-request-id: [a9f2fffa-a55b-11e7-91f2-ecb1d755839a]
      ocp-date: ['Fri, 29 Sep 2017 21:17:56 GMT']
    method: GET
    uri: https://test1.westus.batch.azure.com/jobs/ncj-ubuntu1404?api-version=2017-09-01.6.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#jobs/@Element\"\
        ,\"id\":\"ncj-ubuntu1404\",\"url\":\"https://test1.westus.batch.azure.com/jobs/ncj-ubuntu1404\"\
        ,\"eTag\":\"0x8D5077F8D9D5A61\",\"lastModified\":\"2017-09-29T21:17:56.0933985Z\"\
        ,\"creationTime\":\"2017-09-29T21:17:56.0713606Z\",\"state\":\"active\",\"\
        stateTransitionTime\":\"2017-09-29T21:17:56.0933985Z\",\"priority\":0,\"usesTaskDependencies\"\
        :false,\"constraints\":{\r\n    \"maxWallClockTime\":\"P10675199DT2H48M5.4775807S\"\
        ,\"maxTaskRetryCount\":0\r\n  },\"poolInfo\":{\r\n    \"poolId\":\"ncj-ubuntu1404\"\
        \r\n  },\"executionInfo\":{\r\n    \"startTime\":\"2017-09-29T21:17:56.0933985Z\"\
        ,\"poolId\":\"ncj-ubuntu1404\"\r\n  },\"onAllTasksComplete\":\"noaction\"\
        ,\"onTaskFailure\":\"noaction\"\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Fri, 29 Sep 2017 21:17:58 GMT']
      ETag: ['0x8D5077F8D9D5A61']
      Last-Modified: ['Fri, 29 Sep 2017 21:17:56 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [8edeb782-b59b-45e0-8880-2441df5b78e6]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.6.1 (Windows-10-10.0.15063-SP0) requests/2.9.1 msrest/0.4.14
          msrest_azure/0.4.14 batchserviceclient/4.0.0 Azure-SDK-For-Python batchextensionsclient/1.0.0]
      accept-language: [en-US]
      client-request-id: [aa7148d8-a55b-11e7-b371-ecb1d755839a]
      ocp-date: ['Fri, 29 Sep 2017 21:17:57 GMT']
    method: GET
    uri: https://test1.westus.batch.azure.com/jobs/ncj-ubuntu1404/tasks?api-version=2017-09-01.6.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#tasks\"\
        ,\"value\":[\r\n    {\r\n      \"id\":\"myTask\",\"url\":\"https://test1.westus.batch.azure.com/jobs/ncj-ubuntu1404/tasks/myTask\"\
        ,\"eTag\":\"0x8D5077F8DFDB75C\",\"creationTime\":\"2017-09-29T21:17:56.7249244Z\"\
        ,\"lastModified\":\"2017-09-29T21:17:56.7249244Z\",\"state\":\"running\",\"\
        stateTransitionTime\":\"2017-09-29T21:17:57.908217Z\",\"previousState\":\"\
        active\",\"previousStateTransitionTime\":\"2017-09-29T21:17:56.7249244Z\"\
        ,\"commandLine\":\"/bin/bash -c \\\"echo test\\\"\",\"outputFiles\":[\r\n\
        \        {\r\n          \"filePattern\":\"$AZ_BATCH_TASK_DIR/*.txt\",\"destination\"\
        :{\r\n            \"container\":{\r\n              \"containerUrl\":\"https://testaccountforbatch.blob.core.windows.net:443/aaatestcontainer\"\
        \r\n            }\r\n          },\"uploadOptions\":{\r\n            \"uploadCondition\"\
        :\"TaskSuccess\"\r\n          }\r\n        }\r\n      ],\"userIdentity\":{\r\
        \n        \"autoUser\":{\r\n          \"elevationLevel\":\"nonadmin\"\r\n\
        \        }\r\n      },\"constraints\":{\r\n        \"maxWallClockTime\":\"\
        P10675199DT2H48M5.4775807S\",\"retentionTime\":\"PT1H\",\"maxTaskRetryCount\"\
        :0\r\n      },\"executionInfo\":{\r\n        \"startTime\":\"2017-09-29T21:17:57.908339Z\"\
        ,\"retryCount\":0,\"requeueCount\":0\r\n      },\"nodeInfo\":{\r\n       \
        \ \"affinityId\":\"TVM:tvm-57200098_1-20170928t155122z\",\"nodeUrl\":\"https://test1.westus.batch.azure.com/pools/ncj-ubuntu1404/nodes/tvm-57200098_1-20170928t155122z\"\
        ,\"poolId\":\"ncj-ubuntu1404\",\"nodeId\":\"tvm-57200098_1-20170928t155122z\"\
        ,\"taskRootDirectory\":\"workitems/ncj-ubuntu1404/job-1/myTask\",\"taskRootDirectoryUrl\"\
        :\"https://test1.westus.batch.azure.com/pools/ncj-ubuntu1404/nodes/tvm-57200098_1-20170928t155122z/files/workitems/ncj-ubuntu1404/job-1/myTask\"\
        \r\n      }\r\n    }\r\n  ]\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Fri, 29 Sep 2017 21:17:57 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [fb7df14f-31ef-4eb9-bbaf-95ea7d63d32b]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.6.1 (Windows-10-10.0.15063-SP0) requests/2.9.1 msrest/0.4.14
          msrest_azure/0.4.14 batchserviceclient/4.0.0 Azure-SDK-For-Python batchextensionsclient/1.0.0]
      accept-language: [en-US]
      client-request-id: [acbb4d2c-a55b-11e7-9da5-ecb1d755839a]
      ocp-date: ['Fri, 29 Sep 2017 21:18:01 GMT']
    method: GET
    uri: https://test1.westus.batch.azure.com/jobs/ncj-ubuntu1404/tasks?api-version=2017-09-01.6.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#tasks\"\
        ,\"value\":[\r\n    {\r\n      \"id\":\"myTask\",\"url\":\"https://test1.westus.batch.azure.com/jobs/ncj-ubuntu1404/tasks/myTask\"\
        ,\"eTag\":\"0x8D5077F8DFDB75C\",\"creationTime\":\"2017-09-29T21:17:56.7249244Z\"\
        ,\"lastModified\":\"2017-09-29T21:17:56.7249244Z\",\"state\":\"completed\"\
        ,\"stateTransitionTime\":\"2017-09-29T21:17:58.641633Z\",\"previousState\"\
        :\"running\",\"previousStateTransitionTime\":\"2017-09-29T21:17:57.908217Z\"\
        ,\"commandLine\":\"/bin/bash -c \\\"echo test\\\"\",\"outputFiles\":[\r\n\
        \        {\r\n          \"filePattern\":\"$AZ_BATCH_TASK_DIR/*.txt\",\"destination\"\
        :{\r\n            \"container\":{\r\n              \"containerUrl\":\"https://testaccountforbatch.blob.core.windows.net:443/aaatestcontainer\"\
        \r\n            }\r\n          },\"uploadOptions\":{\r\n            \"uploadCondition\"\
        :\"TaskSuccess\"\r\n          }\r\n        }\r\n      ],\"userIdentity\":{\r\
        \n        \"autoUser\":{\r\n          \"elevationLevel\":\"nonadmin\"\r\n\
        \        }\r\n      },\"constraints\":{\r\n        \"maxWallClockTime\":\"\
        P10675199DT2H48M5.4775807S\",\"retentionTime\":\"PT1H\",\"maxTaskRetryCount\"\
        :0\r\n      },\"executionInfo\":{\r\n        \"startTime\":\"2017-09-29T21:17:57.908339Z\"\
        ,\"endTime\":\"2017-09-29T21:17:58.641633Z\",\"exitCode\":0,\"result\":\"\
        Success\",\"retryCount\":0,\"requeueCount\":0\r\n      },\"nodeInfo\":{\r\n\
        \        \"affinityId\":\"TVM:tvm-57200098_1-20170928t155122z\",\"nodeUrl\"\
        :\"https://test1.westus.batch.azure.com/pools/ncj-ubuntu1404/nodes/tvm-57200098_1-20170928t155122z\"\
        ,\"poolId\":\"ncj-ubuntu1404\",\"nodeId\":\"tvm-57200098_1-20170928t155122z\"\
        ,\"taskRootDirectory\":\"workitems/ncj-ubuntu1404/job-1/myTask\",\"taskRootDirectoryUrl\"\
        :\"https://test1.westus.batch.azure.com/pools/ncj-ubuntu1404/nodes/tvm-57200098_1-20170928t155122z/files/workitems/ncj-ubuntu1404/job-1/myTask\"\
        \r\n      }\r\n    }\r\n  ]\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Fri, 29 Sep 2017 21:18:02 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [f4390a0d-2f40-4d34-9294-375a3432e49d]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.6.1 (Windows-10-10.0.15063-SP0) requests/2.9.1 msrest/0.4.14
          msrest_azure/0.4.14 batchserviceclient/4.0.0 Azure-SDK-For-Python batchextensionsclient/1.0.0]
      accept-language: [en-US]
      client-request-id: [ad3857de-a55b-11e7-a32c-ecb1d755839a]
      ocp-date: ['Fri, 29 Sep 2017 21:18:02 GMT']
    method: GET
    uri: https://test1.westus.batch.azure.com/jobs/ncj-ubuntu1404/tasks/myTask?api-version=2017-09-01.6.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#tasks/@Element\"\
        ,\"id\":\"myTask\",\"url\":\"https://test1.westus.batch.azure.com/jobs/ncj-ubuntu1404/tasks/myTask\"\
        ,\"eTag\":\"0x8D5077F8DFDB75C\",\"creationTime\":\"2017-09-29T21:17:56.7249244Z\"\
        ,\"lastModified\":\"2017-09-29T21:17:56.7249244Z\",\"state\":\"completed\"\
        ,\"stateTransitionTime\":\"2017-09-29T21:17:58.641633Z\",\"previousState\"\
        :\"running\",\"previousStateTransitionTime\":\"2017-09-29T21:17:57.908217Z\"\
        ,\"commandLine\":\"/bin/bash -c \\\"echo test\\\"\",\"outputFiles\":[\r\n\
        \    {\r\n      \"filePattern\":\"$AZ_BATCH_TASK_DIR/*.txt\",\"destination\"\
        :{\r\n        \"container\":{\r\n          \"containerUrl\":\"https://testaccountforbatch.blob.core.windows.net:443/aaatestcontainer\"\
        \r\n        }\r\n      },\"uploadOptions\":{\r\n        \"uploadCondition\"\
        :\"TaskSuccess\"\r\n      }\r\n    }\r\n  ],\"userIdentity\":{\r\n    \"autoUser\"\
        :{\r\n      \"elevationLevel\":\"nonadmin\"\r\n    }\r\n  },\"constraints\"\
        :{\r\n    \"maxWallClockTime\":\"P10675199DT2H48M5.4775807S\",\"retentionTime\"\
        :\"PT1H\",\"maxTaskRetryCount\":0\r\n  },\"executionInfo\":{\r\n    \"startTime\"\
        :\"2017-09-29T21:17:57.908339Z\",\"endTime\":\"2017-09-29T21:17:58.641633Z\"\
        ,\"exitCode\":0,\"result\":\"Success\",\"retryCount\":0,\"requeueCount\":0\r\
        \n  },\"nodeInfo\":{\r\n    \"affinityId\":\"TVM:tvm-57200098_1-20170928t155122z\"\
        ,\"nodeUrl\":\"https://test1.westus.batch.azure.com/pools/ncj-ubuntu1404/nodes/tvm-57200098_1-20170928t155122z\"\
        ,\"poolId\":\"ncj-ubuntu1404\",\"nodeId\":\"tvm-57200098_1-20170928t155122z\"\
        ,\"taskRootDirectory\":\"workitems/ncj-ubuntu1404/job-1/myTask\",\"taskRootDirectoryUrl\"\
        :\"https://test1.westus.batch.azure.com/pools/ncj-ubuntu1404/nodes/tvm-57200098_1-20170928t155122z/files/workitems/ncj-ubuntu1404/job-1/myTask\"\
        \r\n  }\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Fri, 29 Sep 2017 21:18:03 GMT']
      ETag: ['0x8D5077F8DFDB75C']
      Last-Modified: ['Fri, 29 Sep 2017 21:17:56 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [293fff08-9451-4271-bd31-692b5339c350]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Connection: [keep-alive]
      User-Agent: [Azure-Storage/0.36.0 (Python CPython 3.6.1; Windows 10)]
      x-ms-client-request-id: [adb87026-a55b-11e7-a34d-ecb1d755839a]
      x-ms-date: ['Fri, 29 Sep 2017 21:18:03 GMT']
      x-ms-version: ['2017-04-17']
    method: GET
    uri: https://testaccountforbatch.blob.core.windows.net/aaatestcontainer?restype=container&comp=list
  response:
    body: {string: "\uFEFF<?xml version=\"1.0\" encoding=\"utf-8\"?><EnumerationResults\
        \ ServiceEndpoint=\"https://testaccountforbatch.blob.core.windows.net/\" ContainerName=\"\
        aaatestcontainer\"><Blobs><Blob><Name>fileuploaderr.txt</Name><Properties><Last-Modified>Fri,\
        \ 29 Sep 2017 21:17:59 GMT</Last-Modified><Etag>0x8D5077F8F70A1B5</Etag><Content-Length>0</Content-Length><Content-Type>application/octet-stream</Content-Type><Content-Encoding\
        \ /><Content-Language /><Content-MD5>1B2M2Y8AsgTpgAmY7PhCfg==</Content-MD5><Cache-Control\
        \ /><Content-Disposition /><BlobType>BlockBlob</BlobType><LeaseStatus>unlocked</LeaseStatus><LeaseState>available</LeaseState><ServerEncrypted>false</ServerEncrypted></Properties></Blob><Blob><Name>fileuploadout.txt</Name><Properties><Last-Modified>Fri,\
        \ 29 Sep 2017 21:17:59 GMT</Last-Modified><Etag>0x8D5077F8F6C340A</Etag><Content-Length>517</Content-Length><Content-Type>application/octet-stream</Content-Type><Content-Encoding\
        \ /><Content-Language /><Content-MD5>1kkJDeuVYzYrZ+FSekqtsQ==</Content-MD5><Cache-Control\
        \ /><Content-Disposition /><BlobType>BlockBlob</BlobType><LeaseStatus>unlocked</LeaseStatus><LeaseState>available</LeaseState><ServerEncrypted>false</ServerEncrypted></Properties></Blob><Blob><Name>stderr.txt</Name><Properties><Last-Modified>Fri,\
        \ 29 Sep 2017 21:17:59 GMT</Last-Modified><Etag>0x8D5077F8F72C4F9</Etag><Content-Length>0</Content-Length><Content-Type>application/octet-stream</Content-Type><Content-Encoding\
        \ /><Content-Language /><Content-MD5>1B2M2Y8AsgTpgAmY7PhCfg==</Content-MD5><Cache-Control\
        \ /><Content-Disposition /><BlobType>BlockBlob</BlobType><LeaseStatus>unlocked</LeaseStatus><LeaseState>available</LeaseState><ServerEncrypted>false</ServerEncrypted></Properties></Blob><Blob><Name>stdout.txt</Name><Properties><Last-Modified>Fri,\
        \ 29 Sep 2017 21:17:59 GMT</Last-Modified><Etag>0x8D5077F8F6E5752</Etag><Content-Length>5</Content-Length><Content-Type>application/octet-stream</Content-Type><Content-Encoding\
        \ /><Content-Language /><Content-MD5>2Oj8otwPiW/Xy0ywAxuiSQ==</Content-MD5><Cache-Control\
        \ /><Content-Disposition /><BlobType>BlockBlob</BlobType><LeaseStatus>unlocked</LeaseStatus><LeaseState>available</LeaseState><ServerEncrypted>false</ServerEncrypted></Properties></Blob></Blobs><NextMarker\
        \ /></EnumerationResults>"}
    headers:
      Content-Type: [application/xml]
      Date: ['Fri, 29 Sep 2017 21:18:03 GMT']
      Server: [Windows-Azure-Blob/1.0 Microsoft-HTTPAPI/2.0]
      Transfer-Encoding: [chunked]
      x-ms-version: ['2017-04-17']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.6.1 (Windows-10-10.0.15063-SP0) requests/2.9.1 msrest/0.4.14
          msrest_azure/0.4.14 batchserviceclient/4.0.0 Azure-SDK-For-Python batchextensionsclient/1.0.0]
      accept-language: [en-US]
      client-request-id: [adf43f90-a55b-11e7-8a5a-ecb1d755839a]
      ocp-date: ['Fri, 29 Sep 2017 21:18:03 GMT']
    method: DELETE
    uri: https://test1.westus.batch.azure.com/jobs/ncj-ubuntu1404?api-version=2017-09-01.6.0
  response:
    body: {string: ''}
    headers:
      DataServiceVersion: ['3.0']
      Date: ['Fri, 29 Sep 2017 21:18:04 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [e3289717-013e-4839-a5db-ef527813bcab]
    status: {code: 202, message: Accepted}
- request:
    body: null
    headers:
      Connection: [keep-alive]
      User-Agent: [Azure-Storage/0.36.0 (Python CPython 3.6.1; Windows 10)]
      x-ms-client-request-id: [ae70fcb6-a55b-11e7-a9b2-ecb1d755839a]
      x-ms-date: ['Fri, 29 Sep 2017 21:18:04 GMT']
      x-ms-version: ['2017-04-17']
    method: GET
    uri: https://testaccountforbatch.blob.core.windows.net/aaatestcontainer?restype=container&comp=list
  response:
    body: {string: "\uFEFF<?xml version=\"1.0\" encoding=\"utf-8\"?><EnumerationResults\
        \ ServiceEndpoint=\"https://testaccountforbatch.blob.core.windows.net/\" ContainerName=\"\
        aaatestcontainer\"><Blobs><Blob><Name>fileuploaderr.txt</Name><Properties><Last-Modified>Fri,\
        \ 29 Sep 2017 21:17:59 GMT</Last-Modified><Etag>0x8D5077F8F70A1B5</Etag><Content-Length>0</Content-Length><Content-Type>application/octet-stream</Content-Type><Content-Encoding\
        \ /><Content-Language /><Content-MD5>1B2M2Y8AsgTpgAmY7PhCfg==</Content-MD5><Cache-Control\
        \ /><Content-Disposition /><BlobType>BlockBlob</BlobType><LeaseStatus>unlocked</LeaseStatus><LeaseState>available</LeaseState><ServerEncrypted>false</ServerEncrypted></Properties></Blob><Blob><Name>fileuploadout.txt</Name><Properties><Last-Modified>Fri,\
        \ 29 Sep 2017 21:17:59 GMT</Last-Modified><Etag>0x8D5077F8F6C340A</Etag><Content-Length>517</Content-Length><Content-Type>application/octet-stream</Content-Type><Content-Encoding\
        \ /><Content-Language /><Content-MD5>1kkJDeuVYzYrZ+FSekqtsQ==</Content-MD5><Cache-Control\
        \ /><Content-Disposition /><BlobType>BlockBlob</BlobType><LeaseStatus>unlocked</LeaseStatus><LeaseState>available</LeaseState><ServerEncrypted>false</ServerEncrypted></Properties></Blob><Blob><Name>stderr.txt</Name><Properties><Last-Modified>Fri,\
        \ 29 Sep 2017 21:17:59 GMT</Last-Modified><Etag>0x8D5077F8F72C4F9</Etag><Content-Length>0</Content-Length><Content-Type>application/octet-stream</Content-Type><Content-Encoding\
        \ /><Content-Language /><Content-MD5>1B2M2Y8AsgTpgAmY7PhCfg==</Content-MD5><Cache-Control\
        \ /><Content-Disposition /><BlobType>BlockBlob</BlobType><LeaseStatus>unlocked</LeaseStatus><LeaseState>available</LeaseState><ServerEncrypted>false</ServerEncrypted></Properties></Blob><Blob><Name>stdout.txt</Name><Properties><Last-Modified>Fri,\
        \ 29 Sep 2017 21:17:59 GMT</Last-Modified><Etag>0x8D5077F8F6E5752</Etag><Content-Length>5</Content-Length><Content-Type>application/octet-stream</Content-Type><Content-Encoding\
        \ /><Content-Language /><Content-MD5>2Oj8otwPiW/Xy0ywAxuiSQ==</Content-MD5><Cache-Control\
        \ /><Content-Disposition /><BlobType>BlockBlob</BlobType><LeaseStatus>unlocked</LeaseStatus><LeaseState>available</LeaseState><ServerEncrypted>false</ServerEncrypted></Properties></Blob></Blobs><NextMarker\
        \ /></EnumerationResults>"}
    headers:
      Content-Type: [application/xml]
      Date: ['Fri, 29 Sep 2017 21:18:04 GMT']
      Server: [Windows-Azure-Blob/1.0 Microsoft-HTTPAPI/2.0]
      Transfer-Encoding: [chunked]
      x-ms-version: ['2017-04-17']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Connection: [keep-alive]
      Content-Length: ['0']
      User-Agent: [Azure-Storage/0.36.0 (Python CPython 3.6.1; Windows 10)]
      x-ms-client-request-id: [aeace0b6-a55b-11e7-b5fb-ecb1d755839a]
      x-ms-date: ['Fri, 29 Sep 2017 21:18:04 GMT']
      x-ms-version: ['2017-04-17']
    method: DELETE
    uri: https://testaccountforbatch.blob.core.windows.net/aaatestcontainer/fileuploaderr.txt
  response:
    body: {string: ''}
    headers:
      Date: ['Fri, 29 Sep 2017 21:18:05 GMT']
      Server: [Windows-Azure-Blob/1.0 Microsoft-HTTPAPI/2.0]
      Transfer-Encoding: [chunked]
      x-ms-version: ['2017-04-17']
    status: {code: 202, message: Accepted}
- request:
    body: null
    headers:
      Connection: [keep-alive]
      Content-Length: ['0']
      User-Agent: [Azure-Storage/0.36.0 (Python CPython 3.6.1; Windows 10)]
      x-ms-client-request-id: [aecb9f5a-a55b-11e7-9bff-ecb1d755839a]
      x-ms-date: ['Fri, 29 Sep 2017 21:18:05 GMT']
      x-ms-version: ['2017-04-17']
    method: DELETE
    uri: https://testaccountforbatch.blob.core.windows.net/aaatestcontainer/fileuploadout.txt
  response:
    body: {string: ''}
    headers:
      Date: ['Fri, 29 Sep 2017 21:18:05 GMT']
      Server: [Windows-Azure-Blob/1.0 Microsoft-HTTPAPI/2.0]
      Transfer-Encoding: [chunked]
      x-ms-version: ['2017-04-17']
    status: {code: 202, message: Accepted}
- request:
    body: null
    headers:
      Connection: [keep-alive]
      Content-Length: ['0']
      User-Agent: [Azure-Storage/0.36.0 (Python CPython 3.6.1; Windows 10)]
      x-ms-client-request-id: [aeeb0ddc-a55b-11e7-a033-ecb1d755839a]
      x-ms-date: ['Fri, 29 Sep 2017 21:18:05 GMT']
      x-ms-version: ['2017-04-17']
    method: DELETE
    uri: https://testaccountforbatch.blob.core.windows.net/aaatestcontainer/stderr.txt
  response:
    body: {string: ''}
    headers:
      Date: ['Fri, 29 Sep 2017 21:18:05 GMT']
      Server: [Windows-Azure-Blob/1.0 Microsoft-HTTPAPI/2.0]
      Transfer-Encoding: [chunked]
      x-ms-version: ['2017-04-17']
    status: {code: 202, message: Accepted}
- request:
    body: null
    headers:
      Connection: [keep-alive]
      Content-Length: ['0']
      User-Agent: [Azure-Storage/0.36.0 (Python CPython 3.6.1; Windows 10)]
      x-ms-client-request-id: [af09e0dc-a55b-11e7-8616-ecb1d755839a]
      x-ms-date: ['Fri, 29 Sep 2017 21:18:05 GMT']
      x-ms-version: ['2017-04-17']
    method: DELETE
    uri: https://testaccountforbatch.blob.core.windows.net/aaatestcontainer/stdout.txt
  response:
    body: {string: ''}
    headers:
      Date: ['Fri, 29 Sep 2017 21:18:05 GMT']
      Server: [Windows-Azure-Blob/1.0 Microsoft-HTTPAPI/2.0]
      Transfer-Encoding: [chunked]
      x-ms-version: ['2017-04-17']
    status: {code: 202, message: Accepted}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.6.1 (Windows-10-10.0.15063-SP0) requests/2.9.1 msrest/0.4.14
          msrest_azure/0.4.14 batchserviceclient/4.0.0 Azure-SDK-For-Python batchextensionsclient/1.0.0]
      accept-language: [en-US]
      client-request-id: [af28ed74-a55b-11e7-bb61-ecb1d755839a]
      ocp-date: ['Fri, 29 Sep 2017 21:18:05 GMT']
    method: GET
    uri: https://test1.westus.batch.azure.com/nodeagentskus?api-version=2017-09-01.6.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#nodeagentskus\"\
        ,\"value\":[\r\n    {\r\n      \"id\":\"batch.node.centos 7\",\"verifiedImageReferences\"\
        :[\r\n        {\r\n          \"publisher\":\"OpenLogic\",\"offer\":\"CentOS\"\
        ,\"sku\":\"7.3\",\"version\":\"latest\"\r\n        },{\r\n          \"publisher\"\
        :\"OpenLogic\",\"offer\":\"CentOS-HPC\",\"sku\":\"7.3\",\"version\":\"latest\"\
        \r\n        },{\r\n          \"publisher\":\"Oracle\",\"offer\":\"Oracle-Linux\"\
        ,\"sku\":\"7.3\",\"version\":\"latest\"\r\n        },{\r\n          \"publisher\"\
        :\"microsoft-ads\",\"offer\":\"linux-data-science-vm\",\"sku\":\"linuxdsvm\"\
        ,\"version\":\"latest\"\r\n        },{\r\n          \"publisher\":\"batch\"\
        ,\"offer\":\"rendering-centos73\",\"sku\":\"rendering\",\"version\":\"latest\"\
        \r\n        }\r\n      ],\"osType\":\"linux\"\r\n    },{\r\n      \"id\":\"\
        batch.node.debian 8\",\"verifiedImageReferences\":[\r\n        {\r\n     \
        \     \"publisher\":\"Credativ\",\"offer\":\"Debian\",\"sku\":\"8\",\"version\"\
        :\"latest\"\r\n        },{\r\n          \"publisher\":\"Credativ\",\"offer\"\
        :\"Debian\",\"sku\":\"8-backports\",\"version\":\"latest\"\r\n        }\r\n\
        \      ],\"osType\":\"linux\"\r\n    },{\r\n      \"id\":\"batch.node.opensuse\
        \ 13.2\",\"verifiedImageReferences\":[\r\n        \r\n      ],\"osType\":\"\
        linux\"\r\n    },{\r\n      \"id\":\"batch.node.opensuse 42.1\",\"verifiedImageReferences\"\
        :[\r\n        {\r\n          \"publisher\":\"SUSE\",\"offer\":\"SLES\",\"\
        sku\":\"12-SP2\",\"version\":\"latest\"\r\n        },{\r\n          \"publisher\"\
        :\"SUSE\",\"offer\":\"SLES-HPC\",\"sku\":\"12-SP1\",\"version\":\"latest\"\
        \r\n        }\r\n      ],\"osType\":\"linux\"\r\n    },{\r\n      \"id\":\"\
        batch.node.ubuntu 14.04\",\"verifiedImageReferences\":[\r\n        {\r\n \
        \         \"publisher\":\"Canonical\",\"offer\":\"UbuntuServer\",\"sku\":\"\
        14.04.5-LTS\",\"version\":\"latest\"\r\n        }\r\n      ],\"osType\":\"\
        linux\"\r\n    },{\r\n      \"id\":\"batch.node.ubuntu 16.04\",\"verifiedImageReferences\"\
        :[\r\n        {\r\n          \"publisher\":\"Canonical\",\"offer\":\"UbuntuServer\"\
        ,\"sku\":\"16.04-LTS\",\"version\":\"latest\"\r\n        },{\r\n         \
        \ \"publisher\":\"Canonical\",\"offer\":\"UbuntuServer\",\"sku\":\"17.04\"\
        ,\"version\":\"latest\"\r\n        }\r\n      ],\"osType\":\"linux\"\r\n \
        \   },{\r\n      \"id\":\"batch.node.windows amd64\",\"verifiedImageReferences\"\
        :[\r\n        {\r\n          \"publisher\":\"MicrosoftWindowsServer\",\"offer\"\
        :\"WindowsServer\",\"sku\":\"2012-R2-Datacenter\",\"version\":\"latest\"\r\
        \n        },{\r\n          \"publisher\":\"MicrosoftWindowsServer\",\"offer\"\
        :\"WindowsServer\",\"sku\":\"2012-Datacenter\",\"version\":\"latest\"\r\n\
        \        },{\r\n          \"publisher\":\"MicrosoftWindowsServer\",\"offer\"\
        :\"WindowsServer\",\"sku\":\"2008-R2-SP1\",\"version\":\"latest\"\r\n    \
        \    },{\r\n          \"publisher\":\"MicrosoftWindowsServer\",\"offer\":\"\
        WindowsServer\",\"sku\":\"2016-Datacenter\",\"version\":\"latest\"\r\n   \
        \     },{\r\n          \"publisher\":\"MicrosoftWindowsServer\",\"offer\"\
        :\"WindowsServer\",\"sku\":\"2016-Datacenter-with-Containers\",\"version\"\
        :\"latest\"\r\n        },{\r\n          \"publisher\":\"MicrosoftWindowsServer\"\
        ,\"offer\":\"WindowsServer\",\"sku\":\"2008-R2-SP1-smalldisk\",\"version\"\
        :\"latest\"\r\n        },{\r\n          \"publisher\":\"MicrosoftWindowsServer\"\
        ,\"offer\":\"WindowsServer\",\"sku\":\"2012-Datacenter-smalldisk\",\"version\"\
        :\"latest\"\r\n        },{\r\n          \"publisher\":\"MicrosoftWindowsServer\"\
        ,\"offer\":\"WindowsServer\",\"sku\":\"2012-R2-Datacenter-smalldisk\",\"version\"\
        :\"latest\"\r\n        },{\r\n          \"publisher\":\"MicrosoftWindowsServer\"\
        ,\"offer\":\"WindowsServer\",\"sku\":\"2016-Datacenter-smalldisk\",\"version\"\
        :\"latest\"\r\n        },{\r\n          \"publisher\":\"microsoft-ads\",\"\
        offer\":\"standard-data-science-vm\",\"sku\":\"standard-data-science-vm\"\
        ,\"version\":\"latest\"\r\n        },{\r\n          \"publisher\":\"batch\"\
        ,\"offer\":\"rendering-windows2016\",\"sku\":\"rendering\",\"version\":\"\
        latest\"\r\n        }\r\n      ],\"osType\":\"windows\"\r\n    }\r\n  ]\r\n\
        }"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Fri, 29 Sep 2017 21:18:06 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [24f9c339-5f02-4c2f-9142-9c1a643bb08c]
    status: {code: 200, message: OK}
- request:
    body: '{"id": "ncj-windows-2012-r2", "vmSize": "STANDARD_D1_V2", "virtualMachineConfiguration":
      {"imageReference": {"publisher": "MicrosoftWindowsServer", "offer": "WindowsServer",
      "sku": "2012-R2-Datacenter"}, "nodeAgentSKUId": "batch.node.windows amd64"},
      "targetDedicatedNodes": 1}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['277']
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.6.1 (Windows-10-10.0.15063-SP0) requests/2.9.1 msrest/0.4.14
          msrest_azure/0.4.14 batchserviceclient/4.0.0 Azure-SDK-For-Python batchextensionsclient/1.0.0]
      accept-language: [en-US]
      client-request-id: [afa646c2-a55b-11e7-a67e-ecb1d755839a]
      ocp-date: ['Fri, 29 Sep 2017 21:18:06 GMT']
    method: POST
    uri: https://test1.westus.batch.azure.com/pools?api-version=2017-09-01.6.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#Microsoft.Azure.Batch.Protocol.Entities.Container.errors/@Element\"\
        ,\"code\":\"PoolExists\",\"message\":{\r\n    \"lang\":\"en-US\",\"value\"\
        :\"The specified pool already exists.\\nRequestId:ed58872a-d9d3-49bf-87dc-732bdd526590\\\
        nTime:2017-09-29T21:18:07.1290035Z\"\r\n  }\r\n}"}
    headers:
      Content-Length: ['337']
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Fri, 29 Sep 2017 21:18:06 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      X-Content-Type-Options: [nosniff]
      request-id: [ed58872a-d9d3-49bf-87dc-732bdd526590]
    status: {code: 409, message: The specified pool already exists.}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.6.1 (Windows-10-10.0.15063-SP0) requests/2.9.1 msrest/0.4.14
          msrest_azure/0.4.14 batchserviceclient/4.0.0 Azure-SDK-For-Python batchextensionsclient/1.0.0]
      accept-language: [en-US]
      client-request-id: [b024b354-a55b-11e7-8137-ecb1d755839a]
      ocp-date: ['Fri, 29 Sep 2017 21:18:07 GMT']
    method: GET
    uri: https://test1.westus.batch.azure.com/pools/ncj-windows-2012-r2?api-version=2017-09-01.6.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#pools/@Element\"\
        ,\"id\":\"ncj-windows-2012-r2\",\"url\":\"https://test1.westus.batch.azure.com/pools/ncj-windows-2012-r2\"\
        ,\"eTag\":\"0x8D50689BFFE2FC0\",\"lastModified\":\"2017-09-28T15:58:24.4186048Z\"\
        ,\"creationTime\":\"2017-09-28T15:58:24.4186048Z\",\"state\":\"active\",\"\
        stateTransitionTime\":\"2017-09-28T15:58:24.4186048Z\",\"allocationState\"\
        :\"steady\",\"allocationStateTransitionTime\":\"2017-09-28T16:00:23.6859996Z\"\
        ,\"vmSize\":\"standard_d1_v2\",\"resizeTimeout\":\"PT15M\",\"currentDedicatedNodes\"\
        :1,\"targetDedicatedNodes\":1,\"currentLowPriorityNodes\":0,\"targetLowPriorityNodes\"\
        :0,\"enableAutoScale\":false,\"enableInterNodeCommunication\":false,\"maxTasksPerNode\"\
        :1,\"taskSchedulingPolicy\":{\r\n    \"nodeFillType\":\"Spread\"\r\n  },\"\
        virtualMachineConfiguration\":{\r\n    \"imageReference\":{\r\n      \"publisher\"\
        :\"MicrosoftWindowsServer\",\"offer\":\"WindowsServer\",\"sku\":\"2012-R2-Datacenter\"\
        ,\"version\":\"latest\"\r\n    },\"nodeAgentSKUId\":\"batch.node.windows amd64\"\
        \r\n  }\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Fri, 29 Sep 2017 21:18:08 GMT']
      ETag: ['0x8D50689BFFE2FC0']
      Last-Modified: ['Thu, 28 Sep 2017 15:58:24 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [113e29b9-1e3c-415c-a0bf-fd7b4c7f192b]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.6.1 (Windows-10-10.0.15063-SP0) requests/2.9.1 msrest/0.4.14
          msrest_azure/0.4.14 batchserviceclient/4.0.0 Azure-SDK-For-Python batchextensionsclient/1.0.0]
      accept-language: [en-US]
      client-request-id: [b0a16ff8-a55b-11e7-87dd-ecb1d755839a]
      ocp-date: ['Fri, 29 Sep 2017 21:18:08 GMT']
    method: GET
    uri: https://test1.westus.batch.azure.com/pools/ncj-windows-2012-r2/nodes?api-version=2017-09-01.6.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#nodes\"\
        ,\"value\":[\r\n    {\r\n      \"id\":\"tvm-57200098_1-20170928t160022z\"\
        ,\"url\":\"https://test1.westus.batch.azure.com/pools/ncj-windows-2012-r2/nodes/tvm-57200098_1-20170928t160022z\"\
        ,\"state\":\"idle\",\"schedulingState\":\"enabled\",\"stateTransitionTime\"\
        :\"2017-09-28T16:24:47.066214Z\",\"lastBootTime\":\"2017-09-28T16:03:07.137716Z\"\
        ,\"allocationTime\":\"2017-09-28T16:00:22.9900046Z\",\"ipAddress\":\"10.0.0.4\"\
        ,\"affinityId\":\"TVM:tvm-57200098_1-20170928t160022z\",\"vmSize\":\"standard_d1_v2\"\
        ,\"totalTasksRun\":4,\"totalTasksSucceeded\":4,\"runningTasksCount\":0,\"\
        recentTasks\":[\r\n        {\r\n          \"taskUrl\":\"https://test1.westus.batch.azure.com/jobs/ncj-windows-2012-r2-1/tasks/myTask\"\
        ,\"jobId\":\"ncj-windows-2012-r2-1\",\"taskId\":\"myTask\",\"taskState\":\"\
        completed\",\"executionInfo\":{\r\n            \"startTime\":\"2017-09-28T16:24:44.612838Z\"\
        ,\"endTime\":\"2017-09-28T16:24:46.800588Z\",\"exitCode\":0,\"result\":\"\
        Success\",\"retryCount\":0,\"requeueCount\":0\r\n          }\r\n        }\r\
        \n      ],\"isDedicated\":true,\"endpointConfiguration\":{\r\n        \"inboundEndpoints\"\
        :[\r\n          {\r\n            \"name\":\"SSHRule.0\",\"protocol\":\"tcp\"\
        ,\"publicIPAddress\":\"104.41.25.98\",\"publicFQDN\":\"dnsafdb5893-a41b-44d5-8f7e-8094b7eea68b-azurebatch-cloudservice.westus.cloudapp.azure.com\"\
        ,\"frontendPort\":50000,\"backendPort\":3389\r\n          }\r\n        ]\r\
        \n      }\r\n    }\r\n  ]\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Fri, 29 Sep 2017 21:18:08 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [cd1b4ac3-5a3e-456e-8cef-dc0aacd373d3]
    status: {code: 200, message: OK}
- request:
    body: '{"id": "ncj-windows-2012-r2", "poolInfo": {"poolId": "ncj-windows-2012-r2"}}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['76']
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.6.1 (Windows-10-10.0.15063-SP0) requests/2.9.1 msrest/0.4.14
          msrest_azure/0.4.14 batchserviceclient/4.0.0 Azure-SDK-For-Python batchextensionsclient/1.0.0]
      accept-language: [en-US]
      client-request-id: [b12497be-a55b-11e7-8484-ecb1d755839a]
      return-client-request-id: ['false']
    method: POST
    uri: https://test1.westus.batch.azure.com/jobs?api-version=2017-09-01.6.0&timeout=30
  response:
    body: {string: ''}
    headers:
      DataServiceId: ['https://test1.westus.batch.azure.com/jobs/job-1']
      DataServiceVersion: ['3.0']
      Date: ['Fri, 29 Sep 2017 21:18:10 GMT']
      ETag: ['0x8D5077F962A170C']
      Last-Modified: ['Fri, 29 Sep 2017 21:18:10 GMT']
      Location: ['https://test1.westus.batch.azure.com/jobs/job-1']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [c7c9f13e-9fb1-465d-ab6c-9a375628935b]
    status: {code: 201, message: Created}
- request:
    body: '{"value": [{"id": "myTask", "commandLine": "cmd /c echo | set /p dummy=test",
      "outputFiles": [{"filePattern": "$AZ_BATCH_TASK_DIR/*.txt", "destination": {"container":
      {"containerUrl": "https://testaccountforbatch.blob.core.windows.net:443/aaatestcontainer"}},
      "uploadOptions": {"uploadCondition": "taskSuccess"}}], "constraints": {"retentionTime":
      "PT1H"}}]}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['466']
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.6.1 (Windows-10-10.0.15063-SP0) requests/2.9.1 msrest/0.4.14
          msrest_azure/0.4.14 batchserviceclient/4.0.0 Azure-SDK-For-Python batchextensionsclient/1.0.0]
      accept-language: [en-US]
      client-request-id: [b1d42398-a55b-11e7-8074-ecb1d755839a]
    method: POST
    uri: https://test1.westus.batch.azure.com/jobs/ncj-windows-2012-r2/addtaskcollection?api-version=2017-09-01.6.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#taskaddresult\"\
        ,\"value\":[\r\n    {\r\n      \"status\":\"Success\",\"taskId\":\"myTask\"\
        ,\"eTag\":\"0x8D5077F9737BE81\",\"lastModified\":\"2017-09-29T21:18:12.2047105Z\"\
        ,\"location\":\"https://test1.westus.batch.azure.com/jobs/ncj-windows-2012-r2/tasks/myTask\"\
        \r\n    }\r\n  ]\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Fri, 29 Sep 2017 21:18:12 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [10bc8733-3b0c-4721-8716-795c9042e9fd]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.6.1 (Windows-10-10.0.15063-SP0) requests/2.9.1 msrest/0.4.14
          msrest_azure/0.4.14 batchserviceclient/4.0.0 Azure-SDK-For-Python batchextensionsclient/1.0.0]
      accept-language: [en-US]
      client-request-id: [b3212f00-a55b-11e7-82ac-ecb1d755839a]
      ocp-date: ['Fri, 29 Sep 2017 21:18:12 GMT']
    method: GET
    uri: https://test1.westus.batch.azure.com/jobs/ncj-windows-2012-r2?api-version=2017-09-01.6.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#jobs/@Element\"\
        ,\"id\":\"ncj-windows-2012-r2\",\"url\":\"https://test1.westus.batch.azure.com/jobs/ncj-windows-2012-r2\"\
        ,\"eTag\":\"0x8D5077F962A170C\",\"lastModified\":\"2017-09-29T21:18:10.4375052Z\"\
        ,\"creationTime\":\"2017-09-29T21:18:10.4155052Z\",\"state\":\"active\",\"\
        stateTransitionTime\":\"2017-09-29T21:18:10.4375052Z\",\"priority\":0,\"usesTaskDependencies\"\
        :false,\"constraints\":{\r\n    \"maxWallClockTime\":\"P10675199DT2H48M5.4775807S\"\
        ,\"maxTaskRetryCount\":0\r\n  },\"poolInfo\":{\r\n    \"poolId\":\"ncj-windows-2012-r2\"\
        \r\n  },\"executionInfo\":{\r\n    \"startTime\":\"2017-09-29T21:18:10.4375052Z\"\
        ,\"poolId\":\"ncj-windows-2012-r2\"\r\n  },\"onAllTasksComplete\":\"noaction\"\
        ,\"onTaskFailure\":\"noaction\"\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Fri, 29 Sep 2017 21:18:13 GMT']
      ETag: ['0x8D5077F962A170C']
      Last-Modified: ['Fri, 29 Sep 2017 21:18:10 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [a6210feb-6f30-4a63-8398-c355e792e9f7]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.6.1 (Windows-10-10.0.15063-SP0) requests/2.9.1 msrest/0.4.14
          msrest_azure/0.4.14 batchserviceclient/4.0.0 Azure-SDK-For-Python batchextensionsclient/1.0.0]
      accept-language: [en-US]
      client-request-id: [b39c3dd2-a55b-11e7-b833-ecb1d755839a]
      ocp-date: ['Fri, 29 Sep 2017 21:18:13 GMT']
    method: GET
    uri: https://test1.westus.batch.azure.com/jobs/ncj-windows-2012-r2/tasks?api-version=2017-09-01.6.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#tasks\"\
        ,\"value\":[\r\n    {\r\n      \"id\":\"myTask\",\"url\":\"https://test1.westus.batch.azure.com/jobs/ncj-windows-2012-r2/tasks/myTask\"\
        ,\"eTag\":\"0x8D5077F9737BE81\",\"creationTime\":\"2017-09-29T21:18:12.2047105Z\"\
        ,\"lastModified\":\"2017-09-29T21:18:12.2047105Z\",\"state\":\"active\",\"\
        stateTransitionTime\":\"2017-09-29T21:18:12.2047105Z\",\"commandLine\":\"\
        cmd /c echo | set /p dummy=test\",\"outputFiles\":[\r\n        {\r\n     \
        \     \"filePattern\":\"$AZ_BATCH_TASK_DIR/*.txt\",\"destination\":{\r\n \
        \           \"container\":{\r\n              \"containerUrl\":\"https://testaccountforbatch.blob.core.windows.net:443/aaatestcontainer\"\
        \r\n            }\r\n          },\"uploadOptions\":{\r\n            \"uploadCondition\"\
        :\"TaskSuccess\"\r\n          }\r\n        }\r\n      ],\"userIdentity\":{\r\
        \n        \"autoUser\":{\r\n          \"elevationLevel\":\"nonadmin\"\r\n\
        \        }\r\n      },\"constraints\":{\r\n        \"maxWallClockTime\":\"\
        P10675199DT2H48M5.4775807S\",\"retentionTime\":\"PT1H\",\"maxTaskRetryCount\"\
        :0\r\n      },\"executionInfo\":{\r\n        \"retryCount\":0,\"requeueCount\"\
        :0\r\n      }\r\n    }\r\n  ]\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Fri, 29 Sep 2017 21:18:13 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [dbccd892-4cb7-4e11-98c3-b9c4eb21960c]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.6.1 (Windows-10-10.0.15063-SP0) requests/2.9.1 msrest/0.4.14
          msrest_azure/0.4.14 batchserviceclient/4.0.0 Azure-SDK-For-Python batchextensionsclient/1.0.0]
      accept-language: [en-US]
      client-request-id: [b5e4915e-a55b-11e7-b1de-ecb1d755839a]
      ocp-date: ['Fri, 29 Sep 2017 21:18:17 GMT']
    method: GET
    uri: https://test1.westus.batch.azure.com/jobs/ncj-windows-2012-r2/tasks?api-version=2017-09-01.6.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#tasks\"\
        ,\"value\":[\r\n    {\r\n      \"id\":\"myTask\",\"url\":\"https://test1.westus.batch.azure.com/jobs/ncj-windows-2012-r2/tasks/myTask\"\
        ,\"eTag\":\"0x8D5077F9737BE81\",\"creationTime\":\"2017-09-29T21:18:12.2047105Z\"\
        ,\"lastModified\":\"2017-09-29T21:18:12.2047105Z\",\"state\":\"completed\"\
        ,\"stateTransitionTime\":\"2017-09-29T21:18:13.978404Z\",\"previousState\"\
        :\"running\",\"previousStateTransitionTime\":\"2017-09-29T21:18:11.263748Z\"\
        ,\"commandLine\":\"cmd /c echo | set /p dummy=test\",\"outputFiles\":[\r\n\
        \        {\r\n          \"filePattern\":\"$AZ_BATCH_TASK_DIR/*.txt\",\"destination\"\
        :{\r\n            \"container\":{\r\n              \"containerUrl\":\"https://testaccountforbatch.blob.core.windows.net:443/aaatestcontainer\"\
        \r\n            }\r\n          },\"uploadOptions\":{\r\n            \"uploadCondition\"\
        :\"TaskSuccess\"\r\n          }\r\n        }\r\n      ],\"userIdentity\":{\r\
        \n        \"autoUser\":{\r\n          \"elevationLevel\":\"nonadmin\"\r\n\
        \        }\r\n      },\"constraints\":{\r\n        \"maxWallClockTime\":\"\
        P10675199DT2H48M5.4775807S\",\"retentionTime\":\"PT1H\",\"maxTaskRetryCount\"\
        :0\r\n      },\"executionInfo\":{\r\n        \"startTime\":\"2017-09-29T21:18:11.263748Z\"\
        ,\"endTime\":\"2017-09-29T21:18:13.978404Z\",\"exitCode\":0,\"result\":\"\
        Success\",\"retryCount\":0,\"requeueCount\":0\r\n      },\"nodeInfo\":{\r\n\
        \        \"affinityId\":\"TVM:tvm-57200098_1-20170928t160022z\",\"nodeUrl\"\
        :\"https://test1.westus.batch.azure.com/pools/ncj-windows-2012-r2/nodes/tvm-57200098_1-20170928t160022z\"\
        ,\"poolId\":\"ncj-windows-2012-r2\",\"nodeId\":\"tvm-57200098_1-20170928t160022z\"\
        ,\"taskRootDirectory\":\"workitems\\\\ncj-windows-2012-r2\\\\job-1\\\\myTask\"\
        ,\"taskRootDirectoryUrl\":\"https://test1.westus.batch.azure.com/pools/ncj-windows-2012-r2/nodes/tvm-57200098_1-20170928t160022z/files/workitems/ncj-windows-2012-r2/job-1/myTask\"\
        \r\n      }\r\n    }\r\n  ]\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Fri, 29 Sep 2017 21:18:18 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [3597904d-0163-4866-8eb9-910c3f8782d8]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.6.1 (Windows-10-10.0.15063-SP0) requests/2.9.1 msrest/0.4.14
          msrest_azure/0.4.14 batchserviceclient/4.0.0 Azure-SDK-For-Python batchextensionsclient/1.0.0]
      accept-language: [en-US]
      client-request-id: [b666a5d0-a55b-11e7-9e41-ecb1d755839a]
      ocp-date: ['Fri, 29 Sep 2017 21:18:17 GMT']
    method: GET
    uri: https://test1.westus.batch.azure.com/jobs/ncj-windows-2012-r2/tasks/myTask?api-version=2017-09-01.6.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#tasks/@Element\"\
        ,\"id\":\"myTask\",\"url\":\"https://test1.westus.batch.azure.com/jobs/ncj-windows-2012-r2/tasks/myTask\"\
        ,\"eTag\":\"0x8D5077F9737BE81\",\"creationTime\":\"2017-09-29T21:18:12.2047105Z\"\
        ,\"lastModified\":\"2017-09-29T21:18:12.2047105Z\",\"state\":\"completed\"\
        ,\"stateTransitionTime\":\"2017-09-29T21:18:13.978404Z\",\"previousState\"\
        :\"running\",\"previousStateTransitionTime\":\"2017-09-29T21:18:11.263748Z\"\
        ,\"commandLine\":\"cmd /c echo | set /p dummy=test\",\"outputFiles\":[\r\n\
        \    {\r\n      \"filePattern\":\"$AZ_BATCH_TASK_DIR/*.txt\",\"destination\"\
        :{\r\n        \"container\":{\r\n          \"containerUrl\":\"https://testaccountforbatch.blob.core.windows.net:443/aaatestcontainer\"\
        \r\n        }\r\n      },\"uploadOptions\":{\r\n        \"uploadCondition\"\
        :\"TaskSuccess\"\r\n      }\r\n    }\r\n  ],\"userIdentity\":{\r\n    \"autoUser\"\
        :{\r\n      \"elevationLevel\":\"nonadmin\"\r\n    }\r\n  },\"constraints\"\
        :{\r\n    \"maxWallClockTime\":\"P10675199DT2H48M5.4775807S\",\"retentionTime\"\
        :\"PT1H\",\"maxTaskRetryCount\":0\r\n  },\"executionInfo\":{\r\n    \"startTime\"\
        :\"2017-09-29T21:18:11.263748Z\",\"endTime\":\"2017-09-29T21:18:13.978404Z\"\
        ,\"exitCode\":0,\"result\":\"Success\",\"retryCount\":0,\"requeueCount\":0\r\
        \n  },\"nodeInfo\":{\r\n    \"affinityId\":\"TVM:tvm-57200098_1-20170928t160022z\"\
        ,\"nodeUrl\":\"https://test1.westus.batch.azure.com/pools/ncj-windows-2012-r2/nodes/tvm-57200098_1-20170928t160022z\"\
        ,\"poolId\":\"ncj-windows-2012-r2\",\"nodeId\":\"tvm-57200098_1-20170928t160022z\"\
        ,\"taskRootDirectory\":\"workitems\\\\ncj-windows-2012-r2\\\\job-1\\\\myTask\"\
        ,\"taskRootDirectoryUrl\":\"https://test1.westus.batch.azure.com/pools/ncj-windows-2012-r2/nodes/tvm-57200098_1-20170928t160022z/files/workitems/ncj-windows-2012-r2/job-1/myTask\"\
        \r\n  }\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Fri, 29 Sep 2017 21:18:18 GMT']
      ETag: ['0x8D5077F9737BE81']
      Last-Modified: ['Fri, 29 Sep 2017 21:18:12 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [9902f92d-11c3-4fd6-95f0-693d25a191be]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Connection: [keep-alive]
      User-Agent: [Azure-Storage/0.36.0 (Python CPython 3.6.1; Windows 10)]
      x-ms-client-request-id: [b6e3dc74-a55b-11e7-ad63-ecb1d755839a]
      x-ms-date: ['Fri, 29 Sep 2017 21:18:18 GMT']
      x-ms-version: ['2017-04-17']
    method: GET
    uri: https://testaccountforbatch.blob.core.windows.net/aaatestcontainer?restype=container&comp=list
  response:
    body: {string: "\uFEFF<?xml version=\"1.0\" encoding=\"utf-8\"?><EnumerationResults\
        \ ServiceEndpoint=\"https://testaccountforbatch.blob.core.windows.net/\" ContainerName=\"\
        aaatestcontainer\"><Blobs><Blob><Name>fileuploaderr.txt</Name><Properties><Last-Modified>Fri,\
        \ 29 Sep 2017 21:18:17 GMT</Last-Modified><Etag>0x8D5077F9A4C8F19</Etag><Content-Length>0</Content-Length><Content-Type>application/octet-stream</Content-Type><Content-Encoding\
        \ /><Content-Language /><Content-MD5>1B2M2Y8AsgTpgAmY7PhCfg==</Content-MD5><Cache-Control\
        \ /><Content-Disposition /><BlobType>BlockBlob</BlobType><LeaseStatus>unlocked</LeaseStatus><LeaseState>available</LeaseState><ServerEncrypted>false</ServerEncrypted></Properties></Blob><Blob><Name>fileuploadout.txt</Name><Properties><Last-Modified>Fri,\
        \ 29 Sep 2017 21:18:17 GMT</Last-Modified><Etag>0x8D5077F9A50394B</Etag><Content-Length>838</Content-Length><Content-Type>application/octet-stream</Content-Type><Content-Encoding\
        \ /><Content-Language /><Content-MD5>6l38CYarEJbkvFW3GHiyiA==</Content-MD5><Cache-Control\
        \ /><Content-Disposition /><BlobType>BlockBlob</BlobType><LeaseStatus>unlocked</LeaseStatus><LeaseState>available</LeaseState><ServerEncrypted>false</ServerEncrypted></Properties></Blob><Blob><Name>stderr.txt</Name><Properties><Last-Modified>Fri,\
        \ 29 Sep 2017 21:18:17 GMT</Last-Modified><Etag>0x8D5077F9A51991E</Etag><Content-Length>0</Content-Length><Content-Type>application/octet-stream</Content-Type><Content-Encoding\
        \ /><Content-Language /><Content-MD5>1B2M2Y8AsgTpgAmY7PhCfg==</Content-MD5><Cache-Control\
        \ /><Content-Disposition /><BlobType>BlockBlob</BlobType><LeaseStatus>unlocked</LeaseStatus><LeaseState>available</LeaseState><ServerEncrypted>false</ServerEncrypted></Properties></Blob><Blob><Name>stdout.txt</Name><Properties><Last-Modified>Fri,\
        \ 29 Sep 2017 21:18:17 GMT</Last-Modified><Etag>0x8D5077F9A52D1D5</Etag><Content-Length>4</Content-Length><Content-Type>application/octet-stream</Content-Type><Content-Encoding\
        \ /><Content-Language /><Content-MD5>CY9rzUYh03PK3k6DJie09g==</Content-MD5><Cache-Control\
        \ /><Content-Disposition /><BlobType>BlockBlob</BlobType><LeaseStatus>unlocked</LeaseStatus><LeaseState>available</LeaseState><ServerEncrypted>false</ServerEncrypted></Properties></Blob></Blobs><NextMarker\
        \ /></EnumerationResults>"}
    headers:
      Content-Type: [application/xml]
      Date: ['Fri, 29 Sep 2017 21:18:18 GMT']
      Server: [Windows-Azure-Blob/1.0 Microsoft-HTTPAPI/2.0]
      Transfer-Encoding: [chunked]
      x-ms-version: ['2017-04-17']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.6.1 (Windows-10-10.0.15063-SP0) requests/2.9.1 msrest/0.4.14
          msrest_azure/0.4.14 batchserviceclient/4.0.0 Azure-SDK-For-Python batchextensionsclient/1.0.0]
      accept-language: [en-US]
      client-request-id: [b71fe72c-a55b-11e7-8587-ecb1d755839a]
      ocp-date: ['Fri, 29 Sep 2017 21:18:19 GMT']
    method: DELETE
    uri: https://test1.westus.batch.azure.com/jobs/ncj-windows-2012-r2?api-version=2017-09-01.6.0
  response:
    body: {string: ''}
    headers:
      DataServiceVersion: ['3.0']
      Date: ['Fri, 29 Sep 2017 21:18:19 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [9e54c772-5cdc-45c2-a9d8-17504cd34380]
    status: {code: 202, message: Accepted}
- request:
    body: null
    headers:
      Connection: [keep-alive]
      User-Agent: [Azure-Storage/0.36.0 (Python CPython 3.6.1; Windows 10)]
      x-ms-client-request-id: [b79ddc5c-a55b-11e7-8278-ecb1d755839a]
      x-ms-date: ['Fri, 29 Sep 2017 21:18:19 GMT']
      x-ms-version: ['2017-04-17']
    method: GET
    uri: https://testaccountforbatch.blob.core.windows.net/fgrp-output?restype=container&comp=list
  response:
    body: {string: "\uFEFF<?xml version=\"1.0\" encoding=\"utf-8\"?><EnumerationResults\
        \ ServiceEndpoint=\"https://testaccountforbatch.blob.core.windows.net/\" ContainerName=\"\
        fgrp-output\"><Blobs><Blob><Name>fileuploaderr.txt</Name><Properties><Last-Modified>Thu,\
        \ 28 Sep 2017 16:24:46 GMT</Last-Modified><Etag>0x8D5068D6ED02616</Etag><Content-Length>0</Content-Length><Content-Type>application/octet-stream</Content-Type><Content-Encoding\
        \ /><Content-Language /><Content-MD5>1B2M2Y8AsgTpgAmY7PhCfg==</Content-MD5><Cache-Control\
        \ /><Content-Disposition /><BlobType>BlockBlob</BlobType><LeaseStatus>unlocked</LeaseStatus><LeaseState>available</LeaseState><ServerEncrypted>false</ServerEncrypted></Properties></Blob><Blob><Name>fileuploadout.txt</Name><Properties><Last-Modified>Thu,\
        \ 28 Sep 2017 16:24:46 GMT</Last-Modified><Etag>0x8D5068D6ED35AFA</Etag><Content-Length>840</Content-Length><Content-Type>application/octet-stream</Content-Type><Content-Encoding\
        \ /><Content-Language /><Content-MD5>QTNbkkeSGsP6PVRN2mPQVA==</Content-MD5><Cache-Control\
        \ /><Content-Disposition /><BlobType>BlockBlob</BlobType><LeaseStatus>unlocked</LeaseStatus><LeaseState>available</LeaseState><ServerEncrypted>false</ServerEncrypted></Properties></Blob><Blob><Name>stderr.txt</Name><Properties><Last-Modified>Thu,\
        \ 28 Sep 2017 16:24:46 GMT</Last-Modified><Etag>0x8D5068D6ED641B4</Etag><Content-Length>0</Content-Length><Content-Type>application/octet-stream</Content-Type><Content-Encoding\
        \ /><Content-Language /><Content-MD5>1B2M2Y8AsgTpgAmY7PhCfg==</Content-MD5><Cache-Control\
        \ /><Content-Disposition /><BlobType>BlockBlob</BlobType><LeaseStatus>unlocked</LeaseStatus><LeaseState>available</LeaseState><ServerEncrypted>false</ServerEncrypted></Properties></Blob><Blob><Name>stdout.txt</Name><Properties><Last-Modified>Thu,\
        \ 28 Sep 2017 16:24:46 GMT</Last-Modified><Etag>0x8D5068D6ED77A68</Etag><Content-Length>4</Content-Length><Content-Type>application/octet-stream</Content-Type><Content-Encoding\
        \ /><Content-Language /><Content-MD5>CY9rzUYh03PK3k6DJie09g==</Content-MD5><Cache-Control\
        \ /><Content-Disposition /><BlobType>BlockBlob</BlobType><LeaseStatus>unlocked</LeaseStatus><LeaseState>available</LeaseState><ServerEncrypted>false</ServerEncrypted></Properties></Blob></Blobs><NextMarker\
        \ /></EnumerationResults>"}
    headers:
      Content-Type: [application/xml]
      Date: ['Fri, 29 Sep 2017 21:18:20 GMT']
      Server: [Windows-Azure-Blob/1.0 Microsoft-HTTPAPI/2.0]
      Transfer-Encoding: [chunked]
      x-ms-version: ['2017-04-17']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Connection: [keep-alive]
      Content-Length: ['0']
      User-Agent: [Azure-Storage/0.36.0 (Python CPython 3.6.1; Windows 10)]
      x-ms-client-request-id: [b7dd2ee4-a55b-11e7-8f20-ecb1d755839a]
      x-ms-date: ['Fri, 29 Sep 2017 21:18:20 GMT']
      x-ms-version: ['2017-04-17']
    method: DELETE
    uri: https://testaccountforbatch.blob.core.windows.net/fgrp-output/fileuploaderr.txt
  response:
    body: {string: ''}
    headers:
      Date: ['Fri, 29 Sep 2017 21:18:20 GMT']
      Server: [Windows-Azure-Blob/1.0 Microsoft-HTTPAPI/2.0]
      Transfer-Encoding: [chunked]
      x-ms-version: ['2017-04-17']
    status: {code: 202, message: Accepted}
- request:
    body: null
    headers:
      Connection: [keep-alive]
      Content-Length: ['0']
      User-Agent: [Azure-Storage/0.36.0 (Python CPython 3.6.1; Windows 10)]
      x-ms-client-request-id: [b7fc14d2-a55b-11e7-bf6a-ecb1d755839a]
      x-ms-date: ['Fri, 29 Sep 2017 21:18:20 GMT']
      x-ms-version: ['2017-04-17']
    method: DELETE
    uri: https://testaccountforbatch.blob.core.windows.net/fgrp-output/fileuploadout.txt
  response:
    body: {string: ''}
    headers:
      Date: ['Fri, 29 Sep 2017 21:18:20 GMT']
      Server: [Windows-Azure-Blob/1.0 Microsoft-HTTPAPI/2.0]
      Transfer-Encoding: [chunked]
      x-ms-version: ['2017-04-17']
    status: {code: 202, message: Accepted}
- request:
    body: null
    headers:
      Connection: [keep-alive]
      Content-Length: ['0']
      User-Agent: [Azure-Storage/0.36.0 (Python CPython 3.6.1; Windows 10)]
      x-ms-client-request-id: [b81b18ae-a55b-11e7-98df-ecb1d755839a]
      x-ms-date: ['Fri, 29 Sep 2017 21:18:20 GMT']
      x-ms-version: ['2017-04-17']
    method: DELETE
    uri: https://testaccountforbatch.blob.core.windows.net/fgrp-output/stderr.txt
  response:
    body: {string: ''}
    headers:
      Date: ['Fri, 29 Sep 2017 21:18:20 GMT']
      Server: [Windows-Azure-Blob/1.0 Microsoft-HTTPAPI/2.0]
      Transfer-Encoding: [chunked]
      x-ms-version: ['2017-04-17']
    status: {code: 202, message: Accepted}
- request:
    body: null
    headers:
      Connection: [keep-alive]
      Content-Length: ['0']
      User-Agent: [Azure-Storage/0.36.0 (Python CPython 3.6.1; Windows 10)]
      x-ms-client-request-id: [b83a11f6-a55b-11e7-9f00-ecb1d755839a]
      x-ms-date: ['Fri, 29 Sep 2017 21:18:20 GMT']
      x-ms-version: ['2017-04-17']
    method: DELETE
    uri: https://testaccountforbatch.blob.core.windows.net/fgrp-output/stdout.txt
  response:
    body: {string: ''}
    headers:
      Date: ['Fri, 29 Sep 2017 21:18:21 GMT']
      Server: [Windows-Azure-Blob/1.0 Microsoft-HTTPAPI/2.0]
      Transfer-Encoding: [chunked]
      x-ms-version: ['2017-04-17']
    status: {code: 202, message: Accepted}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.6.1 (Windows-10-10.0.15063-SP0) requests/2.9.1 msrest/0.4.14
          msrest_azure/0.4.14 batchserviceclient/4.0.0 Azure-SDK-For-Python batchextensionsclient/1.0.0]
      accept-language: [en-US]
      client-request-id: [b859a924-a55b-11e7-8c41-ecb1d755839a]
      ocp-date: ['Fri, 29 Sep 2017 21:18:21 GMT']
    method: GET
    uri: https://test1.westus.batch.azure.com/nodeagentskus?api-version=2017-09-01.6.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#nodeagentskus\"\
        ,\"value\":[\r\n    {\r\n      \"id\":\"batch.node.centos 7\",\"verifiedImageReferences\"\
        :[\r\n        {\r\n          \"publisher\":\"OpenLogic\",\"offer\":\"CentOS\"\
        ,\"sku\":\"7.3\",\"version\":\"latest\"\r\n        },{\r\n          \"publisher\"\
        :\"OpenLogic\",\"offer\":\"CentOS-HPC\",\"sku\":\"7.3\",\"version\":\"latest\"\
        \r\n        },{\r\n          \"publisher\":\"Oracle\",\"offer\":\"Oracle-Linux\"\
        ,\"sku\":\"7.3\",\"version\":\"latest\"\r\n        },{\r\n          \"publisher\"\
        :\"microsoft-ads\",\"offer\":\"linux-data-science-vm\",\"sku\":\"linuxdsvm\"\
        ,\"version\":\"latest\"\r\n        },{\r\n          \"publisher\":\"batch\"\
        ,\"offer\":\"rendering-centos73\",\"sku\":\"rendering\",\"version\":\"latest\"\
        \r\n        }\r\n      ],\"osType\":\"linux\"\r\n    },{\r\n      \"id\":\"\
        batch.node.debian 8\",\"verifiedImageReferences\":[\r\n        {\r\n     \
        \     \"publisher\":\"Credativ\",\"offer\":\"Debian\",\"sku\":\"8\",\"version\"\
        :\"latest\"\r\n        },{\r\n          \"publisher\":\"Credativ\",\"offer\"\
        :\"Debian\",\"sku\":\"8-backports\",\"version\":\"latest\"\r\n        }\r\n\
        \      ],\"osType\":\"linux\"\r\n    },{\r\n      \"id\":\"batch.node.opensuse\
        \ 13.2\",\"verifiedImageReferences\":[\r\n        \r\n      ],\"osType\":\"\
        linux\"\r\n    },{\r\n      \"id\":\"batch.node.opensuse 42.1\",\"verifiedImageReferences\"\
        :[\r\n        {\r\n          \"publisher\":\"SUSE\",\"offer\":\"SLES\",\"\
        sku\":\"12-SP2\",\"version\":\"latest\"\r\n        },{\r\n          \"publisher\"\
        :\"SUSE\",\"offer\":\"SLES-HPC\",\"sku\":\"12-SP1\",\"version\":\"latest\"\
        \r\n        }\r\n      ],\"osType\":\"linux\"\r\n    },{\r\n      \"id\":\"\
        batch.node.ubuntu 14.04\",\"verifiedImageReferences\":[\r\n        {\r\n \
        \         \"publisher\":\"Canonical\",\"offer\":\"UbuntuServer\",\"sku\":\"\
        14.04.5-LTS\",\"version\":\"latest\"\r\n        }\r\n      ],\"osType\":\"\
        linux\"\r\n    },{\r\n      \"id\":\"batch.node.ubuntu 16.04\",\"verifiedImageReferences\"\
        :[\r\n        {\r\n          \"publisher\":\"Canonical\",\"offer\":\"UbuntuServer\"\
        ,\"sku\":\"16.04-LTS\",\"version\":\"latest\"\r\n        },{\r\n         \
        \ \"publisher\":\"Canonical\",\"offer\":\"UbuntuServer\",\"sku\":\"17.04\"\
        ,\"version\":\"latest\"\r\n        }\r\n      ],\"osType\":\"linux\"\r\n \
        \   },{\r\n      \"id\":\"batch.node.windows amd64\",\"verifiedImageReferences\"\
        :[\r\n        {\r\n          \"publisher\":\"MicrosoftWindowsServer\",\"offer\"\
        :\"WindowsServer\",\"sku\":\"2012-R2-Datacenter\",\"version\":\"latest\"\r\
        \n        },{\r\n          \"publisher\":\"MicrosoftWindowsServer\",\"offer\"\
        :\"WindowsServer\",\"sku\":\"2012-Datacenter\",\"version\":\"latest\"\r\n\
        \        },{\r\n          \"publisher\":\"MicrosoftWindowsServer\",\"offer\"\
        :\"WindowsServer\",\"sku\":\"2008-R2-SP1\",\"version\":\"latest\"\r\n    \
        \    },{\r\n          \"publisher\":\"MicrosoftWindowsServer\",\"offer\":\"\
        WindowsServer\",\"sku\":\"2016-Datacenter\",\"version\":\"latest\"\r\n   \
        \     },{\r\n          \"publisher\":\"MicrosoftWindowsServer\",\"offer\"\
        :\"WindowsServer\",\"sku\":\"2016-Datacenter-with-Containers\",\"version\"\
        :\"latest\"\r\n        },{\r\n          \"publisher\":\"MicrosoftWindowsServer\"\
        ,\"offer\":\"WindowsServer\",\"sku\":\"2008-R2-SP1-smalldisk\",\"version\"\
        :\"latest\"\r\n        },{\r\n          \"publisher\":\"MicrosoftWindowsServer\"\
        ,\"offer\":\"WindowsServer\",\"sku\":\"2012-Datacenter-smalldisk\",\"version\"\
        :\"latest\"\r\n        },{\r\n          \"publisher\":\"MicrosoftWindowsServer\"\
        ,\"offer\":\"WindowsServer\",\"sku\":\"2012-R2-Datacenter-smalldisk\",\"version\"\
        :\"latest\"\r\n        },{\r\n          \"publisher\":\"MicrosoftWindowsServer\"\
        ,\"offer\":\"WindowsServer\",\"sku\":\"2016-Datacenter-smalldisk\",\"version\"\
        :\"latest\"\r\n        },{\r\n          \"publisher\":\"microsoft-ads\",\"\
        offer\":\"standard-data-science-vm\",\"sku\":\"standard-data-science-vm\"\
        ,\"version\":\"latest\"\r\n        },{\r\n          \"publisher\":\"batch\"\
        ,\"offer\":\"rendering-windows2016\",\"sku\":\"rendering\",\"version\":\"\
        latest\"\r\n        }\r\n      ],\"osType\":\"windows\"\r\n    }\r\n  ]\r\n\
        }"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Fri, 29 Sep 2017 21:18:21 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [94f42403-b846-4c48-812a-cc4af7871dbb]
    status: {code: 200, message: OK}
- request:
    body: '{"id": "ncj-ubuntu1404", "vmSize": "STANDARD_D1_V2", "virtualMachineConfiguration":
      {"imageReference": {"publisher": "Canonical", "offer": "UbuntuServer", "sku":
      "14.04.5-LTS"}, "nodeAgentSKUId": "batch.node.ubuntu 14.04"}, "targetDedicatedNodes":
      1}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['250']
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.6.1 (Windows-10-10.0.15063-SP0) requests/2.9.1 msrest/0.4.14
          msrest_azure/0.4.14 batchserviceclient/4.0.0 Azure-SDK-For-Python batchextensionsclient/1.0.0]
      accept-language: [en-US]
      client-request-id: [b8d5ca74-a55b-11e7-9baf-ecb1d755839a]
      ocp-date: ['Fri, 29 Sep 2017 21:18:21 GMT']
    method: POST
    uri: https://test1.westus.batch.azure.com/pools?api-version=2017-09-01.6.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#Microsoft.Azure.Batch.Protocol.Entities.Container.errors/@Element\"\
        ,\"code\":\"PoolExists\",\"message\":{\r\n    \"lang\":\"en-US\",\"value\"\
        :\"The specified pool already exists.\\nRequestId:2effc306-008b-4cd9-9200-67e5fbff619d\\\
        nTime:2017-09-29T21:18:22.6573266Z\"\r\n  }\r\n}"}
    headers:
      Content-Length: ['337']
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Fri, 29 Sep 2017 21:18:22 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      X-Content-Type-Options: [nosniff]
      request-id: [2effc306-008b-4cd9-9200-67e5fbff619d]
    status: {code: 409, message: The specified pool already exists.}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.6.1 (Windows-10-10.0.15063-SP0) requests/2.9.1 msrest/0.4.14
          msrest_azure/0.4.14 batchserviceclient/4.0.0 Azure-SDK-For-Python batchextensionsclient/1.0.0]
      accept-language: [en-US]
      client-request-id: [b9566b48-a55b-11e7-bc26-ecb1d755839a]
      ocp-date: ['Fri, 29 Sep 2017 21:18:22 GMT']
    method: GET
    uri: https://test1.westus.batch.azure.com/pools/ncj-ubuntu1404?api-version=2017-09-01.6.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#pools/@Element\"\
        ,\"id\":\"ncj-ubuntu1404\",\"url\":\"https://test1.westus.batch.azure.com/pools/ncj-ubuntu1404\"\
        ,\"eTag\":\"0x8D506888F6675EC\",\"lastModified\":\"2017-09-28T15:49:53.3968876Z\"\
        ,\"creationTime\":\"2017-09-28T15:49:53.3968876Z\",\"state\":\"active\",\"\
        stateTransitionTime\":\"2017-09-28T15:49:53.3968876Z\",\"allocationState\"\
        :\"steady\",\"allocationStateTransitionTime\":\"2017-09-28T15:51:23.4881379Z\"\
        ,\"vmSize\":\"standard_d1_v2\",\"resizeTimeout\":\"PT15M\",\"currentDedicatedNodes\"\
        :1,\"targetDedicatedNodes\":1,\"currentLowPriorityNodes\":0,\"targetLowPriorityNodes\"\
        :0,\"enableAutoScale\":false,\"enableInterNodeCommunication\":false,\"maxTasksPerNode\"\
        :1,\"taskSchedulingPolicy\":{\r\n    \"nodeFillType\":\"Spread\"\r\n  },\"\
        virtualMachineConfiguration\":{\r\n    \"imageReference\":{\r\n      \"publisher\"\
        :\"Canonical\",\"offer\":\"UbuntuServer\",\"sku\":\"14.04.5-LTS\",\"version\"\
        :\"latest\"\r\n    },\"nodeAgentSKUId\":\"batch.node.ubuntu 14.04\"\r\n  }\r\
        \n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Fri, 29 Sep 2017 21:18:23 GMT']
      ETag: ['0x8D506888F6675EC']
      Last-Modified: ['Thu, 28 Sep 2017 15:49:53 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [1ab3513b-5597-44fd-b7a8-96f017369f7b]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.6.1 (Windows-10-10.0.15063-SP0) requests/2.9.1 msrest/0.4.14
          msrest_azure/0.4.14 batchserviceclient/4.0.0 Azure-SDK-For-Python batchextensionsclient/1.0.0]
      accept-language: [en-US]
      client-request-id: [b9d18dfe-a55b-11e7-a60d-ecb1d755839a]
      ocp-date: ['Fri, 29 Sep 2017 21:18:23 GMT']
    method: GET
    uri: https://test1.westus.batch.azure.com/pools/ncj-ubuntu1404/nodes?api-version=2017-09-01.6.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#nodes\"\
        ,\"value\":[\r\n    {\r\n      \"id\":\"tvm-57200098_1-20170928t155122z\"\
        ,\"url\":\"https://test1.westus.batch.azure.com/pools/ncj-ubuntu1404/nodes/tvm-57200098_1-20170928t155122z\"\
        ,\"state\":\"idle\",\"schedulingState\":\"enabled\",\"stateTransitionTime\"\
        :\"2017-09-29T21:17:58.739268Z\",\"lastBootTime\":\"2017-09-28T15:52:18.295654Z\"\
        ,\"allocationTime\":\"2017-09-28T15:51:22.4652917Z\",\"ipAddress\":\"10.0.0.4\"\
        ,\"affinityId\":\"TVM:tvm-57200098_1-20170928t155122z\",\"vmSize\":\"standard_d1_v2\"\
        ,\"totalTasksRun\":7,\"totalTasksSucceeded\":7,\"runningTasksCount\":0,\"\
        recentTasks\":[\r\n        {\r\n          \"taskUrl\":\"https://test1.westus.batch.azure.com/jobs/ncj-ubuntu1404/tasks/myTask\"\
        ,\"jobId\":\"ncj-ubuntu1404\",\"taskId\":\"myTask\",\"taskState\":\"completed\"\
        ,\"executionInfo\":{\r\n            \"startTime\":\"2017-09-29T21:17:57.908339Z\"\
        ,\"endTime\":\"2017-09-29T21:17:58.641633Z\",\"exitCode\":0,\"result\":\"\
        Success\",\"retryCount\":0,\"requeueCount\":0\r\n          }\r\n        }\r\
        \n      ],\"isDedicated\":true,\"endpointConfiguration\":{\r\n        \"inboundEndpoints\"\
        :[\r\n          {\r\n            \"name\":\"SSHRule.0\",\"protocol\":\"tcp\"\
        ,\"publicIPAddress\":\"104.41.38.204\",\"publicFQDN\":\"dnsc9fa460e-050a-4606-b56c-c72b557beb72-azurebatch-cloudservice.westus.cloudapp.azure.com\"\
        ,\"frontendPort\":50000,\"backendPort\":22\r\n          }\r\n        ]\r\n\
        \      }\r\n    }\r\n  ]\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Fri, 29 Sep 2017 21:18:25 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [393a9da3-256a-4cfa-856e-479a84ea7155]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.1 (Windows-10-10.0.15063-SP0) requests/2.9.1 msrest/0.4.14
          msrest_azure/0.4.14 batchmanagementclient/4.1.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      x-ms-client-request-id: [ba56af9c-a55b-11e7-89ff-ecb1d755839a]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Batch/batchAccounts?api-version=2017-05-01
  response:
    body: {string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/test_rg/providers/Microsoft.Batch/batchAccounts/test1","name":"test1","type":"Microsoft.Batch/batchAccounts","location":"westus","properties":{"accountEndpoint":"test1.westus.batch.azure.com","provisioningState":"Succeeded","dedicatedCoreQuota":20,"lowPriorityCoreQuota":50,"poolQuota":20,"activeJobAndJobScheduleQuota":20,"autoStorage":{"storageAccountId":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/test_rg/providers/Microsoft.Storage/storageAccounts/testaccountforbatch","lastKeySync":"2017-07-22T23:00:06.9397085Z"},"poolAllocationMode":"batchservice"},"tags":{"Name":"tagName","Value":"tagValue"}}]}'}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Fri, 29 Sep 2017 21:18:25 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Vary: [Accept-Encoding]
      content-length: ['6053']
      x-ms-original-request-ids: [7083b089-00b5-483e-b7d2-c45c352e86df, a147b064-7f2e-4954-87a6-03a3ea3b6017,
        c23b1cc0-9a75-42df-91da-402124a7b53d, bf06e9d5-5227-4e26-a003-70a693889167,
        62161089-3fc8-48fd-b19f-9b575810e956, 29072ce4-666e-488c-aae8-1df533f58ba2,
        c1764bd3-9932-432e-a492-bb98e083da46, d6e3d932-1dc7-4517-839e-58da1409cc31,
        59092f83-d3af-41b9-bcc8-daf8728efd3b]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.1 (Windows-10-10.0.15063-SP0) requests/2.9.1 msrest/0.4.14
          msrest_azure/0.4.14 storagemanagementclient/1.2.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      x-ms-client-request-id: [baf01b78-a55b-11e7-9dc9-ecb1d755839a]
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/test_rg/providers/Microsoft.Storage/storageAccounts/testaccountforbatch/listKeys?api-version=2017-06-01
  response:
    body: {string: '{"keys":[{"keyName":"key1","permissions":"Full","value":"abc=="},{"keyName":"key2","permissions":"Full","value":"xyz=="}]}'}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json]
      Date: ['Fri, 29 Sep 2017 21:18:25 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-Azure-Storage-Resource-Provider/1.0, Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      Vary: [Accept-Encoding]
      content-length: ['289']
      x-ms-ratelimit-remaining-subscription-writes: ['1199']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Connection: [keep-alive]
      Content-Length: ['0']
      User-Agent: [Azure-Storage/0.34.0 (Python CPython 3.6.1; Windows 10)]
      x-ms-client-request-id: [bb4a0e36-a55b-11e7-bdb5-ecb1d755839a]
      x-ms-date: ['Fri, 29 Sep 2017 21:18:26 GMT']
      x-ms-version: ['2016-05-31']
    method: PUT
    uri: https://testaccountforbatch.blob.core.windows.net/fgrp-output?restype=container
  response:
    body: {string: "\uFEFF<?xml version=\"1.0\" encoding=\"utf-8\"?><Error><Code>ContainerAlreadyExists</Code><Message>The\
        \ specified container already exists.\nRequestId:c588429a-001e-004d-5a68-396022000000\n\
        Time:2017-09-29T21:18:26.2403041Z</Message></Error>"}
    headers:
      Content-Length: ['230']
      Content-Type: [application/xml]
      Date: ['Fri, 29 Sep 2017 21:18:26 GMT']
      Server: [Windows-Azure-Blob/1.0 Microsoft-HTTPAPI/2.0]
      x-ms-version: ['2016-05-31']
    status: {code: 409, message: The specified container already exists.}
- request:
    body: '{"id": "ncj-ubuntu1404-1", "poolInfo": {"poolId": "ncj-ubuntu1404"}}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['68']
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.6.1 (Windows-10-10.0.15063-SP0) requests/2.9.1 msrest/0.4.14
          msrest_azure/0.4.14 batchserviceclient/4.0.0 Azure-SDK-For-Python batchextensionsclient/1.0.0]
      accept-language: [en-US]
      client-request-id: [bbc5e0ac-a55b-11e7-85bf-ecb1d755839a]
      return-client-request-id: ['false']
    method: POST
    uri: https://test1.westus.batch.azure.com/jobs?api-version=2017-09-01.6.0&timeout=30
  response:
    body: {string: ''}
    headers:
      DataServiceId: ['https://test1.westus.batch.azure.com/jobs/job-1']
      DataServiceVersion: ['3.0']
      Date: ['Fri, 29 Sep 2017 21:18:27 GMT']
      ETag: ['0x8D5077FA0D05797']
      Last-Modified: ['Fri, 29 Sep 2017 21:18:28 GMT']
      Location: ['https://test1.westus.batch.azure.com/jobs/job-1']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [a62ca029-45e1-4817-8557-e94ae4073474]
    status: {code: 201, message: Created}
- request:
    body: '{"value": [{"id": "myTask", "commandLine": "/bin/bash -c \"echo test\"",
      "outputFiles": [{"filePattern": "$AZ_BATCH_TASK_DIR/*.txt", "destination": {"container":
      {"containerUrl": "https://testaccountforbatch.blob.core.windows.net/fgrp-output?st=2017-09-29T21%3A03%3A26Z&se=2017-10-06T21%3A18%3A26Z&sp=w&sv=2016-05-31&sr=c&sig=N0tsfM0AUpqQv3mxm3yV4hK8tGhNTMxIMpRkYqfc7c8%3D"}},
      "uploadOptions": {"uploadCondition": "taskSuccess"}}], "constraints": {"retentionTime":
      "PT1H"}}]}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['474']
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.6.1 (Windows-10-10.0.15063-SP0) requests/2.9.1 msrest/0.4.14
          msrest_azure/0.4.14 batchserviceclient/4.0.0 Azure-SDK-For-Python batchextensionsclient/1.0.0]
      accept-language: [en-US]
      client-request-id: [bc7a4c50-a55b-11e7-9cf0-ecb1d755839a]
    method: POST
    uri: https://test1.westus.batch.azure.com/jobs/ncj-ubuntu1404-1/addtaskcollection?api-version=2017-09-01.6.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#taskaddresult\"\
        ,\"value\":[\r\n    {\r\n      \"status\":\"Success\",\"taskId\":\"myTask\"\
        ,\"eTag\":\"0x8D5077FA1406E73\",\"lastModified\":\"2017-09-29T21:18:29.0388595Z\"\
        ,\"location\":\"https://test1.westus.batch.azure.com/jobs/ncj-ubuntu1404-1/tasks/myTask\"\
        \r\n    }\r\n  ]\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Fri, 29 Sep 2017 21:18:28 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [7c8bd6ff-e3f6-4f5a-85a2-23d7632e633a]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.6.1 (Windows-10-10.0.15063-SP0) requests/2.9.1 msrest/0.4.14
          msrest_azure/0.4.14 batchserviceclient/4.0.0 Azure-SDK-For-Python batchextensionsclient/1.0.0]
      accept-language: [en-US]
      client-request-id: [bd255824-a55b-11e7-9811-ecb1d755839a]
      ocp-date: ['Fri, 29 Sep 2017 21:18:29 GMT']
    method: GET
    uri: https://test1.westus.batch.azure.com/jobs/ncj-ubuntu1404-1?api-version=2017-09-01.6.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#jobs/@Element\"\
        ,\"id\":\"ncj-ubuntu1404-1\",\"url\":\"https://test1.westus.batch.azure.com/jobs/ncj-ubuntu1404-1\"\
        ,\"eTag\":\"0x8D5077FA0D05797\",\"lastModified\":\"2017-09-29T21:18:28.3042711Z\"\
        ,\"creationTime\":\"2017-09-29T21:18:28.2772708Z\",\"state\":\"active\",\"\
        stateTransitionTime\":\"2017-09-29T21:18:28.3042711Z\",\"priority\":0,\"usesTaskDependencies\"\
        :false,\"constraints\":{\r\n    \"maxWallClockTime\":\"P10675199DT2H48M5.4775807S\"\
        ,\"maxTaskRetryCount\":0\r\n  },\"poolInfo\":{\r\n    \"poolId\":\"ncj-ubuntu1404\"\
        \r\n  },\"executionInfo\":{\r\n    \"startTime\":\"2017-09-29T21:18:28.3042711Z\"\
        ,\"poolId\":\"ncj-ubuntu1404\"\r\n  },\"onAllTasksComplete\":\"noaction\"\
        ,\"onTaskFailure\":\"noaction\"\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Fri, 29 Sep 2017 21:18:29 GMT']
      ETag: ['0x8D5077FA0D05797']
      Last-Modified: ['Fri, 29 Sep 2017 21:18:28 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [23ccef69-0e51-44c7-a20b-3f2211c125c2]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.6.1 (Windows-10-10.0.15063-SP0) requests/2.9.1 msrest/0.4.14
          msrest_azure/0.4.14 batchserviceclient/4.0.0 Azure-SDK-For-Python batchextensionsclient/1.0.0]
      accept-language: [en-US]
      client-request-id: [bda145f4-a55b-11e7-a8ee-ecb1d755839a]
      ocp-date: ['Fri, 29 Sep 2017 21:18:30 GMT']
    method: GET
    uri: https://test1.westus.batch.azure.com/jobs/ncj-ubuntu1404-1/tasks?api-version=2017-09-01.6.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#tasks\"\
        ,\"value\":[\r\n    {\r\n      \"id\":\"myTask\",\"url\":\"https://test1.westus.batch.azure.com/jobs/ncj-ubuntu1404-1/tasks/myTask\"\
        ,\"eTag\":\"0x8D5077FA1406E73\",\"creationTime\":\"2017-09-29T21:18:29.0388595Z\"\
        ,\"lastModified\":\"2017-09-29T21:18:29.0388595Z\",\"state\":\"completed\"\
        ,\"stateTransitionTime\":\"2017-09-29T21:18:30.368217Z\",\"previousState\"\
        :\"running\",\"previousStateTransitionTime\":\"2017-09-29T21:18:29.762964Z\"\
        ,\"commandLine\":\"/bin/bash -c \\\"echo test\\\"\",\"outputFiles\":[\r\n\
        \        {\r\n          \"filePattern\":\"$AZ_BATCH_TASK_DIR/*.txt\",\"destination\"\
        :{\r\n            \"container\":{\r\n              \"containerUrl\":\"https://testaccountforbatch.blob.core.windows.net/fgrp-output?st=2017-09-29T21%3A03%3A26Z&se=2017-10-06T21%3A18%3A26Z&sp=w&sv=2016-05-31&sr=c&sig=N0tsfM0AUpqQv3mxm3yV4hK8tGhNTMxIMpRkYqfc7c8%3D\"\
        \r\n            }\r\n          },\"uploadOptions\":{\r\n            \"uploadCondition\"\
        :\"TaskSuccess\"\r\n          }\r\n        }\r\n      ],\"userIdentity\":{\r\
        \n        \"autoUser\":{\r\n          \"elevationLevel\":\"nonadmin\"\r\n\
        \        }\r\n      },\"constraints\":{\r\n        \"maxWallClockTime\":\"\
        P10675199DT2H48M5.4775807S\",\"retentionTime\":\"PT1H\",\"maxTaskRetryCount\"\
        :0\r\n      },\"executionInfo\":{\r\n        \"startTime\":\"2017-09-29T21:18:29.763075Z\"\
        ,\"endTime\":\"2017-09-29T21:18:30.368217Z\",\"exitCode\":0,\"result\":\"\
        Success\",\"retryCount\":0,\"requeueCount\":0\r\n      },\"nodeInfo\":{\r\n\
        \        \"affinityId\":\"TVM:tvm-57200098_1-20170928t155122z\",\"nodeUrl\"\
        :\"https://test1.westus.batch.azure.com/pools/ncj-ubuntu1404/nodes/tvm-57200098_1-20170928t155122z\"\
        ,\"poolId\":\"ncj-ubuntu1404\",\"nodeId\":\"tvm-57200098_1-20170928t155122z\"\
        ,\"taskRootDirectory\":\"workitems/ncj-ubuntu1404-1/job-1/myTask\",\"taskRootDirectoryUrl\"\
        :\"https://test1.westus.batch.azure.com/pools/ncj-ubuntu1404/nodes/tvm-57200098_1-20170928t155122z/files/workitems/ncj-ubuntu1404-1/job-1/myTask\"\
        \r\n      }\r\n    }\r\n  ]\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Fri, 29 Sep 2017 21:18:30 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [e410a538-cb17-4ac3-b964-ea48fbea59a1]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.6.1 (Windows-10-10.0.15063-SP0) requests/2.9.1 msrest/0.4.14
          msrest_azure/0.4.14 batchserviceclient/4.0.0 Azure-SDK-For-Python batchextensionsclient/1.0.0]
      accept-language: [en-US]
      client-request-id: [be21238a-a55b-11e7-88d4-ecb1d755839a]
      ocp-date: ['Fri, 29 Sep 2017 21:18:30 GMT']
    method: GET
    uri: https://test1.westus.batch.azure.com/jobs/ncj-ubuntu1404-1/tasks/myTask?api-version=2017-09-01.6.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#tasks/@Element\"\
        ,\"id\":\"myTask\",\"url\":\"https://test1.westus.batch.azure.com/jobs/ncj-ubuntu1404-1/tasks/myTask\"\
        ,\"eTag\":\"0x8D5077FA1406E73\",\"creationTime\":\"2017-09-29T21:18:29.0388595Z\"\
        ,\"lastModified\":\"2017-09-29T21:18:29.0388595Z\",\"state\":\"completed\"\
        ,\"stateTransitionTime\":\"2017-09-29T21:18:30.368217Z\",\"previousState\"\
        :\"running\",\"previousStateTransitionTime\":\"2017-09-29T21:18:29.762964Z\"\
        ,\"commandLine\":\"/bin/bash -c \\\"echo test\\\"\",\"outputFiles\":[\r\n\
        \    {\r\n      \"filePattern\":\"$AZ_BATCH_TASK_DIR/*.txt\",\"destination\"\
        :{\r\n        \"container\":{\r\n          \"containerUrl\":\"https://testaccountforbatch.blob.core.windows.net/fgrp-output?st=2017-09-29T21%3A03%3A26Z&se=2017-10-06T21%3A18%3A26Z&sp=w&sv=2016-05-31&sr=c&sig=N0tsfM0AUpqQv3mxm3yV4hK8tGhNTMxIMpRkYqfc7c8%3D\"\
        \r\n        }\r\n      },\"uploadOptions\":{\r\n        \"uploadCondition\"\
        :\"TaskSuccess\"\r\n      }\r\n    }\r\n  ],\"userIdentity\":{\r\n    \"autoUser\"\
        :{\r\n      \"elevationLevel\":\"nonadmin\"\r\n    }\r\n  },\"constraints\"\
        :{\r\n    \"maxWallClockTime\":\"P10675199DT2H48M5.4775807S\",\"retentionTime\"\
        :\"PT1H\",\"maxTaskRetryCount\":0\r\n  },\"executionInfo\":{\r\n    \"startTime\"\
        :\"2017-09-29T21:18:29.763075Z\",\"endTime\":\"2017-09-29T21:18:30.368217Z\"\
        ,\"exitCode\":0,\"result\":\"Success\",\"retryCount\":0,\"requeueCount\":0\r\
        \n  },\"nodeInfo\":{\r\n    \"affinityId\":\"TVM:tvm-57200098_1-20170928t155122z\"\
        ,\"nodeUrl\":\"https://test1.westus.batch.azure.com/pools/ncj-ubuntu1404/nodes/tvm-57200098_1-20170928t155122z\"\
        ,\"poolId\":\"ncj-ubuntu1404\",\"nodeId\":\"tvm-57200098_1-20170928t155122z\"\
        ,\"taskRootDirectory\":\"workitems/ncj-ubuntu1404-1/job-1/myTask\",\"taskRootDirectoryUrl\"\
        :\"https://test1.westus.batch.azure.com/pools/ncj-ubuntu1404/nodes/tvm-57200098_1-20170928t155122z/files/workitems/ncj-ubuntu1404-1/job-1/myTask\"\
        \r\n  }\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Fri, 29 Sep 2017 21:18:31 GMT']
      ETag: ['0x8D5077FA1406E73']
      Last-Modified: ['Fri, 29 Sep 2017 21:18:29 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [09153cde-4eaf-428d-8cb1-338af346e22d]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Connection: [keep-alive]
      User-Agent: [Azure-Storage/0.36.0 (Python CPython 3.6.1; Windows 10)]
      x-ms-client-request-id: [bea01758-a55b-11e7-9dda-ecb1d755839a]
      x-ms-date: ['Fri, 29 Sep 2017 21:18:31 GMT']
      x-ms-version: ['2017-04-17']
    method: GET
    uri: https://testaccountforbatch.blob.core.windows.net/fgrp-output?restype=container&comp=list
  response:
    body: {string: "\uFEFF<?xml version=\"1.0\" encoding=\"utf-8\"?><EnumerationResults\
        \ ServiceEndpoint=\"https://testaccountforbatch.blob.core.windows.net/\" ContainerName=\"\
        fgrp-output\"><Blobs><Blob><Name>fileuploaderr.txt</Name><Properties><Last-Modified>Fri,\
        \ 29 Sep 2017 21:18:30 GMT</Last-Modified><Etag>0x8D5077FA25A7C13</Etag><Content-Length>0</Content-Length><Content-Type>application/octet-stream</Content-Type><Content-Encoding\
        \ /><Content-Language /><Content-MD5>1B2M2Y8AsgTpgAmY7PhCfg==</Content-MD5><Cache-Control\
        \ /><Content-Disposition /><BlobType>BlockBlob</BlobType><LeaseStatus>unlocked</LeaseStatus><LeaseState>available</LeaseState><ServerEncrypted>false</ServerEncrypted></Properties></Blob><Blob><Name>fileuploadout.txt</Name><Properties><Last-Modified>Fri,\
        \ 29 Sep 2017 21:18:30 GMT</Last-Modified><Etag>0x8D5077FA255E758</Etag><Content-Length>520</Content-Length><Content-Type>application/octet-stream</Content-Type><Content-Encoding\
        \ /><Content-Language /><Content-MD5>IFxnhNJcEHr9PHMOoRNNlw==</Content-MD5><Cache-Control\
        \ /><Content-Disposition /><BlobType>BlockBlob</BlobType><LeaseStatus>unlocked</LeaseStatus><LeaseState>available</LeaseState><ServerEncrypted>false</ServerEncrypted></Properties></Blob><Blob><Name>stderr.txt</Name><Properties><Last-Modified>Fri,\
        \ 29 Sep 2017 21:18:30 GMT</Last-Modified><Etag>0x8D5077FA25C7848</Etag><Content-Length>0</Content-Length><Content-Type>application/octet-stream</Content-Type><Content-Encoding\
        \ /><Content-Language /><Content-MD5>1B2M2Y8AsgTpgAmY7PhCfg==</Content-MD5><Cache-Control\
        \ /><Content-Disposition /><BlobType>BlockBlob</BlobType><LeaseStatus>unlocked</LeaseStatus><LeaseState>available</LeaseState><ServerEncrypted>false</ServerEncrypted></Properties></Blob><Blob><Name>stdout.txt</Name><Properties><Last-Modified>Fri,\
        \ 29 Sep 2017 21:18:30 GMT</Last-Modified><Etag>0x8D5077FA2580A9C</Etag><Content-Length>5</Content-Length><Content-Type>application/octet-stream</Content-Type><Content-Encoding\
        \ /><Content-Language /><Content-MD5>2Oj8otwPiW/Xy0ywAxuiSQ==</Content-MD5><Cache-Control\
        \ /><Content-Disposition /><BlobType>BlockBlob</BlobType><LeaseStatus>unlocked</LeaseStatus><LeaseState>available</LeaseState><ServerEncrypted>false</ServerEncrypted></Properties></Blob></Blobs><NextMarker\
        \ /></EnumerationResults>"}
    headers:
      Content-Type: [application/xml]
      Date: ['Fri, 29 Sep 2017 21:18:31 GMT']
      Server: [Windows-Azure-Blob/1.0 Microsoft-HTTPAPI/2.0]
      Transfer-Encoding: [chunked]
      x-ms-version: ['2017-04-17']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.6.1 (Windows-10-10.0.15063-SP0) requests/2.9.1 msrest/0.4.14
          msrest_azure/0.4.14 batchserviceclient/4.0.0 Azure-SDK-For-Python batchextensionsclient/1.0.0]
      accept-language: [en-US]
      client-request-id: [bedc830a-a55b-11e7-9cc7-ecb1d755839a]
      ocp-date: ['Fri, 29 Sep 2017 21:18:32 GMT']
    method: DELETE
    uri: https://test1.westus.batch.azure.com/jobs/ncj-ubuntu1404-1?api-version=2017-09-01.6.0
  response:
    body: {string: ''}
    headers:
      DataServiceVersion: ['3.0']
      Date: ['Fri, 29 Sep 2017 21:18:33 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [cf14b3be-e932-4240-812e-0480ea82a47b]
    status: {code: 202, message: Accepted}
- request:
    body: null
    headers:
      Connection: [keep-alive]
      User-Agent: [Azure-Storage/0.36.0 (Python CPython 3.6.1; Windows 10)]
      x-ms-client-request-id: [bf59c886-a55b-11e7-b190-ecb1d755839a]
      x-ms-date: ['Fri, 29 Sep 2017 21:18:32 GMT']
      x-ms-version: ['2017-04-17']
    method: GET
    uri: https://testaccountforbatch.blob.core.windows.net/fgrp-output?restype=container&comp=list
  response:
    body: {string: "\uFEFF<?xml version=\"1.0\" encoding=\"utf-8\"?><EnumerationResults\
        \ ServiceEndpoint=\"https://testaccountforbatch.blob.core.windows.net/\" ContainerName=\"\
        fgrp-output\"><Blobs><Blob><Name>fileuploaderr.txt</Name><Properties><Last-Modified>Fri,\
        \ 29 Sep 2017 21:18:30 GMT</Last-Modified><Etag>0x8D5077FA25A7C13</Etag><Content-Length>0</Content-Length><Content-Type>application/octet-stream</Content-Type><Content-Encoding\
        \ /><Content-Language /><Content-MD5>1B2M2Y8AsgTpgAmY7PhCfg==</Content-MD5><Cache-Control\
        \ /><Content-Disposition /><BlobType>BlockBlob</BlobType><LeaseStatus>unlocked</LeaseStatus><LeaseState>available</LeaseState><ServerEncrypted>false</ServerEncrypted></Properties></Blob><Blob><Name>fileuploadout.txt</Name><Properties><Last-Modified>Fri,\
        \ 29 Sep 2017 21:18:30 GMT</Last-Modified><Etag>0x8D5077FA255E758</Etag><Content-Length>520</Content-Length><Content-Type>application/octet-stream</Content-Type><Content-Encoding\
        \ /><Content-Language /><Content-MD5>IFxnhNJcEHr9PHMOoRNNlw==</Content-MD5><Cache-Control\
        \ /><Content-Disposition /><BlobType>BlockBlob</BlobType><LeaseStatus>unlocked</LeaseStatus><LeaseState>available</LeaseState><ServerEncrypted>false</ServerEncrypted></Properties></Blob><Blob><Name>stderr.txt</Name><Properties><Last-Modified>Fri,\
        \ 29 Sep 2017 21:18:30 GMT</Last-Modified><Etag>0x8D5077FA25C7848</Etag><Content-Length>0</Content-Length><Content-Type>application/octet-stream</Content-Type><Content-Encoding\
        \ /><Content-Language /><Content-MD5>1B2M2Y8AsgTpgAmY7PhCfg==</Content-MD5><Cache-Control\
        \ /><Content-Disposition /><BlobType>BlockBlob</BlobType><LeaseStatus>unlocked</LeaseStatus><LeaseState>available</LeaseState><ServerEncrypted>false</ServerEncrypted></Properties></Blob><Blob><Name>stdout.txt</Name><Properties><Last-Modified>Fri,\
        \ 29 Sep 2017 21:18:30 GMT</Last-Modified><Etag>0x8D5077FA2580A9C</Etag><Content-Length>5</Content-Length><Content-Type>application/octet-stream</Content-Type><Content-Encoding\
        \ /><Content-Language /><Content-MD5>2Oj8otwPiW/Xy0ywAxuiSQ==</Content-MD5><Cache-Control\
        \ /><Content-Disposition /><BlobType>BlockBlob</BlobType><LeaseStatus>unlocked</LeaseStatus><LeaseState>available</LeaseState><ServerEncrypted>false</ServerEncrypted></Properties></Blob></Blobs><NextMarker\
        \ /></EnumerationResults>"}
    headers:
      Content-Type: [application/xml]
      Date: ['Fri, 29 Sep 2017 21:18:33 GMT']
      Server: [Windows-Azure-Blob/1.0 Microsoft-HTTPAPI/2.0]
      Transfer-Encoding: [chunked]
      x-ms-version: ['2017-04-17']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Connection: [keep-alive]
      Content-Length: ['0']
      User-Agent: [Azure-Storage/0.36.0 (Python CPython 3.6.1; Windows 10)]
      x-ms-client-request-id: [bf960dd8-a55b-11e7-a228-ecb1d755839a]
      x-ms-date: ['Fri, 29 Sep 2017 21:18:33 GMT']
      x-ms-version: ['2017-04-17']
    method: DELETE
    uri: https://testaccountforbatch.blob.core.windows.net/fgrp-output/fileuploaderr.txt
  response:
    body: {string: ''}
    headers:
      Date: ['Fri, 29 Sep 2017 21:18:33 GMT']
      Server: [Windows-Azure-Blob/1.0 Microsoft-HTTPAPI/2.0]
      Transfer-Encoding: [chunked]
      x-ms-version: ['2017-04-17']
    status: {code: 202, message: Accepted}
- request:
    body: null
    headers:
      Connection: [keep-alive]
      Content-Length: ['0']
      User-Agent: [Azure-Storage/0.36.0 (Python CPython 3.6.1; Windows 10)]
      x-ms-client-request-id: [bfb5b6fa-a55b-11e7-8889-ecb1d755839a]
      x-ms-date: ['Fri, 29 Sep 2017 21:18:33 GMT']
      x-ms-version: ['2017-04-17']
    method: DELETE
    uri: https://testaccountforbatch.blob.core.windows.net/fgrp-output/fileuploadout.txt
  response:
    body: {string: ''}
    headers:
      Date: ['Fri, 29 Sep 2017 21:18:33 GMT']
      Server: [Windows-Azure-Blob/1.0 Microsoft-HTTPAPI/2.0]
      Transfer-Encoding: [chunked]
      x-ms-version: ['2017-04-17']
    status: {code: 202, message: Accepted}
- request:
    body: null
    headers:
      Connection: [keep-alive]
      Content-Length: ['0']
      User-Agent: [Azure-Storage/0.36.0 (Python CPython 3.6.1; Windows 10)]
      x-ms-client-request-id: [bfd4c41c-a55b-11e7-aae8-ecb1d755839a]
      x-ms-date: ['Fri, 29 Sep 2017 21:18:33 GMT']
      x-ms-version: ['2017-04-17']
    method: DELETE
    uri: https://testaccountforbatch.blob.core.windows.net/fgrp-output/stderr.txt
  response:
    body: {string: ''}
    headers:
      Date: ['Fri, 29 Sep 2017 21:18:33 GMT']
      Server: [Windows-Azure-Blob/1.0 Microsoft-HTTPAPI/2.0]
      Transfer-Encoding: [chunked]
      x-ms-version: ['2017-04-17']
    status: {code: 202, message: Accepted}
- request:
    body: null
    headers:
      Connection: [keep-alive]
      Content-Length: ['0']
      User-Agent: [Azure-Storage/0.36.0 (Python CPython 3.6.1; Windows 10)]
      x-ms-client-request-id: [bff480f4-a55b-11e7-856a-ecb1d755839a]
      x-ms-date: ['Fri, 29 Sep 2017 21:18:33 GMT']
      x-ms-version: ['2017-04-17']
    method: DELETE
    uri: https://testaccountforbatch.blob.core.windows.net/fgrp-output/stdout.txt
  response:
    body: {string: ''}
    headers:
      Date: ['Fri, 29 Sep 2017 21:18:34 GMT']
      Server: [Windows-Azure-Blob/1.0 Microsoft-HTTPAPI/2.0]
      Transfer-Encoding: [chunked]
      x-ms-version: ['2017-04-17']
    status: {code: 202, message: Accepted}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.6.1 (Windows-10-10.0.15063-SP0) requests/2.9.1 msrest/0.4.14
          msrest_azure/0.4.14 batchserviceclient/4.0.0 Azure-SDK-For-Python batchextensionsclient/1.0.0]
      accept-language: [en-US]
      client-request-id: [c013dc08-a55b-11e7-b6a1-ecb1d755839a]
      ocp-date: ['Fri, 29 Sep 2017 21:18:34 GMT']
    method: GET
    uri: https://test1.westus.batch.azure.com/nodeagentskus?api-version=2017-09-01.6.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#nodeagentskus\"\
        ,\"value\":[\r\n    {\r\n      \"id\":\"batch.node.centos 7\",\"verifiedImageReferences\"\
        :[\r\n        {\r\n          \"publisher\":\"OpenLogic\",\"offer\":\"CentOS\"\
        ,\"sku\":\"7.3\",\"version\":\"latest\"\r\n        },{\r\n          \"publisher\"\
        :\"OpenLogic\",\"offer\":\"CentOS-HPC\",\"sku\":\"7.3\",\"version\":\"latest\"\
        \r\n        },{\r\n          \"publisher\":\"Oracle\",\"offer\":\"Oracle-Linux\"\
        ,\"sku\":\"7.3\",\"version\":\"latest\"\r\n        },{\r\n          \"publisher\"\
        :\"microsoft-ads\",\"offer\":\"linux-data-science-vm\",\"sku\":\"linuxdsvm\"\
        ,\"version\":\"latest\"\r\n        },{\r\n          \"publisher\":\"batch\"\
        ,\"offer\":\"rendering-centos73\",\"sku\":\"rendering\",\"version\":\"latest\"\
        \r\n        }\r\n      ],\"osType\":\"linux\"\r\n    },{\r\n      \"id\":\"\
        batch.node.debian 8\",\"verifiedImageReferences\":[\r\n        {\r\n     \
        \     \"publisher\":\"Credativ\",\"offer\":\"Debian\",\"sku\":\"8\",\"version\"\
        :\"latest\"\r\n        },{\r\n          \"publisher\":\"Credativ\",\"offer\"\
        :\"Debian\",\"sku\":\"8-backports\",\"version\":\"latest\"\r\n        }\r\n\
        \      ],\"osType\":\"linux\"\r\n    },{\r\n      \"id\":\"batch.node.opensuse\
        \ 13.2\",\"verifiedImageReferences\":[\r\n        \r\n      ],\"osType\":\"\
        linux\"\r\n    },{\r\n      \"id\":\"batch.node.opensuse 42.1\",\"verifiedImageReferences\"\
        :[\r\n        {\r\n          \"publisher\":\"SUSE\",\"offer\":\"SLES\",\"\
        sku\":\"12-SP2\",\"version\":\"latest\"\r\n        },{\r\n          \"publisher\"\
        :\"SUSE\",\"offer\":\"SLES-HPC\",\"sku\":\"12-SP1\",\"version\":\"latest\"\
        \r\n        }\r\n      ],\"osType\":\"linux\"\r\n    },{\r\n      \"id\":\"\
        batch.node.ubuntu 14.04\",\"verifiedImageReferences\":[\r\n        {\r\n \
        \         \"publisher\":\"Canonical\",\"offer\":\"UbuntuServer\",\"sku\":\"\
        14.04.5-LTS\",\"version\":\"latest\"\r\n        }\r\n      ],\"osType\":\"\
        linux\"\r\n    },{\r\n      \"id\":\"batch.node.ubuntu 16.04\",\"verifiedImageReferences\"\
        :[\r\n        {\r\n          \"publisher\":\"Canonical\",\"offer\":\"UbuntuServer\"\
        ,\"sku\":\"16.04-LTS\",\"version\":\"latest\"\r\n        },{\r\n         \
        \ \"publisher\":\"Canonical\",\"offer\":\"UbuntuServer\",\"sku\":\"17.04\"\
        ,\"version\":\"latest\"\r\n        }\r\n      ],\"osType\":\"linux\"\r\n \
        \   },{\r\n      \"id\":\"batch.node.windows amd64\",\"verifiedImageReferences\"\
        :[\r\n        {\r\n          \"publisher\":\"MicrosoftWindowsServer\",\"offer\"\
        :\"WindowsServer\",\"sku\":\"2012-R2-Datacenter\",\"version\":\"latest\"\r\
        \n        },{\r\n          \"publisher\":\"MicrosoftWindowsServer\",\"offer\"\
        :\"WindowsServer\",\"sku\":\"2012-Datacenter\",\"version\":\"latest\"\r\n\
        \        },{\r\n          \"publisher\":\"MicrosoftWindowsServer\",\"offer\"\
        :\"WindowsServer\",\"sku\":\"2008-R2-SP1\",\"version\":\"latest\"\r\n    \
        \    },{\r\n          \"publisher\":\"MicrosoftWindowsServer\",\"offer\":\"\
        WindowsServer\",\"sku\":\"2016-Datacenter\",\"version\":\"latest\"\r\n   \
        \     },{\r\n          \"publisher\":\"MicrosoftWindowsServer\",\"offer\"\
        :\"WindowsServer\",\"sku\":\"2016-Datacenter-with-Containers\",\"version\"\
        :\"latest\"\r\n        },{\r\n          \"publisher\":\"MicrosoftWindowsServer\"\
        ,\"offer\":\"WindowsServer\",\"sku\":\"2008-R2-SP1-smalldisk\",\"version\"\
        :\"latest\"\r\n        },{\r\n          \"publisher\":\"MicrosoftWindowsServer\"\
        ,\"offer\":\"WindowsServer\",\"sku\":\"2012-Datacenter-smalldisk\",\"version\"\
        :\"latest\"\r\n        },{\r\n          \"publisher\":\"MicrosoftWindowsServer\"\
        ,\"offer\":\"WindowsServer\",\"sku\":\"2012-R2-Datacenter-smalldisk\",\"version\"\
        :\"latest\"\r\n        },{\r\n          \"publisher\":\"MicrosoftWindowsServer\"\
        ,\"offer\":\"WindowsServer\",\"sku\":\"2016-Datacenter-smalldisk\",\"version\"\
        :\"latest\"\r\n        },{\r\n          \"publisher\":\"microsoft-ads\",\"\
        offer\":\"standard-data-science-vm\",\"sku\":\"standard-data-science-vm\"\
        ,\"version\":\"latest\"\r\n        },{\r\n          \"publisher\":\"batch\"\
        ,\"offer\":\"rendering-windows2016\",\"sku\":\"rendering\",\"version\":\"\
        latest\"\r\n        }\r\n      ],\"osType\":\"windows\"\r\n    }\r\n  ]\r\n\
        }"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Fri, 29 Sep 2017 21:18:34 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [fbea1f58-8130-40b9-97ba-613d113c9646]
    status: {code: 200, message: OK}
- request:
    body: '{"id": "ncj-windows-2012-r2", "vmSize": "STANDARD_D1_V2", "virtualMachineConfiguration":
      {"imageReference": {"publisher": "MicrosoftWindowsServer", "offer": "WindowsServer",
      "sku": "2012-R2-Datacenter"}, "nodeAgentSKUId": "batch.node.windows amd64"},
      "targetDedicatedNodes": 1}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['277']
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.6.1 (Windows-10-10.0.15063-SP0) requests/2.9.1 msrest/0.4.14
          msrest_azure/0.4.14 batchserviceclient/4.0.0 Azure-SDK-For-Python batchextensionsclient/1.0.0]
      accept-language: [en-US]
      client-request-id: [c0989b76-a55b-11e7-9e4d-ecb1d755839a]
      ocp-date: ['Fri, 29 Sep 2017 21:18:34 GMT']
    method: POST
    uri: https://test1.westus.batch.azure.com/pools?api-version=2017-09-01.6.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#Microsoft.Azure.Batch.Protocol.Entities.Container.errors/@Element\"\
        ,\"code\":\"PoolExists\",\"message\":{\r\n    \"lang\":\"en-US\",\"value\"\
        :\"The specified pool already exists.\\nRequestId:1d90b7be-ba51-424d-88c1-aeb384ab0443\\\
        nTime:2017-09-29T21:18:35.6609713Z\"\r\n  }\r\n}"}
    headers:
      Content-Length: ['337']
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Fri, 29 Sep 2017 21:18:35 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      X-Content-Type-Options: [nosniff]
      request-id: [1d90b7be-ba51-424d-88c1-aeb384ab0443]
    status: {code: 409, message: The specified pool already exists.}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.6.1 (Windows-10-10.0.15063-SP0) requests/2.9.1 msrest/0.4.14
          msrest_azure/0.4.14 batchserviceclient/4.0.0 Azure-SDK-For-Python batchextensionsclient/1.0.0]
      accept-language: [en-US]
      client-request-id: [c11aea1e-a55b-11e7-ad9a-ecb1d755839a]
      ocp-date: ['Fri, 29 Sep 2017 21:18:35 GMT']
    method: GET
    uri: https://test1.westus.batch.azure.com/pools/ncj-windows-2012-r2?api-version=2017-09-01.6.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#pools/@Element\"\
        ,\"id\":\"ncj-windows-2012-r2\",\"url\":\"https://test1.westus.batch.azure.com/pools/ncj-windows-2012-r2\"\
        ,\"eTag\":\"0x8D50689BFFE2FC0\",\"lastModified\":\"2017-09-28T15:58:24.4186048Z\"\
        ,\"creationTime\":\"2017-09-28T15:58:24.4186048Z\",\"state\":\"active\",\"\
        stateTransitionTime\":\"2017-09-28T15:58:24.4186048Z\",\"allocationState\"\
        :\"steady\",\"allocationStateTransitionTime\":\"2017-09-28T16:00:23.6859996Z\"\
        ,\"vmSize\":\"standard_d1_v2\",\"resizeTimeout\":\"PT15M\",\"currentDedicatedNodes\"\
        :1,\"targetDedicatedNodes\":1,\"currentLowPriorityNodes\":0,\"targetLowPriorityNodes\"\
        :0,\"enableAutoScale\":false,\"enableInterNodeCommunication\":false,\"maxTasksPerNode\"\
        :1,\"taskSchedulingPolicy\":{\r\n    \"nodeFillType\":\"Spread\"\r\n  },\"\
        virtualMachineConfiguration\":{\r\n    \"imageReference\":{\r\n      \"publisher\"\
        :\"MicrosoftWindowsServer\",\"offer\":\"WindowsServer\",\"sku\":\"2012-R2-Datacenter\"\
        ,\"version\":\"latest\"\r\n    },\"nodeAgentSKUId\":\"batch.node.windows amd64\"\
        \r\n  }\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Fri, 29 Sep 2017 21:18:36 GMT']
      ETag: ['0x8D50689BFFE2FC0']
      Last-Modified: ['Thu, 28 Sep 2017 15:58:24 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [c25bc562-f29b-4d52-a767-216eaeffa0dc]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.6.1 (Windows-10-10.0.15063-SP0) requests/2.9.1 msrest/0.4.14
          msrest_azure/0.4.14 batchserviceclient/4.0.0 Azure-SDK-For-Python batchextensionsclient/1.0.0]
      accept-language: [en-US]
      client-request-id: [c197a6d0-a55b-11e7-8444-ecb1d755839a]
      ocp-date: ['Fri, 29 Sep 2017 21:18:36 GMT']
    method: GET
    uri: https://test1.westus.batch.azure.com/pools/ncj-windows-2012-r2/nodes?api-version=2017-09-01.6.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#nodes\"\
        ,\"value\":[\r\n    {\r\n      \"id\":\"tvm-57200098_1-20170928t160022z\"\
        ,\"url\":\"https://test1.westus.batch.azure.com/pools/ncj-windows-2012-r2/nodes/tvm-57200098_1-20170928t160022z\"\
        ,\"state\":\"idle\",\"schedulingState\":\"enabled\",\"stateTransitionTime\"\
        :\"2017-09-29T21:18:14.244049Z\",\"lastBootTime\":\"2017-09-28T16:03:07.137716Z\"\
        ,\"allocationTime\":\"2017-09-28T16:00:22.9900046Z\",\"ipAddress\":\"10.0.0.4\"\
        ,\"affinityId\":\"TVM:tvm-57200098_1-20170928t160022z\",\"vmSize\":\"standard_d1_v2\"\
        ,\"totalTasksRun\":5,\"totalTasksSucceeded\":5,\"runningTasksCount\":0,\"\
        recentTasks\":[\r\n        {\r\n          \"taskUrl\":\"https://test1.westus.batch.azure.com/jobs/ncj-windows-2012-r2/tasks/myTask\"\
        ,\"jobId\":\"ncj-windows-2012-r2\",\"taskId\":\"myTask\",\"taskState\":\"\
        completed\",\"executionInfo\":{\r\n            \"startTime\":\"2017-09-29T21:18:11.263748Z\"\
        ,\"endTime\":\"2017-09-29T21:18:13.978404Z\",\"exitCode\":0,\"result\":\"\
        Success\",\"retryCount\":0,\"requeueCount\":0\r\n          }\r\n        }\r\
        \n      ],\"isDedicated\":true,\"endpointConfiguration\":{\r\n        \"inboundEndpoints\"\
        :[\r\n          {\r\n            \"name\":\"SSHRule.0\",\"protocol\":\"tcp\"\
        ,\"publicIPAddress\":\"104.41.25.98\",\"publicFQDN\":\"dnsafdb5893-a41b-44d5-8f7e-8094b7eea68b-azurebatch-cloudservice.westus.cloudapp.azure.com\"\
        ,\"frontendPort\":50000,\"backendPort\":3389\r\n          }\r\n        ]\r\
        \n      }\r\n    }\r\n  ]\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Fri, 29 Sep 2017 21:18:37 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [27d38ced-ef48-40ba-aab9-fac3e81aa12e]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.1 (Windows-10-10.0.15063-SP0) requests/2.9.1 msrest/0.4.14
          msrest_azure/0.4.14 batchmanagementclient/4.1.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      x-ms-client-request-id: [c21d16d2-a55b-11e7-a245-ecb1d755839a]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Batch/batchAccounts?api-version=2017-05-01
  response:
    body: {string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/test_rg/providers/Microsoft.Batch/batchAccounts/test1","name":"test1","type":"Microsoft.Batch/batchAccounts","location":"westus","properties":{"accountEndpoint":"test1.westus.batch.azure.com","provisioningState":"Succeeded","dedicatedCoreQuota":20,"lowPriorityCoreQuota":50,"poolQuota":20,"activeJobAndJobScheduleQuota":20,"autoStorage":{"storageAccountId":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/test_rg/providers/Microsoft.Storage/storageAccounts/testaccountforbatch","lastKeySync":"2017-07-22T23:00:06.9397085Z"},"poolAllocationMode":"batchservice"},"tags":{"Name":"tagName","Value":"tagValue"}}]}'}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Fri, 29 Sep 2017 21:18:38 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Vary: [Accept-Encoding]
      content-length: ['6053']
      x-ms-original-request-ids: [3e322eae-817d-47e4-91a1-6198ca14eff8, d948432e-9202-4e83-ad2d-a40205ecafb1,
        020a4595-ad72-4146-875c-85aa915d84ee, 4f48899f-3694-4d5b-9114-ee7b5a24b317,
        0b4ed4c3-d157-4288-b362-509656bad9b8, fedace1d-6b1a-42ac-b858-ff3426c94d70,
        695ab139-8f42-4aad-bbff-39d1884e010c, e846ff46-5474-4b1a-b57b-99ee46c273b8,
        6fa35ff4-1ad2-4926-bdc8-92691d275ef9]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.1 (Windows-10-10.0.15063-SP0) requests/2.9.1 msrest/0.4.14
          msrest_azure/0.4.14 storagemanagementclient/1.2.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      x-ms-client-request-id: [c2b4e8e8-a55b-11e7-9083-ecb1d755839a]
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/test_rg/providers/Microsoft.Storage/storageAccounts/testaccountforbatch/listKeys?api-version=2017-06-01
  response:
    body: {string: '{"keys":[{"keyName":"key1","permissions":"Full","value":"abc=="},{"keyName":"key2","permissions":"Full","value":"xyz=="}]}'}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json]
      Date: ['Fri, 29 Sep 2017 21:18:38 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-Azure-Storage-Resource-Provider/1.0, Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      Vary: [Accept-Encoding]
      content-length: ['289']
      x-ms-ratelimit-remaining-subscription-writes: ['1199']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Connection: [keep-alive]
      Content-Length: ['0']
      User-Agent: [Azure-Storage/0.34.0 (Python CPython 3.6.1; Windows 10)]
      x-ms-client-request-id: [c30a8282-a55b-11e7-9005-ecb1d755839a]
      x-ms-date: ['Fri, 29 Sep 2017 21:18:39 GMT']
      x-ms-version: ['2016-05-31']
    method: PUT
    uri: https://testaccountforbatch.blob.core.windows.net/fgrp-output?restype=container
  response:
    body: {string: "\uFEFF<?xml version=\"1.0\" encoding=\"utf-8\"?><Error><Code>ContainerAlreadyExists</Code><Message>The\
        \ specified container already exists.\nRequestId:50b62518-001e-004f-7368-3962d8000000\n\
        Time:2017-09-29T21:18:39.1853850Z</Message></Error>"}
    headers:
      Content-Length: ['230']
      Content-Type: [application/xml]
      Date: ['Fri, 29 Sep 2017 21:18:39 GMT']
      Server: [Windows-Azure-Blob/1.0 Microsoft-HTTPAPI/2.0]
      x-ms-version: ['2016-05-31']
    status: {code: 409, message: The specified container already exists.}
- request:
    body: '{"id": "ncj-windows-2012-r2-1", "poolInfo": {"poolId": "ncj-windows-2012-r2"}}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['78']
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.6.1 (Windows-10-10.0.15063-SP0) requests/2.9.1 msrest/0.4.14
          msrest_azure/0.4.14 batchserviceclient/4.0.0 Azure-SDK-For-Python batchextensionsclient/1.0.0]
      accept-language: [en-US]
      client-request-id: [c386688a-a55b-11e7-914e-ecb1d755839a]
      return-client-request-id: ['false']
    method: POST
    uri: https://test1.westus.batch.azure.com/jobs?api-version=2017-09-01.6.0&timeout=30
  response:
    body: {string: ''}
    headers:
      DataServiceId: ['https://test1.westus.batch.azure.com/jobs/job-1']
      DataServiceVersion: ['3.0']
      Date: ['Fri, 29 Sep 2017 21:18:40 GMT']
      ETag: ['0x8D5077FA890DCBB']
      Last-Modified: ['Fri, 29 Sep 2017 21:18:41 GMT']
      Location: ['https://test1.westus.batch.azure.com/jobs/job-1']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [2a5a580e-3da0-48b7-9fbb-c98e7a4f4176]
    status: {code: 201, message: Created}
- request:
    body: '{"value": [{"id": "myTask", "commandLine": "cmd /c echo | set /p dummy=test",
      "outputFiles": [{"filePattern": "$AZ_BATCH_TASK_DIR/*.txt", "destination": {"container":
      {"containerUrl": "https://testaccountforbatch.blob.core.windows.net/fgrp-output?st=2017-09-29T21%3A03%3A39Z&se=2017-10-06T21%3A18%3A39Z&sp=w&sv=2016-05-31&sr=c&sig=Nek6DZLmRd7pjDkC2whvYK9ktaWpoVUi%2BUWTSjsqcIM%3D"}},
      "uploadOptions": {"uploadCondition": "taskSuccess"}}], "constraints": {"retentionTime":
      "PT1H"}}]}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['481']
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.6.1 (Windows-10-10.0.15063-SP0) requests/2.9.1 msrest/0.4.14
          msrest_azure/0.4.14 batchserviceclient/4.0.0 Azure-SDK-For-Python batchextensionsclient/1.0.0]
      accept-language: [en-US]
      client-request-id: [c43b99e8-a55b-11e7-aeee-ecb1d755839a]
    method: POST
    uri: https://test1.westus.batch.azure.com/jobs/ncj-windows-2012-r2-1/addtaskcollection?api-version=2017-09-01.6.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#taskaddresult\"\
        ,\"value\":[\r\n    {\r\n      \"status\":\"Success\",\"taskId\":\"myTask\"\
        ,\"eTag\":\"0x8D5077FA8DAFA61\",\"lastModified\":\"2017-09-29T21:18:41.7957473Z\"\
        ,\"location\":\"https://test1.westus.batch.azure.com/jobs/ncj-windows-2012-r2-1/tasks/myTask\"\
        \r\n    }\r\n  ]\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Fri, 29 Sep 2017 21:18:41 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [aec12b10-64dc-4fef-827c-79878a456074]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.6.1 (Windows-10-10.0.15063-SP0) requests/2.9.1 msrest/0.4.14
          msrest_azure/0.4.14 batchserviceclient/4.0.0 Azure-SDK-For-Python batchextensionsclient/1.0.0]
      accept-language: [en-US]
      client-request-id: [c4bc9c62-a55b-11e7-87a8-ecb1d755839a]
      ocp-date: ['Fri, 29 Sep 2017 21:18:41 GMT']
    method: GET
    uri: https://test1.westus.batch.azure.com/jobs/ncj-windows-2012-r2-1?api-version=2017-09-01.6.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#jobs/@Element\"\
        ,\"id\":\"ncj-windows-2012-r2-1\",\"url\":\"https://test1.westus.batch.azure.com/jobs/ncj-windows-2012-r2-1\"\
        ,\"eTag\":\"0x8D5077FA890DCBB\",\"lastModified\":\"2017-09-29T21:18:41.3100219Z\"\
        ,\"creationTime\":\"2017-09-29T21:18:41.2899782Z\",\"state\":\"active\",\"\
        stateTransitionTime\":\"2017-09-29T21:18:41.3100219Z\",\"priority\":0,\"usesTaskDependencies\"\
        :false,\"constraints\":{\r\n    \"maxWallClockTime\":\"P10675199DT2H48M5.4775807S\"\
        ,\"maxTaskRetryCount\":0\r\n  },\"poolInfo\":{\r\n    \"poolId\":\"ncj-windows-2012-r2\"\
        \r\n  },\"executionInfo\":{\r\n    \"startTime\":\"2017-09-29T21:18:41.3100219Z\"\
        ,\"poolId\":\"ncj-windows-2012-r2\"\r\n  },\"onAllTasksComplete\":\"noaction\"\
        ,\"onTaskFailure\":\"noaction\"\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Fri, 29 Sep 2017 21:18:42 GMT']
      ETag: ['0x8D5077FA890DCBB']
      Last-Modified: ['Fri, 29 Sep 2017 21:18:41 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [e570e582-8736-41b6-86f2-fa64de9bf0a3]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.6.1 (Windows-10-10.0.15063-SP0) requests/2.9.1 msrest/0.4.14
          msrest_azure/0.4.14 batchserviceclient/4.0.0 Azure-SDK-For-Python batchextensionsclient/1.0.0]
      accept-language: [en-US]
      client-request-id: [c53c1864-a55b-11e7-a5f1-ecb1d755839a]
      ocp-date: ['Fri, 29 Sep 2017 21:18:42 GMT']
    method: GET
    uri: https://test1.westus.batch.azure.com/jobs/ncj-windows-2012-r2-1/tasks?api-version=2017-09-01.6.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#tasks\"\
        ,\"value\":[\r\n    {\r\n      \"id\":\"myTask\",\"url\":\"https://test1.westus.batch.azure.com/jobs/ncj-windows-2012-r2-1/tasks/myTask\"\
        ,\"eTag\":\"0x8D5077FA8DAFA61\",\"creationTime\":\"2017-09-29T21:18:41.7957473Z\"\
        ,\"lastModified\":\"2017-09-29T21:18:41.7957473Z\",\"state\":\"running\",\"\
        stateTransitionTime\":\"2017-09-29T21:18:40.19127Z\",\"previousState\":\"\
        active\",\"previousStateTransitionTime\":\"2017-09-29T21:18:41.7957473Z\"\
        ,\"commandLine\":\"cmd /c echo | set /p dummy=test\",\"outputFiles\":[\r\n\
        \        {\r\n          \"filePattern\":\"$AZ_BATCH_TASK_DIR/*.txt\",\"destination\"\
        :{\r\n            \"container\":{\r\n              \"containerUrl\":\"https://testaccountforbatch.blob.core.windows.net/fgrp-output?st=2017-09-29T21%3A03%3A39Z&se=2017-10-06T21%3A18%3A39Z&sp=w&sv=2016-05-31&sr=c&sig=Nek6DZLmRd7pjDkC2whvYK9ktaWpoVUi%2BUWTSjsqcIM%3D\"\
        \r\n            }\r\n          },\"uploadOptions\":{\r\n            \"uploadCondition\"\
        :\"TaskSuccess\"\r\n          }\r\n        }\r\n      ],\"userIdentity\":{\r\
        \n        \"autoUser\":{\r\n          \"elevationLevel\":\"nonadmin\"\r\n\
        \        }\r\n      },\"constraints\":{\r\n        \"maxWallClockTime\":\"\
        P10675199DT2H48M5.4775807S\",\"retentionTime\":\"PT1H\",\"maxTaskRetryCount\"\
        :0\r\n      },\"executionInfo\":{\r\n        \"startTime\":\"2017-09-29T21:18:40.19127Z\"\
        ,\"retryCount\":0,\"requeueCount\":0\r\n      },\"nodeInfo\":{\r\n       \
        \ \"affinityId\":\"TVM:tvm-57200098_1-20170928t160022z\",\"nodeUrl\":\"https://test1.westus.batch.azure.com/pools/ncj-windows-2012-r2/nodes/tvm-57200098_1-20170928t160022z\"\
        ,\"poolId\":\"ncj-windows-2012-r2\",\"nodeId\":\"tvm-57200098_1-20170928t160022z\"\
        \r\n      }\r\n    }\r\n  ]\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Fri, 29 Sep 2017 21:18:43 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [a34f400b-ff23-40b2-a437-eaa1798080ab]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.6.1 (Windows-10-10.0.15063-SP0) requests/2.9.1 msrest/0.4.14
          msrest_azure/0.4.14 batchserviceclient/4.0.0 Azure-SDK-For-Python batchextensionsclient/1.0.0]
      accept-language: [en-US]
      client-request-id: [c7840cec-a55b-11e7-afaa-ecb1d755839a]
      ocp-date: ['Fri, 29 Sep 2017 21:18:46 GMT']
    method: GET
    uri: https://test1.westus.batch.azure.com/jobs/ncj-windows-2012-r2-1/tasks?api-version=2017-09-01.6.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#tasks\"\
        ,\"value\":[\r\n    {\r\n      \"id\":\"myTask\",\"url\":\"https://test1.westus.batch.azure.com/jobs/ncj-windows-2012-r2-1/tasks/myTask\"\
        ,\"eTag\":\"0x8D5077FA8DAFA61\",\"creationTime\":\"2017-09-29T21:18:41.7957473Z\"\
        ,\"lastModified\":\"2017-09-29T21:18:41.7957473Z\",\"state\":\"completed\"\
        ,\"stateTransitionTime\":\"2017-09-29T21:18:42.394393Z\",\"previousState\"\
        :\"running\",\"previousStateTransitionTime\":\"2017-09-29T21:18:40.19127Z\"\
        ,\"commandLine\":\"cmd /c echo | set /p dummy=test\",\"outputFiles\":[\r\n\
        \        {\r\n          \"filePattern\":\"$AZ_BATCH_TASK_DIR/*.txt\",\"destination\"\
        :{\r\n            \"container\":{\r\n              \"containerUrl\":\"https://testaccountforbatch.blob.core.windows.net/fgrp-output?st=2017-09-29T21%3A03%3A39Z&se=2017-10-06T21%3A18%3A39Z&sp=w&sv=2016-05-31&sr=c&sig=Nek6DZLmRd7pjDkC2whvYK9ktaWpoVUi%2BUWTSjsqcIM%3D\"\
        \r\n            }\r\n          },\"uploadOptions\":{\r\n            \"uploadCondition\"\
        :\"TaskSuccess\"\r\n          }\r\n        }\r\n      ],\"userIdentity\":{\r\
        \n        \"autoUser\":{\r\n          \"elevationLevel\":\"nonadmin\"\r\n\
        \        }\r\n      },\"constraints\":{\r\n        \"maxWallClockTime\":\"\
        P10675199DT2H48M5.4775807S\",\"retentionTime\":\"PT1H\",\"maxTaskRetryCount\"\
        :0\r\n      },\"executionInfo\":{\r\n        \"startTime\":\"2017-09-29T21:18:40.19127Z\"\
        ,\"endTime\":\"2017-09-29T21:18:42.394393Z\",\"exitCode\":0,\"result\":\"\
        Success\",\"retryCount\":0,\"requeueCount\":0\r\n      },\"nodeInfo\":{\r\n\
        \        \"affinityId\":\"TVM:tvm-57200098_1-20170928t160022z\",\"nodeUrl\"\
        :\"https://test1.westus.batch.azure.com/pools/ncj-windows-2012-r2/nodes/tvm-57200098_1-20170928t160022z\"\
        ,\"poolId\":\"ncj-windows-2012-r2\",\"nodeId\":\"tvm-57200098_1-20170928t160022z\"\
        ,\"taskRootDirectory\":\"workitems\\\\ncj-windows-2012-r2-1\\\\job-1\\\\myTask\"\
        ,\"taskRootDirectoryUrl\":\"https://test1.westus.batch.azure.com/pools/ncj-windows-2012-r2/nodes/tvm-57200098_1-20170928t160022z/files/workitems/ncj-windows-2012-r2-1/job-1/myTask\"\
        \r\n      }\r\n    }\r\n  ]\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Fri, 29 Sep 2017 21:18:47 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [f958d4ff-872f-4adf-835d-d420cb4b0b08]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.6.1 (Windows-10-10.0.15063-SP0) requests/2.9.1 msrest/0.4.14
          msrest_azure/0.4.14 batchserviceclient/4.0.0 Azure-SDK-For-Python batchextensionsclient/1.0.0]
      accept-language: [en-US]
      client-request-id: [c8044c30-a55b-11e7-9ff8-ecb1d755839a]
      ocp-date: ['Fri, 29 Sep 2017 21:18:47 GMT']
    method: GET
    uri: https://test1.westus.batch.azure.com/jobs/ncj-windows-2012-r2-1/tasks/myTask?api-version=2017-09-01.6.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#tasks/@Element\"\
        ,\"id\":\"myTask\",\"url\":\"https://test1.westus.batch.azure.com/jobs/ncj-windows-2012-r2-1/tasks/myTask\"\
        ,\"eTag\":\"0x8D5077FA8DAFA61\",\"creationTime\":\"2017-09-29T21:18:41.7957473Z\"\
        ,\"lastModified\":\"2017-09-29T21:18:41.7957473Z\",\"state\":\"completed\"\
        ,\"stateTransitionTime\":\"2017-09-29T21:18:42.394393Z\",\"previousState\"\
        :\"running\",\"previousStateTransitionTime\":\"2017-09-29T21:18:40.19127Z\"\
        ,\"commandLine\":\"cmd /c echo | set /p dummy=test\",\"outputFiles\":[\r\n\
        \    {\r\n      \"filePattern\":\"$AZ_BATCH_TASK_DIR/*.txt\",\"destination\"\
        :{\r\n        \"container\":{\r\n          \"containerUrl\":\"https://testaccountforbatch.blob.core.windows.net/fgrp-output?st=2017-09-29T21%3A03%3A39Z&se=2017-10-06T21%3A18%3A39Z&sp=w&sv=2016-05-31&sr=c&sig=Nek6DZLmRd7pjDkC2whvYK9ktaWpoVUi%2BUWTSjsqcIM%3D\"\
        \r\n        }\r\n      },\"uploadOptions\":{\r\n        \"uploadCondition\"\
        :\"TaskSuccess\"\r\n      }\r\n    }\r\n  ],\"userIdentity\":{\r\n    \"autoUser\"\
        :{\r\n      \"elevationLevel\":\"nonadmin\"\r\n    }\r\n  },\"constraints\"\
        :{\r\n    \"maxWallClockTime\":\"P10675199DT2H48M5.4775807S\",\"retentionTime\"\
        :\"PT1H\",\"maxTaskRetryCount\":0\r\n  },\"executionInfo\":{\r\n    \"startTime\"\
        :\"2017-09-29T21:18:40.19127Z\",\"endTime\":\"2017-09-29T21:18:42.394393Z\"\
        ,\"exitCode\":0,\"result\":\"Success\",\"retryCount\":0,\"requeueCount\":0\r\
        \n  },\"nodeInfo\":{\r\n    \"affinityId\":\"TVM:tvm-57200098_1-20170928t160022z\"\
        ,\"nodeUrl\":\"https://test1.westus.batch.azure.com/pools/ncj-windows-2012-r2/nodes/tvm-57200098_1-20170928t160022z\"\
        ,\"poolId\":\"ncj-windows-2012-r2\",\"nodeId\":\"tvm-57200098_1-20170928t160022z\"\
        ,\"taskRootDirectory\":\"workitems\\\\ncj-windows-2012-r2-1\\\\job-1\\\\myTask\"\
        ,\"taskRootDirectoryUrl\":\"https://test1.westus.batch.azure.com/pools/ncj-windows-2012-r2/nodes/tvm-57200098_1-20170928t160022z/files/workitems/ncj-windows-2012-r2-1/job-1/myTask\"\
        \r\n  }\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Fri, 29 Sep 2017 21:18:47 GMT']
      ETag: ['0x8D5077FA8DAFA61']
      Last-Modified: ['Fri, 29 Sep 2017 21:18:41 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [53e1a9e1-11c8-4a73-a82f-c0a7ad354205]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Connection: [keep-alive]
      User-Agent: [Azure-Storage/0.36.0 (Python CPython 3.6.1; Windows 10)]
      x-ms-client-request-id: [c8849f64-a55b-11e7-a2cc-ecb1d755839a]
      x-ms-date: ['Fri, 29 Sep 2017 21:18:48 GMT']
      x-ms-version: ['2017-04-17']
    method: GET
    uri: https://testaccountforbatch.blob.core.windows.net/fgrp-output?restype=container&comp=list
  response:
    body: {string: "\uFEFF<?xml version=\"1.0\" encoding=\"utf-8\"?><EnumerationResults\
        \ ServiceEndpoint=\"https://testaccountforbatch.blob.core.windows.net/\" ContainerName=\"\
        fgrp-output\"><Blobs><Blob><Name>fileuploaderr.txt</Name><Properties><Last-Modified>Fri,\
        \ 29 Sep 2017 21:18:45 GMT</Last-Modified><Etag>0x8D5077FAB418D3A</Etag><Content-Length>0</Content-Length><Content-Type>application/octet-stream</Content-Type><Content-Encoding\
        \ /><Content-Language /><Content-MD5>1B2M2Y8AsgTpgAmY7PhCfg==</Content-MD5><Cache-Control\
        \ /><Content-Disposition /><BlobType>BlockBlob</BlobType><LeaseStatus>unlocked</LeaseStatus><LeaseState>available</LeaseState><ServerEncrypted>false</ServerEncrypted></Properties></Blob><Blob><Name>fileuploadout.txt</Name><Properties><Last-Modified>Fri,\
        \ 29 Sep 2017 21:18:45 GMT</Last-Modified><Etag>0x8D5077FAB42C5F6</Etag><Content-Length>840</Content-Length><Content-Type>application/octet-stream</Content-Type><Content-Encoding\
        \ /><Content-Language /><Content-MD5>d0t6JQx0Z/Gvt3Ffe4ZHvQ==</Content-MD5><Cache-Control\
        \ /><Content-Disposition /><BlobType>BlockBlob</BlobType><LeaseStatus>unlocked</LeaseStatus><LeaseState>available</LeaseState><ServerEncrypted>false</ServerEncrypted></Properties></Blob><Blob><Name>stderr.txt</Name><Properties><Last-Modified>Fri,\
        \ 29 Sep 2017 21:18:45 GMT</Last-Modified><Etag>0x8D5077FAB43FEB1</Etag><Content-Length>0</Content-Length><Content-Type>application/octet-stream</Content-Type><Content-Encoding\
        \ /><Content-Language /><Content-MD5>1B2M2Y8AsgTpgAmY7PhCfg==</Content-MD5><Cache-Control\
        \ /><Content-Disposition /><BlobType>BlockBlob</BlobType><LeaseStatus>unlocked</LeaseStatus><LeaseState>available</LeaseState><ServerEncrypted>false</ServerEncrypted></Properties></Blob><Blob><Name>stdout.txt</Name><Properties><Last-Modified>Fri,\
        \ 29 Sep 2017 21:18:45 GMT</Last-Modified><Etag>0x8D5077FAB455E84</Etag><Content-Length>4</Content-Length><Content-Type>application/octet-stream</Content-Type><Content-Encoding\
        \ /><Content-Language /><Content-MD5>CY9rzUYh03PK3k6DJie09g==</Content-MD5><Cache-Control\
        \ /><Content-Disposition /><BlobType>BlockBlob</BlobType><LeaseStatus>unlocked</LeaseStatus><LeaseState>available</LeaseState><ServerEncrypted>false</ServerEncrypted></Properties></Blob></Blobs><NextMarker\
        \ /></EnumerationResults>"}
    headers:
      Content-Type: [application/xml]
      Date: ['Fri, 29 Sep 2017 21:18:48 GMT']
      Server: [Windows-Azure-Blob/1.0 Microsoft-HTTPAPI/2.0]
      Transfer-Encoding: [chunked]
      x-ms-version: ['2017-04-17']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.6.1 (Windows-10-10.0.15063-SP0) requests/2.9.1 msrest/0.4.14
          msrest_azure/0.4.14 batchserviceclient/4.0.0 Azure-SDK-For-Python batchextensionsclient/1.0.0]
      accept-language: [en-US]
      client-request-id: [c8c132d8-a55b-11e7-a65f-ecb1d755839a]
      ocp-date: ['Fri, 29 Sep 2017 21:18:48 GMT']
    method: DELETE
    uri: https://test1.westus.batch.azure.com/jobs/ncj-windows-2012-r2-1?api-version=2017-09-01.6.0
  response:
    body: {string: ''}
    headers:
      DataServiceVersion: ['3.0']
      Date: ['Fri, 29 Sep 2017 21:18:49 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [69d15248-5d3b-463b-9ffb-1edd36a97a54]
    status: {code: 202, message: Accepted}
version: 1
