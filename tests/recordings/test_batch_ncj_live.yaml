interactions:
- request:
    body: null
    headers:
      Connection: [keep-alive]
      User-Agent: [Azure-Storage/0.33.0 (Python CPython 3.5.1; Windows 8.1)]
      x-ms-client-request-id: [d355d0b6-0c48-11e7-902f-54ee750f2fc7]
      x-ms-date: ['Sun, 19 Mar 2017 02:07:38 GMT']
      x-ms-version: ['2015-07-08']
    method: GET
    uri: https://testaccountforbatch.blob.core.windows.net/aaatestcontainer?restype=container&comp=list
  response:
    body: {string: "\uFEFF<?xml version=\"1.0\" encoding=\"utf-8\"?><EnumerationResults\
        \ ServiceEndpoint=\"https://testaccountforbatch.blob.core.windows.net/\"\
        \ ContainerName=\"aaatestcontainer\"><Blobs><Blob><Name>stderr.txt</Name><Properties><Last-Modified>Sun,\
        \ 19 Mar 2017 01:57:51 GMT</Last-Modified><Etag>0x8D46E6B59EFAD5B</Etag><Content-Length>0</Content-Length><Content-Type>application/octet-stream</Content-Type><Content-Encoding\
        \ /><Content-Language /><Content-MD5 /><Cache-Control /><Content-Disposition\
        \ /><BlobType>BlockBlob</BlobType><LeaseStatus>unlocked</LeaseStatus><LeaseState>available</LeaseState></Properties></Blob><Blob><Name>stdout.txt</Name><Properties><Last-Modified>Sun,\
        \ 19 Mar 2017 01:57:51 GMT</Last-Modified><Etag>0x8D46E6B59F1A99F</Etag><Content-Length>5</Content-Length><Content-Type>application/octet-stream</Content-Type><Content-Encoding\
        \ /><Content-Language /><Content-MD5>orLWaTix8CPexjlPEreCtQ==</Content-MD5><Cache-Control\
        \ /><Content-Disposition /><BlobType>BlockBlob</BlobType><LeaseStatus>unlocked</LeaseStatus><LeaseState>available</LeaseState></Properties></Blob><Blob><Name>uploadlog.txt</Name><Properties><Last-Modified>Sun,\
        \ 19 Mar 2017 01:57:51 GMT</Last-Modified><Etag>0x8D46E6B59F357B9</Etag><Content-Length>1080</Content-Length><Content-Type>application/octet-stream</Content-Type><Content-Encoding\
        \ /><Content-Language /><Content-MD5>0gzgyVCGnyib2e2lyWpXRA==</Content-MD5><Cache-Control\
        \ /><Content-Disposition /><BlobType>BlockBlob</BlobType><LeaseStatus>unlocked</LeaseStatus><LeaseState>available</LeaseState></Properties></Blob></Blobs><NextMarker\
        \ /></EnumerationResults>"}
    headers:
      Content-Type: [application/xml]
      Date: ['Sun, 19 Mar 2017 02:07:37 GMT']
      Server: [Windows-Azure-Blob/1.0 Microsoft-HTTPAPI/2.0]
      Transfer-Encoding: [chunked]
      x-ms-version: ['2015-07-08']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Connection: [keep-alive]
      Content-Length: ['0']
      User-Agent: [Azure-Storage/0.33.0 (Python CPython 3.5.1; Windows 8.1)]
      x-ms-client-request-id: [d45283ee-0c48-11e7-bc48-54ee750f2fc7]
      x-ms-date: ['Sun, 19 Mar 2017 02:07:39 GMT']
      x-ms-version: ['2015-07-08']
    method: DELETE
    uri: https://testaccountforbatch.blob.core.windows.net/aaatestcontainer/stderr.txt
  response:
    body: {string: ''}
    headers:
      Date: ['Sun, 19 Mar 2017 02:07:37 GMT']
      Server: [Windows-Azure-Blob/1.0 Microsoft-HTTPAPI/2.0]
      Transfer-Encoding: [chunked]
      x-ms-version: ['2015-07-08']
    status: {code: 202, message: Accepted}
- request:
    body: null
    headers:
      Connection: [keep-alive]
      Content-Length: ['0']
      User-Agent: [Azure-Storage/0.33.0 (Python CPython 3.5.1; Windows 8.1)]
      x-ms-client-request-id: [d45913ba-0c48-11e7-a65e-54ee750f2fc7]
      x-ms-date: ['Sun, 19 Mar 2017 02:07:39 GMT']
      x-ms-version: ['2015-07-08']
    method: DELETE
    uri: https://testaccountforbatch.blob.core.windows.net/aaatestcontainer/stdout.txt
  response:
    body: {string: ''}
    headers:
      Date: ['Sun, 19 Mar 2017 02:07:37 GMT']
      Server: [Windows-Azure-Blob/1.0 Microsoft-HTTPAPI/2.0]
      Transfer-Encoding: [chunked]
      x-ms-version: ['2015-07-08']
    status: {code: 202, message: Accepted}
- request:
    body: null
    headers:
      Connection: [keep-alive]
      Content-Length: ['0']
      User-Agent: [Azure-Storage/0.33.0 (Python CPython 3.5.1; Windows 8.1)]
      x-ms-client-request-id: [d45fa36c-0c48-11e7-9d2e-54ee750f2fc7]
      x-ms-date: ['Sun, 19 Mar 2017 02:07:39 GMT']
      x-ms-version: ['2015-07-08']
    method: DELETE
    uri: https://testaccountforbatch.blob.core.windows.net/aaatestcontainer/uploadlog.txt
  response:
    body: {string: ''}
    headers:
      Date: ['Sun, 19 Mar 2017 02:07:37 GMT']
      Server: [Windows-Azure-Blob/1.0 Microsoft-HTTPAPI/2.0]
      Transfer-Encoding: [chunked]
      x-ms-version: ['2015-07-08']
    status: {code: 202, message: Accepted}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.9.1 msrest/0.4.6
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      client-request-id: [d466cf82-0c48-11e7-9cff-54ee750f2fc7]
      ocp-date: ['Sun, 19 Mar 2017 02:07:39 GMT']
    method: GET
    uri: https://test1.westus.batch.azure.com/nodeagentskus?api-version=2017-01-01.4.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#nodeagentskus\"\
        ,\"value\":[\r\n    {\r\n      \"id\":\"batch.node.centos 7\",\"verifiedImageReferences\"\
        :[\r\n        {\r\n          \"publisher\":\"OpenLogic\",\"offer\":\"CentOS\"\
        ,\"sku\":\"7.3\",\"version\":\"latest\"\r\n        },{\r\n          \"publisher\"\
        :\"OpenLogic\",\"offer\":\"CentOS\",\"sku\":\"7.2\",\"version\":\"latest\"\
        \r\n        },{\r\n          \"publisher\":\"OpenLogic\",\"offer\":\"CentOS\"\
        ,\"sku\":\"7.1\",\"version\":\"latest\"\r\n        },{\r\n          \"publisher\"\
        :\"OpenLogic\",\"offer\":\"CentOS\",\"sku\":\"7.0\",\"version\":\"latest\"\
        \r\n        },{\r\n          \"publisher\":\"OpenLogic\",\"offer\":\"CentOS-HPC\"\
        ,\"sku\":\"7.1\",\"version\":\"latest\"\r\n        },{\r\n          \"publisher\"\
        :\"Oracle\",\"offer\":\"Oracle-Linux\",\"sku\":\"7.2\",\"version\":\"latest\"\
        \r\n        },{\r\n          \"publisher\":\"Oracle\",\"offer\":\"Oracle-Linux\"\
        ,\"sku\":\"7.0\",\"version\":\"latest\"\r\n        },{\r\n          \"publisher\"\
        :\"microsoft-ads\",\"offer\":\"linux-data-science-vm\",\"sku\":\"linuxdsvm\"\
        ,\"version\":\"latest\"\r\n        }\r\n      ],\"osType\":\"linux\"\r\n \
        \   },{\r\n      \"id\":\"batch.node.debian 8\",\"verifiedImageReferences\"\
        :[\r\n        {\r\n          \"publisher\":\"Credativ\",\"offer\":\"Debian\"\
        ,\"sku\":\"8\",\"version\":\"latest\"\r\n        }\r\n      ],\"osType\":\"\
        linux\"\r\n    },{\r\n      \"id\":\"batch.node.opensuse 13.2\",\"verifiedImageReferences\"\
        :[\r\n        \r\n      ],\"osType\":\"linux\"\r\n    },{\r\n      \"id\"\
        :\"batch.node.opensuse 42.1\",\"verifiedImageReferences\":[\r\n        {\r\
        \n          \"publisher\":\"SUSE\",\"offer\":\"openSUSE-Leap\",\"sku\":\"\
        42.1\",\"version\":\"latest\"\r\n        },{\r\n          \"publisher\":\"\
        SUSE\",\"offer\":\"SLES\",\"sku\":\"12-SP2\",\"version\":\"latest\"\r\n  \
        \      },{\r\n          \"publisher\":\"SUSE\",\"offer\":\"SLES\",\"sku\"\
        :\"12-SP1\",\"version\":\"latest\"\r\n        },{\r\n          \"publisher\"\
        :\"SUSE\",\"offer\":\"SLES-HPC\",\"sku\":\"12-SP1\",\"version\":\"latest\"\
        \r\n        }\r\n      ],\"osType\":\"linux\"\r\n    },{\r\n      \"id\":\"\
        batch.node.ubuntu 14.04\",\"verifiedImageReferences\":[\r\n        {\r\n \
        \         \"publisher\":\"Canonical\",\"offer\":\"UbuntuServer\",\"sku\":\"\
        14.04.5-LTS\",\"version\":\"latest\"\r\n        }\r\n      ],\"osType\":\"\
        linux\"\r\n    },{\r\n      \"id\":\"batch.node.ubuntu 16.04\",\"verifiedImageReferences\"\
        :[\r\n        {\r\n          \"publisher\":\"Canonical\",\"offer\":\"UbuntuServer\"\
        ,\"sku\":\"16.04-LTS\",\"version\":\"latest\"\r\n        },{\r\n         \
        \ \"publisher\":\"Canonical\",\"offer\":\"UbuntuServer\",\"sku\":\"16.10\"\
        ,\"version\":\"latest\"\r\n        }\r\n      ],\"osType\":\"linux\"\r\n \
        \   },{\r\n      \"id\":\"batch.node.windows amd64\",\"verifiedImageReferences\"\
        :[\r\n        {\r\n          \"publisher\":\"MicrosoftWindowsServer\",\"offer\"\
        :\"WindowsServer\",\"sku\":\"2012-R2-Datacenter\",\"version\":\"latest\"\r\
        \n        },{\r\n          \"publisher\":\"MicrosoftWindowsServer\",\"offer\"\
        :\"WindowsServer\",\"sku\":\"2012-Datacenter\",\"version\":\"latest\"\r\n\
        \        },{\r\n          \"publisher\":\"MicrosoftWindowsServer\",\"offer\"\
        :\"WindowsServer\",\"sku\":\"2008-R2-SP1\",\"version\":\"latest\"\r\n    \
        \    },{\r\n          \"publisher\":\"MicrosoftWindowsServer\",\"offer\":\"\
        WindowsServer\",\"sku\":\"2016-Datacenter\",\"version\":\"latest\"\r\n   \
        \     },{\r\n          \"publisher\":\"MicrosoftWindowsServer\",\"offer\"\
        :\"WindowsServer\",\"sku\":\"2016-Datacenter-with-Containers\",\"version\"\
        :\"latest\"\r\n        },{\r\n          \"publisher\":\"microsoft-ads\",\"\
        offer\":\"standard-data-science-vm\",\"sku\":\"standard-data-science-vm\"\
        ,\"version\":\"latest\"\r\n        }\r\n      ],\"osType\":\"windows\"\r\n\
        \    }\r\n  ]\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Sun, 19 Mar 2017 02:07:38 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [54f0e53c-ff24-4596-926a-2f4f5fa372e4]
    status: {code: 200, message: OK}
- request:
    body: '{"virtualMachineConfiguration": {"imageReference": {"offer": "UbuntuServer",
      "publisher": "Canonical", "sku": "14.04.5-LTS"}, "nodeAgentSKUId": "batch.node.ubuntu
      14.04"}, "id": "ncj-ubuntu1404", "vmSize": "STANDARD_D1_V2", "targetDedicated":
      1}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['245']
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.9.1 msrest/0.4.6
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      client-request-id: [d491501e-0c48-11e7-966b-54ee750f2fc7]
      ocp-date: ['Sun, 19 Mar 2017 02:07:40 GMT']
    method: POST
    uri: https://test1.westus.batch.azure.com/pools?api-version=2017-01-01.4.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#Microsoft.Azure.Batch.Protocol.Entities.Container.errors/@Element\"\
        ,\"code\":\"PoolExists\",\"message\":{\r\n    \"lang\":\"en-US\",\"value\"\
        :\"The specified pool already exists.\\nRequestId:a492d608-f37c-458a-a786-20031f24442a\\\
        nTime:2017-03-19T02:07:38.7982835Z\"\r\n  }\r\n}"}
    headers:
      Content-Length: ['337']
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Sun, 19 Mar 2017 02:07:37 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      X-Content-Type-Options: [nosniff]
      request-id: [a492d608-f37c-458a-a786-20031f24442a]
    status: {code: 409, message: The specified pool already exists.}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.9.1 msrest/0.4.6
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      client-request-id: [d4bc4198-0c48-11e7-98ca-54ee750f2fc7]
      ocp-date: ['Sun, 19 Mar 2017 02:07:40 GMT']
    method: GET
    uri: https://test1.westus.batch.azure.com/pools/ncj-ubuntu1404?api-version=2017-01-01.4.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#pools/@Element\"\
        ,\"id\":\"ncj-ubuntu1404\",\"url\":\"https://test1.westus.batch.azure.com/pools/ncj-ubuntu1404\"\
        ,\"eTag\":\"0x8D46E510F2C9ED4\",\"lastModified\":\"2017-03-18T22:49:39.207138Z\"\
        ,\"creationTime\":\"2017-03-18T22:49:39.207138Z\",\"state\":\"active\",\"\
        stateTransitionTime\":\"2017-03-18T22:49:39.207138Z\",\"allocationState\"\
        :\"steady\",\"allocationStateTransitionTime\":\"2017-03-18T22:51:24.4786687Z\"\
        ,\"vmSize\":\"standard_d1_v2\",\"resizeTimeout\":\"PT15M\",\"currentDedicated\"\
        :1,\"targetDedicated\":1,\"enableAutoScale\":false,\"enableInterNodeCommunication\"\
        :false,\"maxTasksPerNode\":1,\"taskSchedulingPolicy\":{\r\n    \"nodeFillType\"\
        :\"Spread\"\r\n  },\"virtualMachineConfiguration\":{\r\n    \"imageReference\"\
        :{\r\n      \"publisher\":\"Canonical\",\"offer\":\"UbuntuServer\",\"sku\"\
        :\"14.04.5-LTS\",\"version\":\"latest\"\r\n    },\"nodeAgentSKUId\":\"batch.node.ubuntu\
        \ 14.04\"\r\n  }\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Sun, 19 Mar 2017 02:07:39 GMT']
      ETag: ['0x8D46E510F2C9ED4']
      Last-Modified: ['Sat, 18 Mar 2017 22:49:39 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [fa952833-574f-4307-bf94-4fc2f64b342b]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.9.1 msrest/0.4.6
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      client-request-id: [d4f8af1c-0c48-11e7-8686-54ee750f2fc7]
      ocp-date: ['Sun, 19 Mar 2017 02:07:40 GMT']
    method: GET
    uri: https://test1.westus.batch.azure.com/pools/ncj-ubuntu1404/nodes?api-version=2017-01-01.4.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#nodes\"\
        ,\"value\":[\r\n    {\r\n      \"id\":\"tvm-3105992504_1-20170318t225123z\"\
        ,\"url\":\"https://test1.westus.batch.azure.com/pools/ncj-ubuntu1404/nodes/tvm-3105992504_1-20170318t225123z\"\
        ,\"state\":\"idle\",\"schedulingState\":\"enabled\",\"stateTransitionTime\"\
        :\"2017-03-19T01:56:50.949934Z\",\"lastBootTime\":\"2017-03-18T22:55:28.183851Z\"\
        ,\"allocationTime\":\"2017-03-18T22:51:23.8058265Z\",\"ipAddress\":\"10.0.0.4\"\
        ,\"affinityId\":\"TVM:tvm-3105992504_1-20170318t225123z\",\"vmSize\":\"standard_d1_v2\"\
        ,\"totalTasksRun\":9,\"totalTasksSucceeded\":9,\"runningTasksCount\":0,\"\
        recentTasks\":[\r\n        {\r\n          \"taskUrl\":\"https://test1.westus.batch.azure.com/jobs/ncj-ubuntu1404-1/tasks/mytask\"\
        ,\"jobId\":\"ncj-ubuntu1404-1\",\"taskId\":\"mytask\",\"taskState\":\"completed\"\
        ,\"executionInfo\":{\r\n            \"startTime\":\"2017-03-19T01:56:43.775342Z\"\
        ,\"endTime\":\"2017-03-19T01:56:50.853008Z\",\"exitCode\":0,\"retryCount\"\
        :0,\"requeueCount\":0\r\n          }\r\n        }\r\n      ]\r\n    }\r\n\
        \  ]\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Sun, 19 Mar 2017 02:07:38 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [4b2b3e32-cd77-476b-a429-bf9c188e0d95]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: ['python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.9.1 msrest/0.4.6
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python batch-extensions:v1.0.0RC']
      accept-language: [en-US]
      client-request-id: [d570ee9c-0c48-11e7-a05c-54ee750f2fc7]
      ocp-date: ['Sun, 19 Mar 2017 02:07:41 GMT']
    method: GET
    uri: https://test1.westus.batch.azure.com/pools/ncj-ubuntu1404?api-version=2017-01-01.4.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#pools/@Element\"\
        ,\"id\":\"ncj-ubuntu1404\",\"url\":\"https://test1.westus.batch.azure.com/pools/ncj-ubuntu1404\"\
        ,\"eTag\":\"0x8D46E510F2C9ED4\",\"lastModified\":\"2017-03-18T22:49:39.207138Z\"\
        ,\"creationTime\":\"2017-03-18T22:49:39.207138Z\",\"state\":\"active\",\"\
        stateTransitionTime\":\"2017-03-18T22:49:39.207138Z\",\"allocationState\"\
        :\"steady\",\"allocationStateTransitionTime\":\"2017-03-18T22:51:24.4786687Z\"\
        ,\"vmSize\":\"standard_d1_v2\",\"resizeTimeout\":\"PT15M\",\"currentDedicated\"\
        :1,\"targetDedicated\":1,\"enableAutoScale\":false,\"enableInterNodeCommunication\"\
        :false,\"maxTasksPerNode\":1,\"taskSchedulingPolicy\":{\r\n    \"nodeFillType\"\
        :\"Spread\"\r\n  },\"virtualMachineConfiguration\":{\r\n    \"imageReference\"\
        :{\r\n      \"publisher\":\"Canonical\",\"offer\":\"UbuntuServer\",\"sku\"\
        :\"14.04.5-LTS\",\"version\":\"latest\"\r\n    },\"nodeAgentSKUId\":\"batch.node.ubuntu\
        \ 14.04\"\r\n  }\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Sun, 19 Mar 2017 02:07:38 GMT']
      ETag: ['0x8D46E510F2C9ED4']
      Last-Modified: ['Sat, 18 Mar 2017 22:49:39 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [544465dd-0702-4364-b83f-905a1aadc082]
    status: {code: 200, message: OK}
- request:
    body: '{"id": "ncj-ubuntu1404", "poolInfo": {"poolId": "ncj-ubuntu1404"}, "jobPreparationTask":
      {"commandLine": "/bin/bash -c ''setup_uploader.py > setuplog.txt 2>&1''", "userIdentity":
      {"autoUser": {"elevationLevel": "admin"}}, "waitForSuccess": true, "resourceFiles":
      [{"blobSource": "https://raw.githubusercontent.com/annatisch/azure-batch-cli-extensions/master/azure/cli/command_modules/batch_extensions/fileegress/util.py",
      "filePath": "util.py"}, {"blobSource": "https://raw.githubusercontent.com/annatisch/azure-batch-cli-extensions/master/azure/cli/command_modules/batch_extensions/fileegress/uploader.py",
      "filePath": "uploader.py"}, {"blobSource": "https://raw.githubusercontent.com/annatisch/azure-batch-cli-extensions/master/azure/cli/command_modules/batch_extensions/fileegress/uploadfiles.py",
      "filePath": "uploadfiles.py"}, {"blobSource": "https://raw.githubusercontent.com/annatisch/azure-batch-cli-extensions/master/azure/cli/command_modules/batch_extensions/fileegress/batchfileuploader.py",
      "filePath": "batchfileuploader.py"}, {"blobSource": "https://raw.githubusercontent.com/annatisch/azure-batch-cli-extensions/master/azure/cli/command_modules/batch_extensions/fileegress/setup_uploader.py",
      "filePath": "setup_uploader.py"}, {"blobSource": "https://raw.githubusercontent.com/annatisch/azure-batch-cli-extensions/master/azure/cli/command_modules/batch_extensions/fileegress/configuration.py",
      "filePath": "configuration.py"}, {"blobSource": "https://raw.githubusercontent.com/annatisch/azure-batch-cli-extensions/master/azure/cli/command_modules/batch_extensions/fileegress/requirements.txt",
      "filePath": "requirements.txt"}]}}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['1641']
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: ['python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.9.1 msrest/0.4.6
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python batch-extensions:v1.0.0RC']
      accept-language: [en-US]
      client-request-id: [d5996230-0c48-11e7-827b-54ee750f2fc7]
      ocp-date: ['Sun, 19 Mar 2017 02:07:41 GMT']
      return-client-request-id: ['false']
    method: POST
    uri: https://test1.westus.batch.azure.com/jobs?api-version=2017-01-01.4.0&timeout=30
  response:
    body: {string: ''}
    headers:
      DataServiceId: ['https://test1.westus.batch.azure.com/jobs/job-1']
      DataServiceVersion: ['3.0']
      Date: ['Sun, 19 Mar 2017 02:07:39 GMT']
      ETag: ['0x8D46E6CB8AC4670']
      Last-Modified: ['Sun, 19 Mar 2017 02:07:39 GMT']
      Location: ['https://test1.westus.batch.azure.com/jobs/job-1']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [dce593ed-283c-4a6e-bf18-4e75cd6c7cbe]
    status: {code: 201, message: Created}
- request:
    body: '{"value": [{"commandLine": "/bin/bash -c ''/bin/bash -c \"echo test\";err=$?;$AZ_BATCH_JOB_PREP_WORKING_DIR/uploadfiles.py
      $err;exit $err''", "environmentSettings": [{"name": "AZ_BATCH_FILE_UPLOAD_CONFIG",
      "value": "{\"outputFiles\": [{\"filePattern\": \"$AZ_BATCH_TASK_DIR/*.txt\",
      \"uploadDetails\": {\"taskStatus\": \"TaskSuccess\"}, \"destination\": {\"container\":
      {\"containerSas\": \"https://testaccountforbatch.blob.core.windows.net/aaatestcontainer?sv=2015-07-08&se=2017-03-20T02%3A07%3A38Z&sr=c&sig=3MEEVOY/iDHkPd4qaLCHkALPRGWSoHAomyolI5%2BLQk8%3D&sp=rw&st=2017-03-19T02%3A07%3A38Z\"}}}]}"}],
      "id": "myTask", "constraints": {"retentionTime": "PT1H"}}]}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['661']
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: ['python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.9.1 msrest/0.4.6
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python batch-extensions:v1.0.0RC']
      accept-language: [en-US]
      client-request-id: [d5e0d3a6-0c48-11e7-9f2a-54ee750f2fc7]
      ocp-date: ['Sun, 19 Mar 2017 02:07:42 GMT']
    method: POST
    uri: https://test1.westus.batch.azure.com/jobs/ncj-ubuntu1404/addtaskcollection?api-version=2017-01-01.4.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#taskaddresult\"\
        ,\"value\":[\r\n    {\r\n      \"status\":\"Success\",\"taskId\":\"myTask\"\
        ,\"eTag\":\"0x8D46E6CB8F58038\",\"lastModified\":\"2017-03-19T02:07:40.4702776Z\"\
        ,\"location\":\"https://test1.westus.batch.azure.com/jobs/ncj-ubuntu1404/tasks/myTask\"\
        \r\n    }\r\n  ]\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Sun, 19 Mar 2017 02:07:40 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [46925bc8-407b-4d9f-bedd-28fe5940eac1]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.9.1 msrest/0.4.6
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      client-request-id: [d61fb8b0-0c48-11e7-9839-54ee750f2fc7]
      ocp-date: ['Sun, 19 Mar 2017 02:07:42 GMT']
    method: GET
    uri: https://test1.westus.batch.azure.com/jobs/ncj-ubuntu1404?api-version=2017-01-01.4.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#jobs/@Element\"\
        ,\"id\":\"ncj-ubuntu1404\",\"url\":\"https://test1.westus.batch.azure.com/jobs/ncj-ubuntu1404\"\
        ,\"eTag\":\"0x8D46E6CB8AC4670\",\"lastModified\":\"2017-03-19T02:07:39.9903856Z\"\
        ,\"creationTime\":\"2017-03-19T02:07:39.9503861Z\",\"state\":\"active\",\"\
        stateTransitionTime\":\"2017-03-19T02:07:39.9903856Z\",\"priority\":0,\"usesTaskDependencies\"\
        :false,\"constraints\":{\r\n    \"maxWallClockTime\":\"P10675199DT2H48M5.4775807S\"\
        ,\"maxTaskRetryCount\":0\r\n  },\"jobPreparationTask\":{\r\n    \"id\":\"\
        jobpreparation\",\"commandLine\":\"/bin/bash -c 'setup_uploader.py > setuplog.txt\
        \ 2>&1'\",\"resourceFiles\":[\r\n      {\r\n        \"blobSource\":\"https://raw.githubusercontent.com/annatisch/azure-batch-cli-extensions/master/azure/cli/command_modules/batch_extensions/fileegress/util.py\"\
        ,\"filePath\":\"util.py\"\r\n      },{\r\n        \"blobSource\":\"https://raw.githubusercontent.com/annatisch/azure-batch-cli-extensions/master/azure/cli/command_modules/batch_extensions/fileegress/uploader.py\"\
        ,\"filePath\":\"uploader.py\"\r\n      },{\r\n        \"blobSource\":\"https://raw.githubusercontent.com/annatisch/azure-batch-cli-extensions/master/azure/cli/command_modules/batch_extensions/fileegress/uploadfiles.py\"\
        ,\"filePath\":\"uploadfiles.py\"\r\n      },{\r\n        \"blobSource\":\"\
        https://raw.githubusercontent.com/annatisch/azure-batch-cli-extensions/master/azure/cli/command_modules/batch_extensions/fileegress/batchfileuploader.py\"\
        ,\"filePath\":\"batchfileuploader.py\"\r\n      },{\r\n        \"blobSource\"\
        :\"https://raw.githubusercontent.com/annatisch/azure-batch-cli-extensions/master/azure/cli/command_modules/batch_extensions/fileegress/setup_uploader.py\"\
        ,\"filePath\":\"setup_uploader.py\"\r\n      },{\r\n        \"blobSource\"\
        :\"https://raw.githubusercontent.com/annatisch/azure-batch-cli-extensions/master/azure/cli/command_modules/batch_extensions/fileegress/configuration.py\"\
        ,\"filePath\":\"configuration.py\"\r\n      },{\r\n        \"blobSource\"\
        :\"https://raw.githubusercontent.com/annatisch/azure-batch-cli-extensions/master/azure/cli/command_modules/batch_extensions/fileegress/requirements.txt\"\
        ,\"filePath\":\"requirements.txt\"\r\n      }\r\n    ],\"constraints\":{\r\
        \n      \"maxWallClockTime\":\"P10675199DT2H48M5.4775807S\",\"retentionTime\"\
        :\"P10675199DT2H48M5.4775807S\",\"maxTaskRetryCount\":0\r\n    },\"userIdentity\"\
        :{\r\n      \"autoUser\":{\r\n        \"scope\":\"task\",\"elevationLevel\"\
        :\"admin\"\r\n      }\r\n    },\"waitForSuccess\":true,\"rerunOnNodeRebootAfterSuccess\"\
        :true\r\n  },\"poolInfo\":{\r\n    \"poolId\":\"ncj-ubuntu1404\"\r\n  },\"\
        executionInfo\":{\r\n    \"startTime\":\"2017-03-19T02:07:39.9903856Z\",\"\
        poolId\":\"ncj-ubuntu1404\"\r\n  },\"onAllTasksComplete\":\"noaction\",\"\
        onTaskFailure\":\"noaction\"\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Sun, 19 Mar 2017 02:07:42 GMT']
      ETag: ['0x8D46E6CB8AC4670']
      Last-Modified: ['Sun, 19 Mar 2017 02:07:39 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [a4578a7b-a2b6-4b11-9a29-f8a3b9846942]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.9.1 msrest/0.4.6
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      client-request-id: [d653211a-0c48-11e7-9bd8-54ee750f2fc7]
      ocp-date: ['Sun, 19 Mar 2017 02:07:43 GMT']
    method: GET
    uri: https://test1.westus.batch.azure.com/jobs/ncj-ubuntu1404/tasks?api-version=2017-01-01.4.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#tasks\"\
        ,\"value\":[\r\n    {\r\n      \"id\":\"myTask\",\"url\":\"https://test1.westus.batch.azure.com/jobs/ncj-ubuntu1404/tasks/myTask\"\
        ,\"eTag\":\"0x8D46E6CB8F58038\",\"creationTime\":\"2017-03-19T02:07:40.4702776Z\"\
        ,\"lastModified\":\"2017-03-19T02:07:40.4702776Z\",\"state\":\"active\",\"\
        stateTransitionTime\":\"2017-03-19T02:07:40.4702776Z\",\"commandLine\":\"\
        /bin/bash -c '/bin/bash -c \\\"echo test\\\";err=$?;$AZ_BATCH_JOB_PREP_WORKING_DIR/uploadfiles.py\
        \ $err;exit $err'\",\"environmentSettings\":[\r\n        {\r\n          \"\
        name\":\"AZ_BATCH_FILE_UPLOAD_CONFIG\",\"value\":\"{\\\"outputFiles\\\": [{\\\
        \"filePattern\\\": \\\"$AZ_BATCH_TASK_DIR/*.txt\\\", \\\"uploadDetails\\\"\
        : {\\\"taskStatus\\\": \\\"TaskSuccess\\\"}, \\\"destination\\\": {\\\"container\\\
        \": {\\\"containerSas\\\": \\\"https://testaccountforbatch.blob.core.windows.net/aaatestcontainer?sv=2015-07-08&se=2017-03-20T02%3A07%3A38Z&sr=c&sig=3MEEVOY/iDHkPd4qaLCHkALPRGWSoHAomyolI5%2BLQk8%3D&sp=rw&st=2017-03-19T02%3A07%3A38Z\\\
        \"}}}]}\"\r\n        }\r\n      ],\"userIdentity\":{\r\n        \"autoUser\"\
        :{\r\n          \"scope\":\"task\",\"elevationLevel\":\"nonadmin\"\r\n   \
        \     }\r\n      },\"constraints\":{\r\n        \"maxWallClockTime\":\"P10675199DT2H48M5.4775807S\"\
        ,\"retentionTime\":\"PT1H\",\"maxTaskRetryCount\":0\r\n      },\"executionInfo\"\
        :{\r\n        \"retryCount\":0,\"requeueCount\":0\r\n      }\r\n    }\r\n\
        \  ]\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Sun, 19 Mar 2017 02:07:40 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [36d32e1a-4a9c-4c83-9511-c4d881c67d03]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.9.1 msrest/0.4.6
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      client-request-id: [d848e0d8-0c48-11e7-a6b4-54ee750f2fc7]
      ocp-date: ['Sun, 19 Mar 2017 02:07:46 GMT']
    method: GET
    uri: https://test1.westus.batch.azure.com/jobs/ncj-ubuntu1404/tasks?api-version=2017-01-01.4.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#tasks\"\
        ,\"value\":[\r\n    {\r\n      \"id\":\"myTask\",\"url\":\"https://test1.westus.batch.azure.com/jobs/ncj-ubuntu1404/tasks/myTask\"\
        ,\"eTag\":\"0x8D46E6CB8F58038\",\"creationTime\":\"2017-03-19T02:07:40.4702776Z\"\
        ,\"lastModified\":\"2017-03-19T02:07:40.4702776Z\",\"state\":\"preparing\"\
        ,\"stateTransitionTime\":\"2017-03-19T02:07:42.683132Z\",\"previousState\"\
        :\"active\",\"previousStateTransitionTime\":\"2017-03-19T02:07:40.4702776Z\"\
        ,\"commandLine\":\"/bin/bash -c '/bin/bash -c \\\"echo test\\\";err=$?;$AZ_BATCH_JOB_PREP_WORKING_DIR/uploadfiles.py\
        \ $err;exit $err'\",\"environmentSettings\":[\r\n        {\r\n          \"\
        name\":\"AZ_BATCH_FILE_UPLOAD_CONFIG\",\"value\":\"{\\\"outputFiles\\\": [{\\\
        \"filePattern\\\": \\\"$AZ_BATCH_TASK_DIR/*.txt\\\", \\\"uploadDetails\\\"\
        : {\\\"taskStatus\\\": \\\"TaskSuccess\\\"}, \\\"destination\\\": {\\\"container\\\
        \": {\\\"containerSas\\\": \\\"https://testaccountforbatch.blob.core.windows.net/aaatestcontainer?sv=2015-07-08&se=2017-03-20T02%3A07%3A38Z&sr=c&sig=3MEEVOY/iDHkPd4qaLCHkALPRGWSoHAomyolI5%2BLQk8%3D&sp=rw&st=2017-03-19T02%3A07%3A38Z\\\
        \"}}}]}\"\r\n        }\r\n      ],\"userIdentity\":{\r\n        \"autoUser\"\
        :{\r\n          \"scope\":\"task\",\"elevationLevel\":\"nonadmin\"\r\n   \
        \     }\r\n      },\"constraints\":{\r\n        \"maxWallClockTime\":\"P10675199DT2H48M5.4775807S\"\
        ,\"retentionTime\":\"PT1H\",\"maxTaskRetryCount\":0\r\n      },\"executionInfo\"\
        :{\r\n        \"startTime\":\"2017-03-19T02:07:42.683243Z\",\"retryCount\"\
        :0,\"requeueCount\":0\r\n      },\"nodeInfo\":{\r\n        \"affinityId\"\
        :\"TVM:tvm-3105992504_1-20170318t225123z\",\"nodeUrl\":\"https://test1.westus.batch.azure.com/pools/ncj-ubuntu1404/nodes/tvm-3105992504_1-20170318t225123z\"\
        ,\"poolId\":\"ncj-ubuntu1404\",\"nodeId\":\"tvm-3105992504_1-20170318t225123z\"\
        \r\n      }\r\n    }\r\n  ]\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Sun, 19 Mar 2017 02:07:44 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [be8fc4c3-bd27-4da8-ab62-bda725ccf019]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.9.1 msrest/0.4.6
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      client-request-id: [da4772ac-0c48-11e7-a0e9-54ee750f2fc7]
      ocp-date: ['Sun, 19 Mar 2017 02:07:49 GMT']
    method: GET
    uri: https://test1.westus.batch.azure.com/jobs/ncj-ubuntu1404/tasks?api-version=2017-01-01.4.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#tasks\"\
        ,\"value\":[\r\n    {\r\n      \"id\":\"myTask\",\"url\":\"https://test1.westus.batch.azure.com/jobs/ncj-ubuntu1404/tasks/myTask\"\
        ,\"eTag\":\"0x8D46E6CB8F58038\",\"creationTime\":\"2017-03-19T02:07:40.4702776Z\"\
        ,\"lastModified\":\"2017-03-19T02:07:40.4702776Z\",\"state\":\"preparing\"\
        ,\"stateTransitionTime\":\"2017-03-19T02:07:42.683132Z\",\"previousState\"\
        :\"active\",\"previousStateTransitionTime\":\"2017-03-19T02:07:40.4702776Z\"\
        ,\"commandLine\":\"/bin/bash -c '/bin/bash -c \\\"echo test\\\";err=$?;$AZ_BATCH_JOB_PREP_WORKING_DIR/uploadfiles.py\
        \ $err;exit $err'\",\"environmentSettings\":[\r\n        {\r\n          \"\
        name\":\"AZ_BATCH_FILE_UPLOAD_CONFIG\",\"value\":\"{\\\"outputFiles\\\": [{\\\
        \"filePattern\\\": \\\"$AZ_BATCH_TASK_DIR/*.txt\\\", \\\"uploadDetails\\\"\
        : {\\\"taskStatus\\\": \\\"TaskSuccess\\\"}, \\\"destination\\\": {\\\"container\\\
        \": {\\\"containerSas\\\": \\\"https://testaccountforbatch.blob.core.windows.net/aaatestcontainer?sv=2015-07-08&se=2017-03-20T02%3A07%3A38Z&sr=c&sig=3MEEVOY/iDHkPd4qaLCHkALPRGWSoHAomyolI5%2BLQk8%3D&sp=rw&st=2017-03-19T02%3A07%3A38Z\\\
        \"}}}]}\"\r\n        }\r\n      ],\"userIdentity\":{\r\n        \"autoUser\"\
        :{\r\n          \"scope\":\"task\",\"elevationLevel\":\"nonadmin\"\r\n   \
        \     }\r\n      },\"constraints\":{\r\n        \"maxWallClockTime\":\"P10675199DT2H48M5.4775807S\"\
        ,\"retentionTime\":\"PT1H\",\"maxTaskRetryCount\":0\r\n      },\"executionInfo\"\
        :{\r\n        \"startTime\":\"2017-03-19T02:07:42.683243Z\",\"retryCount\"\
        :0,\"requeueCount\":0\r\n      },\"nodeInfo\":{\r\n        \"affinityId\"\
        :\"TVM:tvm-3105992504_1-20170318t225123z\",\"nodeUrl\":\"https://test1.westus.batch.azure.com/pools/ncj-ubuntu1404/nodes/tvm-3105992504_1-20170318t225123z\"\
        ,\"poolId\":\"ncj-ubuntu1404\",\"nodeId\":\"tvm-3105992504_1-20170318t225123z\"\
        \r\n      }\r\n    }\r\n  ]\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Sun, 19 Mar 2017 02:07:47 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [b299991d-6b0d-48a5-884e-ae3bb20f7b91]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.9.1 msrest/0.4.6
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      client-request-id: [dc37e4c0-0c48-11e7-9d3d-54ee750f2fc7]
      ocp-date: ['Sun, 19 Mar 2017 02:07:52 GMT']
    method: GET
    uri: https://test1.westus.batch.azure.com/jobs/ncj-ubuntu1404/tasks?api-version=2017-01-01.4.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#tasks\"\
        ,\"value\":[\r\n    {\r\n      \"id\":\"myTask\",\"url\":\"https://test1.westus.batch.azure.com/jobs/ncj-ubuntu1404/tasks/myTask\"\
        ,\"eTag\":\"0x8D46E6CB8F58038\",\"creationTime\":\"2017-03-19T02:07:40.4702776Z\"\
        ,\"lastModified\":\"2017-03-19T02:07:40.4702776Z\",\"state\":\"completed\"\
        ,\"stateTransitionTime\":\"2017-03-19T02:07:49.800206Z\",\"previousState\"\
        :\"running\",\"previousStateTransitionTime\":\"2017-03-19T02:07:49.257195Z\"\
        ,\"commandLine\":\"/bin/bash -c '/bin/bash -c \\\"echo test\\\";err=$?;$AZ_BATCH_JOB_PREP_WORKING_DIR/uploadfiles.py\
        \ $err;exit $err'\",\"environmentSettings\":[\r\n        {\r\n          \"\
        name\":\"AZ_BATCH_FILE_UPLOAD_CONFIG\",\"value\":\"{\\\"outputFiles\\\": [{\\\
        \"filePattern\\\": \\\"$AZ_BATCH_TASK_DIR/*.txt\\\", \\\"uploadDetails\\\"\
        : {\\\"taskStatus\\\": \\\"TaskSuccess\\\"}, \\\"destination\\\": {\\\"container\\\
        \": {\\\"containerSas\\\": \\\"https://testaccountforbatch.blob.core.windows.net/aaatestcontainer?sv=2015-07-08&se=2017-03-20T02%3A07%3A38Z&sr=c&sig=3MEEVOY/iDHkPd4qaLCHkALPRGWSoHAomyolI5%2BLQk8%3D&sp=rw&st=2017-03-19T02%3A07%3A38Z\\\
        \"}}}]}\"\r\n        }\r\n      ],\"userIdentity\":{\r\n        \"autoUser\"\
        :{\r\n          \"scope\":\"task\",\"elevationLevel\":\"nonadmin\"\r\n   \
        \     }\r\n      },\"constraints\":{\r\n        \"maxWallClockTime\":\"P10675199DT2H48M5.4775807S\"\
        ,\"retentionTime\":\"PT1H\",\"maxTaskRetryCount\":0\r\n      },\"executionInfo\"\
        :{\r\n        \"startTime\":\"2017-03-19T02:07:42.683243Z\",\"endTime\":\"\
        2017-03-19T02:07:49.800206Z\",\"exitCode\":0,\"retryCount\":0,\"requeueCount\"\
        :0\r\n      },\"nodeInfo\":{\r\n        \"affinityId\":\"TVM:tvm-3105992504_1-20170318t225123z\"\
        ,\"nodeUrl\":\"https://test1.westus.batch.azure.com/pools/ncj-ubuntu1404/nodes/tvm-3105992504_1-20170318t225123z\"\
        ,\"poolId\":\"ncj-ubuntu1404\",\"nodeId\":\"tvm-3105992504_1-20170318t225123z\"\
        ,\"taskRootDirectory\":\"workitems/ncj-ubuntu1404/job-1/myTask\",\"taskRootDirectoryUrl\"\
        :\"https://test1.westus.batch.azure.com/pools/ncj-ubuntu1404/nodes/tvm-3105992504_1-20170318t225123z/files/workitems/ncj-ubuntu1404/job-1/myTask\"\
        \r\n      }\r\n    }\r\n  ]\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Sun, 19 Mar 2017 02:07:49 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [85d968c3-31b1-49c2-82eb-9395ad27494f]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.9.1 msrest/0.4.6
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      client-request-id: [dc556338-0c48-11e7-a9b5-54ee750f2fc7]
      ocp-date: ['Sun, 19 Mar 2017 02:07:53 GMT']
    method: GET
    uri: https://test1.westus.batch.azure.com/jobs/ncj-ubuntu1404/tasks/myTask?api-version=2017-01-01.4.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#tasks/@Element\"\
        ,\"id\":\"myTask\",\"url\":\"https://test1.westus.batch.azure.com/jobs/ncj-ubuntu1404/tasks/myTask\"\
        ,\"eTag\":\"0x8D46E6CB8F58038\",\"creationTime\":\"2017-03-19T02:07:40.4702776Z\"\
        ,\"lastModified\":\"2017-03-19T02:07:40.4702776Z\",\"state\":\"completed\"\
        ,\"stateTransitionTime\":\"2017-03-19T02:07:49.800206Z\",\"previousState\"\
        :\"running\",\"previousStateTransitionTime\":\"2017-03-19T02:07:49.257195Z\"\
        ,\"commandLine\":\"/bin/bash -c '/bin/bash -c \\\"echo test\\\";err=$?;$AZ_BATCH_JOB_PREP_WORKING_DIR/uploadfiles.py\
        \ $err;exit $err'\",\"environmentSettings\":[\r\n    {\r\n      \"name\":\"\
        AZ_BATCH_FILE_UPLOAD_CONFIG\",\"value\":\"{\\\"outputFiles\\\": [{\\\"filePattern\\\
        \": \\\"$AZ_BATCH_TASK_DIR/*.txt\\\", \\\"uploadDetails\\\": {\\\"taskStatus\\\
        \": \\\"TaskSuccess\\\"}, \\\"destination\\\": {\\\"container\\\": {\\\"containerSas\\\
        \": \\\"https://testaccountforbatch.blob.core.windows.net/aaatestcontainer?sv=2015-07-08&se=2017-03-20T02%3A07%3A38Z&sr=c&sig=3MEEVOY/iDHkPd4qaLCHkALPRGWSoHAomyolI5%2BLQk8%3D&sp=rw&st=2017-03-19T02%3A07%3A38Z\\\
        \"}}}]}\"\r\n    }\r\n  ],\"userIdentity\":{\r\n    \"autoUser\":{\r\n   \
        \   \"scope\":\"task\",\"elevationLevel\":\"nonadmin\"\r\n    }\r\n  },\"\
        constraints\":{\r\n    \"maxWallClockTime\":\"P10675199DT2H48M5.4775807S\"\
        ,\"retentionTime\":\"PT1H\",\"maxTaskRetryCount\":0\r\n  },\"executionInfo\"\
        :{\r\n    \"startTime\":\"2017-03-19T02:07:42.683243Z\",\"endTime\":\"2017-03-19T02:07:49.800206Z\"\
        ,\"exitCode\":0,\"retryCount\":0,\"requeueCount\":0\r\n  },\"nodeInfo\":{\r\
        \n    \"affinityId\":\"TVM:tvm-3105992504_1-20170318t225123z\",\"nodeUrl\"\
        :\"https://test1.westus.batch.azure.com/pools/ncj-ubuntu1404/nodes/tvm-3105992504_1-20170318t225123z\"\
        ,\"poolId\":\"ncj-ubuntu1404\",\"nodeId\":\"tvm-3105992504_1-20170318t225123z\"\
        ,\"taskRootDirectory\":\"workitems/ncj-ubuntu1404/job-1/myTask\",\"taskRootDirectoryUrl\"\
        :\"https://test1.westus.batch.azure.com/pools/ncj-ubuntu1404/nodes/tvm-3105992504_1-20170318t225123z/files/workitems/ncj-ubuntu1404/job-1/myTask\"\
        \r\n  }\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Sun, 19 Mar 2017 02:07:51 GMT']
      ETag: ['0x8D46E6CB8F58038']
      Last-Modified: ['Sun, 19 Mar 2017 02:07:40 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [ce7258a5-7f3d-4d7d-8eb9-57eccfeae8d6]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Connection: [keep-alive]
      User-Agent: [Azure-Storage/0.33.0 (Python CPython 3.5.1; Windows 8.1)]
      x-ms-client-request-id: [dc7261da-0c48-11e7-a0ce-54ee750f2fc7]
      x-ms-date: ['Sun, 19 Mar 2017 02:07:53 GMT']
      x-ms-version: ['2015-07-08']
    method: GET
    uri: https://testaccountforbatch.blob.core.windows.net/aaatestcontainer?restype=container&comp=list
  response:
    body: {string: "\uFEFF<?xml version=\"1.0\" encoding=\"utf-8\"?><EnumerationResults\
        \ ServiceEndpoint=\"https://testaccountforbatch.blob.core.windows.net/\"\
        \ ContainerName=\"aaatestcontainer\"><Blobs><Blob><Name>stderr.txt</Name><Properties><Last-Modified>Sun,\
        \ 19 Mar 2017 02:07:49 GMT</Last-Modified><Etag>0x8D46E6CBE7EA36E</Etag><Content-Length>0</Content-Length><Content-Type>application/octet-stream</Content-Type><Content-Encoding\
        \ /><Content-Language /><Content-MD5 /><Cache-Control /><Content-Disposition\
        \ /><BlobType>BlockBlob</BlobType><LeaseStatus>unlocked</LeaseStatus><LeaseState>available</LeaseState></Properties></Blob><Blob><Name>stdout.txt</Name><Properties><Last-Modified>Sun,\
        \ 19 Mar 2017 02:07:49 GMT</Last-Modified><Etag>0x8D46E6CBE7B6E3D</Etag><Content-Length>5</Content-Length><Content-Type>application/octet-stream</Content-Type><Content-Encoding\
        \ /><Content-Language /><Content-MD5>2Oj8otwPiW/Xy0ywAxuiSQ==</Content-MD5><Cache-Control\
        \ /><Content-Disposition /><BlobType>BlockBlob</BlobType><LeaseStatus>unlocked</LeaseStatus><LeaseState>available</LeaseState></Properties></Blob><Blob><Name>uploadlog.txt</Name><Properties><Last-Modified>Sun,\
        \ 19 Mar 2017 02:07:49 GMT</Last-Modified><Etag>0x8D46E6CBE81D874</Etag><Content-Length>2182</Content-Length><Content-Type>application/octet-stream</Content-Type><Content-Encoding\
        \ /><Content-Language /><Content-MD5>dtlhF4P8XXshK5qplragNQ==</Content-MD5><Cache-Control\
        \ /><Content-Disposition /><BlobType>BlockBlob</BlobType><LeaseStatus>unlocked</LeaseStatus><LeaseState>available</LeaseState></Properties></Blob></Blobs><NextMarker\
        \ /></EnumerationResults>"}
    headers:
      Content-Type: [application/xml]
      Date: ['Sun, 19 Mar 2017 02:07:51 GMT']
      Server: [Windows-Azure-Blob/1.0 Microsoft-HTTPAPI/2.0]
      Transfer-Encoding: [chunked]
      x-ms-version: ['2015-07-08']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.9.1 msrest/0.4.6
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      client-request-id: [dc7806cc-0c48-11e7-aa74-54ee750f2fc7]
      ocp-date: ['Sun, 19 Mar 2017 02:07:53 GMT']
    method: DELETE
    uri: https://test1.westus.batch.azure.com/jobs/ncj-ubuntu1404?api-version=2017-01-01.4.0
  response:
    body: {string: ''}
    headers:
      DataServiceVersion: ['3.0']
      Date: ['Sun, 19 Mar 2017 02:07:53 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [13040aa1-014d-40a7-8a4c-72346b6c241c]
    status: {code: 202, message: Accepted}
- request:
    body: null
    headers:
      Connection: [keep-alive]
      User-Agent: [Azure-Storage/0.33.0 (Python CPython 3.5.1; Windows 8.1)]
      x-ms-client-request-id: [dc934ffe-0c48-11e7-bf61-54ee750f2fc7]
      x-ms-date: ['Sun, 19 Mar 2017 02:07:53 GMT']
      x-ms-version: ['2015-07-08']
    method: GET
    uri: https://testaccountforbatch.blob.core.windows.net/aaatestcontainer?restype=container&comp=list
  response:
    body: {string: "\uFEFF<?xml version=\"1.0\" encoding=\"utf-8\"?><EnumerationResults\
        \ ServiceEndpoint=\"https://testaccountforbatch.blob.core.windows.net/\"\
        \ ContainerName=\"aaatestcontainer\"><Blobs><Blob><Name>stderr.txt</Name><Properties><Last-Modified>Sun,\
        \ 19 Mar 2017 02:07:49 GMT</Last-Modified><Etag>0x8D46E6CBE7EA36E</Etag><Content-Length>0</Content-Length><Content-Type>application/octet-stream</Content-Type><Content-Encoding\
        \ /><Content-Language /><Content-MD5 /><Cache-Control /><Content-Disposition\
        \ /><BlobType>BlockBlob</BlobType><LeaseStatus>unlocked</LeaseStatus><LeaseState>available</LeaseState></Properties></Blob><Blob><Name>stdout.txt</Name><Properties><Last-Modified>Sun,\
        \ 19 Mar 2017 02:07:49 GMT</Last-Modified><Etag>0x8D46E6CBE7B6E3D</Etag><Content-Length>5</Content-Length><Content-Type>application/octet-stream</Content-Type><Content-Encoding\
        \ /><Content-Language /><Content-MD5>2Oj8otwPiW/Xy0ywAxuiSQ==</Content-MD5><Cache-Control\
        \ /><Content-Disposition /><BlobType>BlockBlob</BlobType><LeaseStatus>unlocked</LeaseStatus><LeaseState>available</LeaseState></Properties></Blob><Blob><Name>uploadlog.txt</Name><Properties><Last-Modified>Sun,\
        \ 19 Mar 2017 02:07:49 GMT</Last-Modified><Etag>0x8D46E6CBE81D874</Etag><Content-Length>2182</Content-Length><Content-Type>application/octet-stream</Content-Type><Content-Encoding\
        \ /><Content-Language /><Content-MD5>dtlhF4P8XXshK5qplragNQ==</Content-MD5><Cache-Control\
        \ /><Content-Disposition /><BlobType>BlockBlob</BlobType><LeaseStatus>unlocked</LeaseStatus><LeaseState>available</LeaseState></Properties></Blob></Blobs><NextMarker\
        \ /></EnumerationResults>"}
    headers:
      Content-Type: [application/xml]
      Date: ['Sun, 19 Mar 2017 02:07:51 GMT']
      Server: [Windows-Azure-Blob/1.0 Microsoft-HTTPAPI/2.0]
      Transfer-Encoding: [chunked]
      x-ms-version: ['2015-07-08']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Connection: [keep-alive]
      Content-Length: ['0']
      User-Agent: [Azure-Storage/0.33.0 (Python CPython 3.5.1; Windows 8.1)]
      x-ms-client-request-id: [dc98a5be-0c48-11e7-9fcc-54ee750f2fc7]
      x-ms-date: ['Sun, 19 Mar 2017 02:07:53 GMT']
      x-ms-version: ['2015-07-08']
    method: DELETE
    uri: https://testaccountforbatch.blob.core.windows.net/aaatestcontainer/stderr.txt
  response:
    body: {string: ''}
    headers:
      Date: ['Sun, 19 Mar 2017 02:07:51 GMT']
      Server: [Windows-Azure-Blob/1.0 Microsoft-HTTPAPI/2.0]
      Transfer-Encoding: [chunked]
      x-ms-version: ['2015-07-08']
    status: {code: 202, message: Accepted}
- request:
    body: null
    headers:
      Connection: [keep-alive]
      Content-Length: ['0']
      User-Agent: [Azure-Storage/0.33.0 (Python CPython 3.5.1; Windows 8.1)]
      x-ms-client-request-id: [dc9ee790-0c48-11e7-aa48-54ee750f2fc7]
      x-ms-date: ['Sun, 19 Mar 2017 02:07:53 GMT']
      x-ms-version: ['2015-07-08']
    method: DELETE
    uri: https://testaccountforbatch.blob.core.windows.net/aaatestcontainer/stdout.txt
  response:
    body: {string: ''}
    headers:
      Date: ['Sun, 19 Mar 2017 02:07:51 GMT']
      Server: [Windows-Azure-Blob/1.0 Microsoft-HTTPAPI/2.0]
      Transfer-Encoding: [chunked]
      x-ms-version: ['2015-07-08']
    status: {code: 202, message: Accepted}
- request:
    body: null
    headers:
      Connection: [keep-alive]
      Content-Length: ['0']
      User-Agent: [Azure-Storage/0.33.0 (Python CPython 3.5.1; Windows 8.1)]
      x-ms-client-request-id: [dcaa0b4a-0c48-11e7-b34c-54ee750f2fc7]
      x-ms-date: ['Sun, 19 Mar 2017 02:07:53 GMT']
      x-ms-version: ['2015-07-08']
    method: DELETE
    uri: https://testaccountforbatch.blob.core.windows.net/aaatestcontainer/uploadlog.txt
  response:
    body: {string: ''}
    headers:
      Date: ['Sun, 19 Mar 2017 02:07:51 GMT']
      Server: [Windows-Azure-Blob/1.0 Microsoft-HTTPAPI/2.0]
      Transfer-Encoding: [chunked]
      x-ms-version: ['2015-07-08']
    status: {code: 202, message: Accepted}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.9.1 msrest/0.4.6
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      client-request-id: [dcaf695a-0c48-11e7-8db2-54ee750f2fc7]
      ocp-date: ['Sun, 19 Mar 2017 02:07:53 GMT']
    method: GET
    uri: https://test1.westus.batch.azure.com/nodeagentskus?api-version=2017-01-01.4.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#nodeagentskus\"\
        ,\"value\":[\r\n    {\r\n      \"id\":\"batch.node.centos 7\",\"verifiedImageReferences\"\
        :[\r\n        {\r\n          \"publisher\":\"OpenLogic\",\"offer\":\"CentOS\"\
        ,\"sku\":\"7.3\",\"version\":\"latest\"\r\n        },{\r\n          \"publisher\"\
        :\"OpenLogic\",\"offer\":\"CentOS\",\"sku\":\"7.2\",\"version\":\"latest\"\
        \r\n        },{\r\n          \"publisher\":\"OpenLogic\",\"offer\":\"CentOS\"\
        ,\"sku\":\"7.1\",\"version\":\"latest\"\r\n        },{\r\n          \"publisher\"\
        :\"OpenLogic\",\"offer\":\"CentOS\",\"sku\":\"7.0\",\"version\":\"latest\"\
        \r\n        },{\r\n          \"publisher\":\"OpenLogic\",\"offer\":\"CentOS-HPC\"\
        ,\"sku\":\"7.1\",\"version\":\"latest\"\r\n        },{\r\n          \"publisher\"\
        :\"Oracle\",\"offer\":\"Oracle-Linux\",\"sku\":\"7.2\",\"version\":\"latest\"\
        \r\n        },{\r\n          \"publisher\":\"Oracle\",\"offer\":\"Oracle-Linux\"\
        ,\"sku\":\"7.0\",\"version\":\"latest\"\r\n        },{\r\n          \"publisher\"\
        :\"microsoft-ads\",\"offer\":\"linux-data-science-vm\",\"sku\":\"linuxdsvm\"\
        ,\"version\":\"latest\"\r\n        }\r\n      ],\"osType\":\"linux\"\r\n \
        \   },{\r\n      \"id\":\"batch.node.debian 8\",\"verifiedImageReferences\"\
        :[\r\n        {\r\n          \"publisher\":\"Credativ\",\"offer\":\"Debian\"\
        ,\"sku\":\"8\",\"version\":\"latest\"\r\n        }\r\n      ],\"osType\":\"\
        linux\"\r\n    },{\r\n      \"id\":\"batch.node.opensuse 13.2\",\"verifiedImageReferences\"\
        :[\r\n        \r\n      ],\"osType\":\"linux\"\r\n    },{\r\n      \"id\"\
        :\"batch.node.opensuse 42.1\",\"verifiedImageReferences\":[\r\n        {\r\
        \n          \"publisher\":\"SUSE\",\"offer\":\"openSUSE-Leap\",\"sku\":\"\
        42.1\",\"version\":\"latest\"\r\n        },{\r\n          \"publisher\":\"\
        SUSE\",\"offer\":\"SLES\",\"sku\":\"12-SP2\",\"version\":\"latest\"\r\n  \
        \      },{\r\n          \"publisher\":\"SUSE\",\"offer\":\"SLES\",\"sku\"\
        :\"12-SP1\",\"version\":\"latest\"\r\n        },{\r\n          \"publisher\"\
        :\"SUSE\",\"offer\":\"SLES-HPC\",\"sku\":\"12-SP1\",\"version\":\"latest\"\
        \r\n        }\r\n      ],\"osType\":\"linux\"\r\n    },{\r\n      \"id\":\"\
        batch.node.ubuntu 14.04\",\"verifiedImageReferences\":[\r\n        {\r\n \
        \         \"publisher\":\"Canonical\",\"offer\":\"UbuntuServer\",\"sku\":\"\
        14.04.5-LTS\",\"version\":\"latest\"\r\n        }\r\n      ],\"osType\":\"\
        linux\"\r\n    },{\r\n      \"id\":\"batch.node.ubuntu 16.04\",\"verifiedImageReferences\"\
        :[\r\n        {\r\n          \"publisher\":\"Canonical\",\"offer\":\"UbuntuServer\"\
        ,\"sku\":\"16.04-LTS\",\"version\":\"latest\"\r\n        },{\r\n         \
        \ \"publisher\":\"Canonical\",\"offer\":\"UbuntuServer\",\"sku\":\"16.10\"\
        ,\"version\":\"latest\"\r\n        }\r\n      ],\"osType\":\"linux\"\r\n \
        \   },{\r\n      \"id\":\"batch.node.windows amd64\",\"verifiedImageReferences\"\
        :[\r\n        {\r\n          \"publisher\":\"MicrosoftWindowsServer\",\"offer\"\
        :\"WindowsServer\",\"sku\":\"2012-R2-Datacenter\",\"version\":\"latest\"\r\
        \n        },{\r\n          \"publisher\":\"MicrosoftWindowsServer\",\"offer\"\
        :\"WindowsServer\",\"sku\":\"2012-Datacenter\",\"version\":\"latest\"\r\n\
        \        },{\r\n          \"publisher\":\"MicrosoftWindowsServer\",\"offer\"\
        :\"WindowsServer\",\"sku\":\"2008-R2-SP1\",\"version\":\"latest\"\r\n    \
        \    },{\r\n          \"publisher\":\"MicrosoftWindowsServer\",\"offer\":\"\
        WindowsServer\",\"sku\":\"2016-Datacenter\",\"version\":\"latest\"\r\n   \
        \     },{\r\n          \"publisher\":\"MicrosoftWindowsServer\",\"offer\"\
        :\"WindowsServer\",\"sku\":\"2016-Datacenter-with-Containers\",\"version\"\
        :\"latest\"\r\n        },{\r\n          \"publisher\":\"microsoft-ads\",\"\
        offer\":\"standard-data-science-vm\",\"sku\":\"standard-data-science-vm\"\
        ,\"version\":\"latest\"\r\n        }\r\n      ],\"osType\":\"windows\"\r\n\
        \    }\r\n  ]\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Sun, 19 Mar 2017 02:07:51 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [2884a5c0-fa22-42a6-9074-1688d7dc7473]
    status: {code: 200, message: OK}
- request:
    body: '{"virtualMachineConfiguration": {"imageReference": {"offer": "WindowsServer",
      "publisher": "MicrosoftWindowsServer", "sku": "2012-R2-Datacenter"}, "nodeAgentSKUId":
      "batch.node.windows amd64"}, "id": "ncj-windows-2012-r2", "vmSize": "STANDARD_D1_V2",
      "targetDedicated": 1}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['272']
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.9.1 msrest/0.4.6
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      client-request-id: [dcc7e518-0c48-11e7-b2b6-54ee750f2fc7]
      ocp-date: ['Sun, 19 Mar 2017 02:07:53 GMT']
    method: POST
    uri: https://test1.westus.batch.azure.com/pools?api-version=2017-01-01.4.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#Microsoft.Azure.Batch.Protocol.Entities.Container.errors/@Element\"\
        ,\"code\":\"PoolExists\",\"message\":{\r\n    \"lang\":\"en-US\",\"value\"\
        :\"The specified pool already exists.\\nRequestId:3134ba38-e06c-4194-a844-d10187e1e3b3\\\
        nTime:2017-03-19T02:07:54.0366058Z\"\r\n  }\r\n}"}
    headers:
      Content-Length: ['337']
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Sun, 19 Mar 2017 02:07:53 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      X-Content-Type-Options: [nosniff]
      request-id: [3134ba38-e06c-4194-a844-d10187e1e3b3]
    status: {code: 409, message: The specified pool already exists.}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.9.1 msrest/0.4.6
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      client-request-id: [dce6bc82-0c48-11e7-b083-54ee750f2fc7]
      ocp-date: ['Sun, 19 Mar 2017 02:07:54 GMT']
    method: GET
    uri: https://test1.westus.batch.azure.com/pools/ncj-windows-2012-r2?api-version=2017-01-01.4.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#pools/@Element\"\
        ,\"id\":\"ncj-windows-2012-r2\",\"url\":\"https://test1.westus.batch.azure.com/pools/ncj-windows-2012-r2\"\
        ,\"eTag\":\"0x8D46E51F4A8B919\",\"lastModified\":\"2017-03-18T22:56:04.2187033Z\"\
        ,\"creationTime\":\"2017-03-18T22:56:04.2187033Z\",\"state\":\"active\",\"\
        stateTransitionTime\":\"2017-03-18T22:56:04.2187033Z\",\"allocationState\"\
        :\"steady\",\"allocationStateTransitionTime\":\"2017-03-18T22:57:09.1593423Z\"\
        ,\"vmSize\":\"standard_d1_v2\",\"resizeTimeout\":\"PT15M\",\"currentDedicated\"\
        :1,\"targetDedicated\":1,\"enableAutoScale\":false,\"enableInterNodeCommunication\"\
        :false,\"maxTasksPerNode\":1,\"taskSchedulingPolicy\":{\r\n    \"nodeFillType\"\
        :\"Spread\"\r\n  },\"virtualMachineConfiguration\":{\r\n    \"imageReference\"\
        :{\r\n      \"publisher\":\"MicrosoftWindowsServer\",\"offer\":\"WindowsServer\"\
        ,\"sku\":\"2012-R2-Datacenter\",\"version\":\"latest\"\r\n    },\"nodeAgentSKUId\"\
        :\"batch.node.windows amd64\"\r\n  }\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Sun, 19 Mar 2017 02:07:53 GMT']
      ETag: ['0x8D46E51F4A8B919']
      Last-Modified: ['Sat, 18 Mar 2017 22:56:04 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [36ce9e68-bed0-477c-9633-edba1192362b]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.9.1 msrest/0.4.6
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      client-request-id: [dd0bce82-0c48-11e7-bf1c-54ee750f2fc7]
      ocp-date: ['Sun, 19 Mar 2017 02:07:54 GMT']
    method: GET
    uri: https://test1.westus.batch.azure.com/pools/ncj-windows-2012-r2/nodes?api-version=2017-01-01.4.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#nodes\"\
        ,\"value\":[\r\n    {\r\n      \"id\":\"tvm-2434664350_1-20170318t225707z\"\
        ,\"url\":\"https://test1.westus.batch.azure.com/pools/ncj-windows-2012-r2/nodes/tvm-2434664350_1-20170318t225707z\"\
        ,\"state\":\"idle\",\"schedulingState\":\"enabled\",\"stateTransitionTime\"\
        :\"2017-03-19T01:57:21.33259Z\",\"lastBootTime\":\"2017-03-18T23:01:13.159972Z\"\
        ,\"allocationTime\":\"2017-03-18T22:57:07.7996353Z\",\"ipAddress\":\"10.0.0.4\"\
        ,\"affinityId\":\"TVM:tvm-2434664350_1-20170318t225707z\",\"vmSize\":\"standard_d1_v2\"\
        ,\"totalTasksRun\":8,\"totalTasksSucceeded\":8,\"runningTasksCount\":0,\"\
        recentTasks\":[\r\n        {\r\n          \"taskUrl\":\"https://test1.westus.batch.azure.com/jobs/ncj-windows-2012-r2-1/tasks/mytask\"\
        ,\"jobId\":\"ncj-windows-2012-r2-1\",\"taskId\":\"mytask\",\"taskState\":\"\
        completed\",\"executionInfo\":{\r\n            \"startTime\":\"2017-03-19T01:57:00.009996Z\"\
        ,\"endTime\":\"2017-03-19T01:57:21.035723Z\",\"exitCode\":0,\"retryCount\"\
        :0,\"requeueCount\":0\r\n          }\r\n        }\r\n      ]\r\n    }\r\n\
        \  ]\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Sun, 19 Mar 2017 02:07:54 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [f54505e8-6b55-4c87-9990-8357be145944]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: ['python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.9.1 msrest/0.4.6
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python batch-extensions:v1.0.0RC']
      accept-language: [en-US]
      client-request-id: [de5d9c30-0c48-11e7-9a61-54ee750f2fc7]
      ocp-date: ['Sun, 19 Mar 2017 02:07:56 GMT']
    method: GET
    uri: https://test1.westus.batch.azure.com/pools/ncj-windows-2012-r2?api-version=2017-01-01.4.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#pools/@Element\"\
        ,\"id\":\"ncj-windows-2012-r2\",\"url\":\"https://test1.westus.batch.azure.com/pools/ncj-windows-2012-r2\"\
        ,\"eTag\":\"0x8D46E51F4A8B919\",\"lastModified\":\"2017-03-18T22:56:04.2187033Z\"\
        ,\"creationTime\":\"2017-03-18T22:56:04.2187033Z\",\"state\":\"active\",\"\
        stateTransitionTime\":\"2017-03-18T22:56:04.2187033Z\",\"allocationState\"\
        :\"steady\",\"allocationStateTransitionTime\":\"2017-03-18T22:57:09.1593423Z\"\
        ,\"vmSize\":\"standard_d1_v2\",\"resizeTimeout\":\"PT15M\",\"currentDedicated\"\
        :1,\"targetDedicated\":1,\"enableAutoScale\":false,\"enableInterNodeCommunication\"\
        :false,\"maxTasksPerNode\":1,\"taskSchedulingPolicy\":{\r\n    \"nodeFillType\"\
        :\"Spread\"\r\n  },\"virtualMachineConfiguration\":{\r\n    \"imageReference\"\
        :{\r\n      \"publisher\":\"MicrosoftWindowsServer\",\"offer\":\"WindowsServer\"\
        ,\"sku\":\"2012-R2-Datacenter\",\"version\":\"latest\"\r\n    },\"nodeAgentSKUId\"\
        :\"batch.node.windows amd64\"\r\n  }\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Sun, 19 Mar 2017 02:07:53 GMT']
      ETag: ['0x8D46E51F4A8B919']
      Last-Modified: ['Sat, 18 Mar 2017 22:56:04 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [8ad1100c-f68c-40aa-b913-1716b7ba3778]
    status: {code: 200, message: OK}
- request:
    body: '{"id": "ncj-windows-2012-r2", "poolInfo": {"poolId": "ncj-windows-2012-r2"},
      "jobPreparationTask": {"commandLine": "cmd.exe /c \"(bootstrap.cmd && setup_uploader.py)
      > setuplog.txt 2>&1\"", "userIdentity": {"autoUser": {"elevationLevel": "admin"}},
      "waitForSuccess": true, "resourceFiles": [{"blobSource": "https://raw.githubusercontent.com/annatisch/azure-batch-cli-extensions/master/azure/cli/command_modules/batch_extensions/fileegress/util.py",
      "filePath": "util.py"}, {"blobSource": "https://raw.githubusercontent.com/annatisch/azure-batch-cli-extensions/master/azure/cli/command_modules/batch_extensions/fileegress/uploader.py",
      "filePath": "uploader.py"}, {"blobSource": "https://raw.githubusercontent.com/annatisch/azure-batch-cli-extensions/master/azure/cli/command_modules/batch_extensions/fileegress/uploadfiles.py",
      "filePath": "uploadfiles.py"}, {"blobSource": "https://raw.githubusercontent.com/annatisch/azure-batch-cli-extensions/master/azure/cli/command_modules/batch_extensions/fileegress/batchfileuploader.py",
      "filePath": "batchfileuploader.py"}, {"blobSource": "https://raw.githubusercontent.com/annatisch/azure-batch-cli-extensions/master/azure/cli/command_modules/batch_extensions/fileegress/setup_uploader.py",
      "filePath": "setup_uploader.py"}, {"blobSource": "https://raw.githubusercontent.com/annatisch/azure-batch-cli-extensions/master/azure/cli/command_modules/batch_extensions/fileegress/configuration.py",
      "filePath": "configuration.py"}, {"blobSource": "https://raw.githubusercontent.com/annatisch/azure-batch-cli-extensions/master/azure/cli/command_modules/batch_extensions/fileegress/requirements.txt",
      "filePath": "requirements.txt"}, {"blobSource": "https://raw.githubusercontent.com/annatisch/azure-batch-cli-extensions/master/azure/cli/command_modules/batch_extensions/fileegress/bootstrap.cmd",
      "filePath": "bootstrap.cmd"}]}}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['1864']
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: ['python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.9.1 msrest/0.4.6
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python batch-extensions:v1.0.0RC']
      accept-language: [en-US]
      client-request-id: [de8232d0-0c48-11e7-8366-54ee750f2fc7]
      ocp-date: ['Sun, 19 Mar 2017 02:07:56 GMT']
      return-client-request-id: ['false']
    method: POST
    uri: https://test1.westus.batch.azure.com/jobs?api-version=2017-01-01.4.0&timeout=30
  response:
    body: {string: ''}
    headers:
      DataServiceId: ['https://test1.westus.batch.azure.com/jobs/job-1']
      DataServiceVersion: ['3.0']
      Date: ['Sun, 19 Mar 2017 02:07:58 GMT']
      ETag: ['0x8D46E6CC443BBCA']
      Last-Modified: ['Sun, 19 Mar 2017 02:07:59 GMT']
      Location: ['https://test1.westus.batch.azure.com/jobs/job-1']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [13ed1fb3-12fe-432a-be29-8795dc55f4a8]
    status: {code: 201, message: Created}
- request:
    body: '{"value": [{"commandLine": "cmd /c \"cmd /c echo | set /p dummy=test &
      %AZ_BATCH_JOB_PREP_WORKING_DIR%\\uploadfiles.py %errorlevel%\"", "environmentSettings":
      [{"name": "AZ_BATCH_FILE_UPLOAD_CONFIG", "value": "{\"outputFiles\": [{\"filePattern\":
      \"$AZ_BATCH_TASK_DIR/*.txt\", \"uploadDetails\": {\"taskStatus\": \"TaskSuccess\"},
      \"destination\": {\"container\": {\"containerSas\": \"https://testaccountforbatch.blob.core.windows.net/aaatestcontainer?sv=2015-07-08&se=2017-03-20T02%3A07%3A38Z&sr=c&sig=3MEEVOY/iDHkPd4qaLCHkALPRGWSoHAomyolI5%2BLQk8%3D&sp=rw&st=2017-03-19T02%3A07%3A38Z\"}}}]}"}],
      "id": "myTask", "constraints": {"retentionTime": "PT1H"}}]}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['657']
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: ['python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.9.1 msrest/0.4.6
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python batch-extensions:v1.0.0RC']
      accept-language: [en-US]
      client-request-id: [e1792d2e-0c48-11e7-940b-54ee750f2fc7]
      ocp-date: ['Sun, 19 Mar 2017 02:08:01 GMT']
    method: POST
    uri: https://test1.westus.batch.azure.com/jobs/ncj-windows-2012-r2/addtaskcollection?api-version=2017-01-01.4.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#taskaddresult\"\
        ,\"value\":[\r\n    {\r\n      \"status\":\"Success\",\"taskId\":\"myTask\"\
        ,\"eTag\":\"0x8D46E6CC5FB9738\",\"lastModified\":\"2017-03-19T02:08:02.3205688Z\"\
        ,\"location\":\"https://test1.westus.batch.azure.com/jobs/ncj-windows-2012-r2/tasks/myTask\"\
        \r\n    }\r\n  ]\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Sun, 19 Mar 2017 02:08:02 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [c4db5b72-de09-48bf-816f-b39a77f43fb4]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.9.1 msrest/0.4.6
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      client-request-id: [e1aae928-0c48-11e7-852c-54ee750f2fc7]
      ocp-date: ['Sun, 19 Mar 2017 02:08:02 GMT']
    method: GET
    uri: https://test1.westus.batch.azure.com/jobs/ncj-windows-2012-r2?api-version=2017-01-01.4.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#jobs/@Element\"\
        ,\"id\":\"ncj-windows-2012-r2\",\"url\":\"https://test1.westus.batch.azure.com/jobs/ncj-windows-2012-r2\"\
        ,\"eTag\":\"0x8D46E6CC443BBCA\",\"lastModified\":\"2017-03-19T02:07:59.437921Z\"\
        ,\"creationTime\":\"2017-03-19T02:07:59.4049207Z\",\"state\":\"active\",\"\
        stateTransitionTime\":\"2017-03-19T02:07:59.437921Z\",\"priority\":0,\"usesTaskDependencies\"\
        :false,\"constraints\":{\r\n    \"maxWallClockTime\":\"P10675199DT2H48M5.4775807S\"\
        ,\"maxTaskRetryCount\":0\r\n  },\"jobPreparationTask\":{\r\n    \"id\":\"\
        jobpreparation\",\"commandLine\":\"cmd.exe /c \\\"(bootstrap.cmd && setup_uploader.py)\
        \ > setuplog.txt 2>&1\\\"\",\"resourceFiles\":[\r\n      {\r\n        \"blobSource\"\
        :\"https://raw.githubusercontent.com/annatisch/azure-batch-cli-extensions/master/azure/cli/command_modules/batch_extensions/fileegress/util.py\"\
        ,\"filePath\":\"util.py\"\r\n      },{\r\n        \"blobSource\":\"https://raw.githubusercontent.com/annatisch/azure-batch-cli-extensions/master/azure/cli/command_modules/batch_extensions/fileegress/uploader.py\"\
        ,\"filePath\":\"uploader.py\"\r\n      },{\r\n        \"blobSource\":\"https://raw.githubusercontent.com/annatisch/azure-batch-cli-extensions/master/azure/cli/command_modules/batch_extensions/fileegress/uploadfiles.py\"\
        ,\"filePath\":\"uploadfiles.py\"\r\n      },{\r\n        \"blobSource\":\"\
        https://raw.githubusercontent.com/annatisch/azure-batch-cli-extensions/master/azure/cli/command_modules/batch_extensions/fileegress/batchfileuploader.py\"\
        ,\"filePath\":\"batchfileuploader.py\"\r\n      },{\r\n        \"blobSource\"\
        :\"https://raw.githubusercontent.com/annatisch/azure-batch-cli-extensions/master/azure/cli/command_modules/batch_extensions/fileegress/setup_uploader.py\"\
        ,\"filePath\":\"setup_uploader.py\"\r\n      },{\r\n        \"blobSource\"\
        :\"https://raw.githubusercontent.com/annatisch/azure-batch-cli-extensions/master/azure/cli/command_modules/batch_extensions/fileegress/configuration.py\"\
        ,\"filePath\":\"configuration.py\"\r\n      },{\r\n        \"blobSource\"\
        :\"https://raw.githubusercontent.com/annatisch/azure-batch-cli-extensions/master/azure/cli/command_modules/batch_extensions/fileegress/requirements.txt\"\
        ,\"filePath\":\"requirements.txt\"\r\n      },{\r\n        \"blobSource\"\
        :\"https://raw.githubusercontent.com/annatisch/azure-batch-cli-extensions/master/azure/cli/command_modules/batch_extensions/fileegress/bootstrap.cmd\"\
        ,\"filePath\":\"bootstrap.cmd\"\r\n      }\r\n    ],\"constraints\":{\r\n\
        \      \"maxWallClockTime\":\"P10675199DT2H48M5.4775807S\",\"retentionTime\"\
        :\"P10675199DT2H48M5.4775807S\",\"maxTaskRetryCount\":0\r\n    },\"userIdentity\"\
        :{\r\n      \"autoUser\":{\r\n        \"scope\":\"task\",\"elevationLevel\"\
        :\"admin\"\r\n      }\r\n    },\"waitForSuccess\":true,\"rerunOnNodeRebootAfterSuccess\"\
        :true\r\n  },\"poolInfo\":{\r\n    \"poolId\":\"ncj-windows-2012-r2\"\r\n\
        \  },\"executionInfo\":{\r\n    \"startTime\":\"2017-03-19T02:07:59.437921Z\"\
        ,\"poolId\":\"ncj-windows-2012-r2\"\r\n  },\"onAllTasksComplete\":\"noaction\"\
        ,\"onTaskFailure\":\"noaction\"\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Sun, 19 Mar 2017 02:08:00 GMT']
      ETag: ['0x8D46E6CC443BBCA']
      Last-Modified: ['Sun, 19 Mar 2017 02:07:59 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [a016fa0f-7dfc-45f4-b0f0-8fa6eb2b29f5]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.9.1 msrest/0.4.6
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      client-request-id: [e1d36574-0c48-11e7-a7a4-54ee750f2fc7]
      ocp-date: ['Sun, 19 Mar 2017 02:08:02 GMT']
    method: GET
    uri: https://test1.westus.batch.azure.com/jobs/ncj-windows-2012-r2/tasks?api-version=2017-01-01.4.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#tasks\"\
        ,\"value\":[\r\n    {\r\n      \"id\":\"myTask\",\"url\":\"https://test1.westus.batch.azure.com/jobs/ncj-windows-2012-r2/tasks/myTask\"\
        ,\"eTag\":\"0x8D46E6CC5FB9738\",\"creationTime\":\"2017-03-19T02:08:02.3205688Z\"\
        ,\"lastModified\":\"2017-03-19T02:08:02.3205688Z\",\"state\":\"active\",\"\
        stateTransitionTime\":\"2017-03-19T02:08:02.3205688Z\",\"commandLine\":\"\
        cmd /c \\\"cmd /c echo | set /p dummy=test & %AZ_BATCH_JOB_PREP_WORKING_DIR%\\\
        \\uploadfiles.py %errorlevel%\\\"\",\"environmentSettings\":[\r\n        {\r\
        \n          \"name\":\"AZ_BATCH_FILE_UPLOAD_CONFIG\",\"value\":\"{\\\"outputFiles\\\
        \": [{\\\"filePattern\\\": \\\"$AZ_BATCH_TASK_DIR/*.txt\\\", \\\"uploadDetails\\\
        \": {\\\"taskStatus\\\": \\\"TaskSuccess\\\"}, \\\"destination\\\": {\\\"\
        container\\\": {\\\"containerSas\\\": \\\"https://testaccountforbatch.blob.core.windows.net/aaatestcontainer?sv=2015-07-08&se=2017-03-20T02%3A07%3A38Z&sr=c&sig=3MEEVOY/iDHkPd4qaLCHkALPRGWSoHAomyolI5%2BLQk8%3D&sp=rw&st=2017-03-19T02%3A07%3A38Z\\\
        \"}}}]}\"\r\n        }\r\n      ],\"userIdentity\":{\r\n        \"autoUser\"\
        :{\r\n          \"scope\":\"task\",\"elevationLevel\":\"nonadmin\"\r\n   \
        \     }\r\n      },\"constraints\":{\r\n        \"maxWallClockTime\":\"P10675199DT2H48M5.4775807S\"\
        ,\"retentionTime\":\"PT1H\",\"maxTaskRetryCount\":0\r\n      },\"executionInfo\"\
        :{\r\n        \"retryCount\":0,\"requeueCount\":0\r\n      }\r\n    }\r\n\
        \  ]\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Sun, 19 Mar 2017 02:08:02 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [679ae01b-445e-462b-a211-3e861bf1e37b]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.9.1 msrest/0.4.6
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      client-request-id: [e3cc1a8c-0c48-11e7-9f2f-54ee750f2fc7]
      ocp-date: ['Sun, 19 Mar 2017 02:08:05 GMT']
    method: GET
    uri: https://test1.westus.batch.azure.com/jobs/ncj-windows-2012-r2/tasks?api-version=2017-01-01.4.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#tasks\"\
        ,\"value\":[\r\n    {\r\n      \"id\":\"myTask\",\"url\":\"https://test1.westus.batch.azure.com/jobs/ncj-windows-2012-r2/tasks/myTask\"\
        ,\"eTag\":\"0x8D46E6CC5FB9738\",\"creationTime\":\"2017-03-19T02:08:02.3205688Z\"\
        ,\"lastModified\":\"2017-03-19T02:08:02.3205688Z\",\"state\":\"preparing\"\
        ,\"stateTransitionTime\":\"2017-03-19T02:08:02.613721Z\",\"previousState\"\
        :\"active\",\"previousStateTransitionTime\":\"2017-03-19T02:08:02.3205688Z\"\
        ,\"commandLine\":\"cmd /c \\\"cmd /c echo | set /p dummy=test & %AZ_BATCH_JOB_PREP_WORKING_DIR%\\\
        \\uploadfiles.py %errorlevel%\\\"\",\"environmentSettings\":[\r\n        {\r\
        \n          \"name\":\"AZ_BATCH_FILE_UPLOAD_CONFIG\",\"value\":\"{\\\"outputFiles\\\
        \": [{\\\"filePattern\\\": \\\"$AZ_BATCH_TASK_DIR/*.txt\\\", \\\"uploadDetails\\\
        \": {\\\"taskStatus\\\": \\\"TaskSuccess\\\"}, \\\"destination\\\": {\\\"\
        container\\\": {\\\"containerSas\\\": \\\"https://testaccountforbatch.blob.core.windows.net/aaatestcontainer?sv=2015-07-08&se=2017-03-20T02%3A07%3A38Z&sr=c&sig=3MEEVOY/iDHkPd4qaLCHkALPRGWSoHAomyolI5%2BLQk8%3D&sp=rw&st=2017-03-19T02%3A07%3A38Z\\\
        \"}}}]}\"\r\n        }\r\n      ],\"userIdentity\":{\r\n        \"autoUser\"\
        :{\r\n          \"scope\":\"task\",\"elevationLevel\":\"nonadmin\"\r\n   \
        \     }\r\n      },\"constraints\":{\r\n        \"maxWallClockTime\":\"P10675199DT2H48M5.4775807S\"\
        ,\"retentionTime\":\"PT1H\",\"maxTaskRetryCount\":0\r\n      },\"executionInfo\"\
        :{\r\n        \"startTime\":\"2017-03-19T02:08:02.613721Z\",\"retryCount\"\
        :0,\"requeueCount\":0\r\n      },\"nodeInfo\":{\r\n        \"affinityId\"\
        :\"TVM:tvm-2434664350_1-20170318t225707z\",\"nodeUrl\":\"https://test1.westus.batch.azure.com/pools/ncj-windows-2012-r2/nodes/tvm-2434664350_1-20170318t225707z\"\
        ,\"poolId\":\"ncj-windows-2012-r2\",\"nodeId\":\"tvm-2434664350_1-20170318t225707z\"\
        \r\n      }\r\n    }\r\n  ]\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Sun, 19 Mar 2017 02:08:05 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [4c38cc43-b201-42c5-8587-a5ee33ba3d3f]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.9.1 msrest/0.4.6
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      client-request-id: [e619101c-0c48-11e7-baad-54ee750f2fc7]
      ocp-date: ['Sun, 19 Mar 2017 02:08:09 GMT']
    method: GET
    uri: https://test1.westus.batch.azure.com/jobs/ncj-windows-2012-r2/tasks?api-version=2017-01-01.4.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#tasks\"\
        ,\"value\":[\r\n    {\r\n      \"id\":\"myTask\",\"url\":\"https://test1.westus.batch.azure.com/jobs/ncj-windows-2012-r2/tasks/myTask\"\
        ,\"eTag\":\"0x8D46E6CC5FB9738\",\"creationTime\":\"2017-03-19T02:08:02.3205688Z\"\
        ,\"lastModified\":\"2017-03-19T02:08:02.3205688Z\",\"state\":\"preparing\"\
        ,\"stateTransitionTime\":\"2017-03-19T02:08:02.613721Z\",\"previousState\"\
        :\"active\",\"previousStateTransitionTime\":\"2017-03-19T02:08:02.3205688Z\"\
        ,\"commandLine\":\"cmd /c \\\"cmd /c echo | set /p dummy=test & %AZ_BATCH_JOB_PREP_WORKING_DIR%\\\
        \\uploadfiles.py %errorlevel%\\\"\",\"environmentSettings\":[\r\n        {\r\
        \n          \"name\":\"AZ_BATCH_FILE_UPLOAD_CONFIG\",\"value\":\"{\\\"outputFiles\\\
        \": [{\\\"filePattern\\\": \\\"$AZ_BATCH_TASK_DIR/*.txt\\\", \\\"uploadDetails\\\
        \": {\\\"taskStatus\\\": \\\"TaskSuccess\\\"}, \\\"destination\\\": {\\\"\
        container\\\": {\\\"containerSas\\\": \\\"https://testaccountforbatch.blob.core.windows.net/aaatestcontainer?sv=2015-07-08&se=2017-03-20T02%3A07%3A38Z&sr=c&sig=3MEEVOY/iDHkPd4qaLCHkALPRGWSoHAomyolI5%2BLQk8%3D&sp=rw&st=2017-03-19T02%3A07%3A38Z\\\
        \"}}}]}\"\r\n        }\r\n      ],\"userIdentity\":{\r\n        \"autoUser\"\
        :{\r\n          \"scope\":\"task\",\"elevationLevel\":\"nonadmin\"\r\n   \
        \     }\r\n      },\"constraints\":{\r\n        \"maxWallClockTime\":\"P10675199DT2H48M5.4775807S\"\
        ,\"retentionTime\":\"PT1H\",\"maxTaskRetryCount\":0\r\n      },\"executionInfo\"\
        :{\r\n        \"startTime\":\"2017-03-19T02:08:02.613721Z\",\"retryCount\"\
        :0,\"requeueCount\":0\r\n      },\"nodeInfo\":{\r\n        \"affinityId\"\
        :\"TVM:tvm-2434664350_1-20170318t225707z\",\"nodeUrl\":\"https://test1.westus.batch.azure.com/pools/ncj-windows-2012-r2/nodes/tvm-2434664350_1-20170318t225707z\"\
        ,\"poolId\":\"ncj-windows-2012-r2\",\"nodeId\":\"tvm-2434664350_1-20170318t225707z\"\
        \r\n      }\r\n    }\r\n  ]\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Sun, 19 Mar 2017 02:08:08 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [700e7bcb-9236-4ceb-a32a-082181d7cc91]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.9.1 msrest/0.4.6
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      client-request-id: [e84443c2-0c48-11e7-b021-54ee750f2fc7]
      ocp-date: ['Sun, 19 Mar 2017 02:08:13 GMT']
    method: GET
    uri: https://test1.westus.batch.azure.com/jobs/ncj-windows-2012-r2/tasks?api-version=2017-01-01.4.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#tasks\"\
        ,\"value\":[\r\n    {\r\n      \"id\":\"myTask\",\"url\":\"https://test1.westus.batch.azure.com/jobs/ncj-windows-2012-r2/tasks/myTask\"\
        ,\"eTag\":\"0x8D46E6CC5FB9738\",\"creationTime\":\"2017-03-19T02:08:02.3205688Z\"\
        ,\"lastModified\":\"2017-03-19T02:08:02.3205688Z\",\"state\":\"preparing\"\
        ,\"stateTransitionTime\":\"2017-03-19T02:08:02.613721Z\",\"previousState\"\
        :\"active\",\"previousStateTransitionTime\":\"2017-03-19T02:08:02.3205688Z\"\
        ,\"commandLine\":\"cmd /c \\\"cmd /c echo | set /p dummy=test & %AZ_BATCH_JOB_PREP_WORKING_DIR%\\\
        \\uploadfiles.py %errorlevel%\\\"\",\"environmentSettings\":[\r\n        {\r\
        \n          \"name\":\"AZ_BATCH_FILE_UPLOAD_CONFIG\",\"value\":\"{\\\"outputFiles\\\
        \": [{\\\"filePattern\\\": \\\"$AZ_BATCH_TASK_DIR/*.txt\\\", \\\"uploadDetails\\\
        \": {\\\"taskStatus\\\": \\\"TaskSuccess\\\"}, \\\"destination\\\": {\\\"\
        container\\\": {\\\"containerSas\\\": \\\"https://testaccountforbatch.blob.core.windows.net/aaatestcontainer?sv=2015-07-08&se=2017-03-20T02%3A07%3A38Z&sr=c&sig=3MEEVOY/iDHkPd4qaLCHkALPRGWSoHAomyolI5%2BLQk8%3D&sp=rw&st=2017-03-19T02%3A07%3A38Z\\\
        \"}}}]}\"\r\n        }\r\n      ],\"userIdentity\":{\r\n        \"autoUser\"\
        :{\r\n          \"scope\":\"task\",\"elevationLevel\":\"nonadmin\"\r\n   \
        \     }\r\n      },\"constraints\":{\r\n        \"maxWallClockTime\":\"P10675199DT2H48M5.4775807S\"\
        ,\"retentionTime\":\"PT1H\",\"maxTaskRetryCount\":0\r\n      },\"executionInfo\"\
        :{\r\n        \"startTime\":\"2017-03-19T02:08:02.613721Z\",\"retryCount\"\
        :0,\"requeueCount\":0\r\n      },\"nodeInfo\":{\r\n        \"affinityId\"\
        :\"TVM:tvm-2434664350_1-20170318t225707z\",\"nodeUrl\":\"https://test1.westus.batch.azure.com/pools/ncj-windows-2012-r2/nodes/tvm-2434664350_1-20170318t225707z\"\
        ,\"poolId\":\"ncj-windows-2012-r2\",\"nodeId\":\"tvm-2434664350_1-20170318t225707z\"\
        \r\n      }\r\n    }\r\n  ]\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Sun, 19 Mar 2017 02:08:11 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [ae0250be-8362-4868-b55f-db41cf0a5971]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.9.1 msrest/0.4.6
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      client-request-id: [ea32c5a2-0c48-11e7-ae3d-54ee750f2fc7]
      ocp-date: ['Sun, 19 Mar 2017 02:08:16 GMT']
    method: GET
    uri: https://test1.westus.batch.azure.com/jobs/ncj-windows-2012-r2/tasks?api-version=2017-01-01.4.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#tasks\"\
        ,\"value\":[\r\n    {\r\n      \"id\":\"myTask\",\"url\":\"https://test1.westus.batch.azure.com/jobs/ncj-windows-2012-r2/tasks/myTask\"\
        ,\"eTag\":\"0x8D46E6CC5FB9738\",\"creationTime\":\"2017-03-19T02:08:02.3205688Z\"\
        ,\"lastModified\":\"2017-03-19T02:08:02.3205688Z\",\"state\":\"preparing\"\
        ,\"stateTransitionTime\":\"2017-03-19T02:08:02.613721Z\",\"previousState\"\
        :\"active\",\"previousStateTransitionTime\":\"2017-03-19T02:08:02.3205688Z\"\
        ,\"commandLine\":\"cmd /c \\\"cmd /c echo | set /p dummy=test & %AZ_BATCH_JOB_PREP_WORKING_DIR%\\\
        \\uploadfiles.py %errorlevel%\\\"\",\"environmentSettings\":[\r\n        {\r\
        \n          \"name\":\"AZ_BATCH_FILE_UPLOAD_CONFIG\",\"value\":\"{\\\"outputFiles\\\
        \": [{\\\"filePattern\\\": \\\"$AZ_BATCH_TASK_DIR/*.txt\\\", \\\"uploadDetails\\\
        \": {\\\"taskStatus\\\": \\\"TaskSuccess\\\"}, \\\"destination\\\": {\\\"\
        container\\\": {\\\"containerSas\\\": \\\"https://testaccountforbatch.blob.core.windows.net/aaatestcontainer?sv=2015-07-08&se=2017-03-20T02%3A07%3A38Z&sr=c&sig=3MEEVOY/iDHkPd4qaLCHkALPRGWSoHAomyolI5%2BLQk8%3D&sp=rw&st=2017-03-19T02%3A07%3A38Z\\\
        \"}}}]}\"\r\n        }\r\n      ],\"userIdentity\":{\r\n        \"autoUser\"\
        :{\r\n          \"scope\":\"task\",\"elevationLevel\":\"nonadmin\"\r\n   \
        \     }\r\n      },\"constraints\":{\r\n        \"maxWallClockTime\":\"P10675199DT2H48M5.4775807S\"\
        ,\"retentionTime\":\"PT1H\",\"maxTaskRetryCount\":0\r\n      },\"executionInfo\"\
        :{\r\n        \"startTime\":\"2017-03-19T02:08:02.613721Z\",\"retryCount\"\
        :0,\"requeueCount\":0\r\n      },\"nodeInfo\":{\r\n        \"affinityId\"\
        :\"TVM:tvm-2434664350_1-20170318t225707z\",\"nodeUrl\":\"https://test1.westus.batch.azure.com/pools/ncj-windows-2012-r2/nodes/tvm-2434664350_1-20170318t225707z\"\
        ,\"poolId\":\"ncj-windows-2012-r2\",\"nodeId\":\"tvm-2434664350_1-20170318t225707z\"\
        \r\n      }\r\n    }\r\n  ]\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Sun, 19 Mar 2017 02:08:15 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [716eed5f-e355-4459-930e-33a979370db5]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.9.1 msrest/0.4.6
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      client-request-id: [ed34bb06-0c48-11e7-920d-54ee750f2fc7]
      ocp-date: ['Sun, 19 Mar 2017 02:08:21 GMT']
    method: GET
    uri: https://test1.westus.batch.azure.com/jobs/ncj-windows-2012-r2/tasks?api-version=2017-01-01.4.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#tasks\"\
        ,\"value\":[\r\n    {\r\n      \"id\":\"myTask\",\"url\":\"https://test1.westus.batch.azure.com/jobs/ncj-windows-2012-r2/tasks/myTask\"\
        ,\"eTag\":\"0x8D46E6CC5FB9738\",\"creationTime\":\"2017-03-19T02:08:02.3205688Z\"\
        ,\"lastModified\":\"2017-03-19T02:08:02.3205688Z\",\"state\":\"preparing\"\
        ,\"stateTransitionTime\":\"2017-03-19T02:08:02.613721Z\",\"previousState\"\
        :\"active\",\"previousStateTransitionTime\":\"2017-03-19T02:08:02.3205688Z\"\
        ,\"commandLine\":\"cmd /c \\\"cmd /c echo | set /p dummy=test & %AZ_BATCH_JOB_PREP_WORKING_DIR%\\\
        \\uploadfiles.py %errorlevel%\\\"\",\"environmentSettings\":[\r\n        {\r\
        \n          \"name\":\"AZ_BATCH_FILE_UPLOAD_CONFIG\",\"value\":\"{\\\"outputFiles\\\
        \": [{\\\"filePattern\\\": \\\"$AZ_BATCH_TASK_DIR/*.txt\\\", \\\"uploadDetails\\\
        \": {\\\"taskStatus\\\": \\\"TaskSuccess\\\"}, \\\"destination\\\": {\\\"\
        container\\\": {\\\"containerSas\\\": \\\"https://testaccountforbatch.blob.core.windows.net/aaatestcontainer?sv=2015-07-08&se=2017-03-20T02%3A07%3A38Z&sr=c&sig=3MEEVOY/iDHkPd4qaLCHkALPRGWSoHAomyolI5%2BLQk8%3D&sp=rw&st=2017-03-19T02%3A07%3A38Z\\\
        \"}}}]}\"\r\n        }\r\n      ],\"userIdentity\":{\r\n        \"autoUser\"\
        :{\r\n          \"scope\":\"task\",\"elevationLevel\":\"nonadmin\"\r\n   \
        \     }\r\n      },\"constraints\":{\r\n        \"maxWallClockTime\":\"P10675199DT2H48M5.4775807S\"\
        ,\"retentionTime\":\"PT1H\",\"maxTaskRetryCount\":0\r\n      },\"executionInfo\"\
        :{\r\n        \"startTime\":\"2017-03-19T02:08:02.613721Z\",\"retryCount\"\
        :0,\"requeueCount\":0\r\n      },\"nodeInfo\":{\r\n        \"affinityId\"\
        :\"TVM:tvm-2434664350_1-20170318t225707z\",\"nodeUrl\":\"https://test1.westus.batch.azure.com/pools/ncj-windows-2012-r2/nodes/tvm-2434664350_1-20170318t225707z\"\
        ,\"poolId\":\"ncj-windows-2012-r2\",\"nodeId\":\"tvm-2434664350_1-20170318t225707z\"\
        \r\n      }\r\n    }\r\n  ]\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Sun, 19 Mar 2017 02:08:19 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [95e93b54-83f5-48bf-bd6a-d07417a7f051]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.9.1 msrest/0.4.6
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      client-request-id: [ef202f24-0c48-11e7-9de8-54ee750f2fc7]
      ocp-date: ['Sun, 19 Mar 2017 02:08:24 GMT']
    method: GET
    uri: https://test1.westus.batch.azure.com/jobs/ncj-windows-2012-r2/tasks?api-version=2017-01-01.4.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#tasks\"\
        ,\"value\":[\r\n    {\r\n      \"id\":\"myTask\",\"url\":\"https://test1.westus.batch.azure.com/jobs/ncj-windows-2012-r2/tasks/myTask\"\
        ,\"eTag\":\"0x8D46E6CC5FB9738\",\"creationTime\":\"2017-03-19T02:08:02.3205688Z\"\
        ,\"lastModified\":\"2017-03-19T02:08:02.3205688Z\",\"state\":\"completed\"\
        ,\"stateTransitionTime\":\"2017-03-19T02:08:25.750387Z\",\"previousState\"\
        :\"running\",\"previousStateTransitionTime\":\"2017-03-19T02:08:23.59436Z\"\
        ,\"commandLine\":\"cmd /c \\\"cmd /c echo | set /p dummy=test & %AZ_BATCH_JOB_PREP_WORKING_DIR%\\\
        \\uploadfiles.py %errorlevel%\\\"\",\"environmentSettings\":[\r\n        {\r\
        \n          \"name\":\"AZ_BATCH_FILE_UPLOAD_CONFIG\",\"value\":\"{\\\"outputFiles\\\
        \": [{\\\"filePattern\\\": \\\"$AZ_BATCH_TASK_DIR/*.txt\\\", \\\"uploadDetails\\\
        \": {\\\"taskStatus\\\": \\\"TaskSuccess\\\"}, \\\"destination\\\": {\\\"\
        container\\\": {\\\"containerSas\\\": \\\"https://testaccountforbatch.blob.core.windows.net/aaatestcontainer?sv=2015-07-08&se=2017-03-20T02%3A07%3A38Z&sr=c&sig=3MEEVOY/iDHkPd4qaLCHkALPRGWSoHAomyolI5%2BLQk8%3D&sp=rw&st=2017-03-19T02%3A07%3A38Z\\\
        \"}}}]}\"\r\n        }\r\n      ],\"userIdentity\":{\r\n        \"autoUser\"\
        :{\r\n          \"scope\":\"task\",\"elevationLevel\":\"nonadmin\"\r\n   \
        \     }\r\n      },\"constraints\":{\r\n        \"maxWallClockTime\":\"P10675199DT2H48M5.4775807S\"\
        ,\"retentionTime\":\"PT1H\",\"maxTaskRetryCount\":0\r\n      },\"executionInfo\"\
        :{\r\n        \"startTime\":\"2017-03-19T02:08:02.613721Z\",\"endTime\":\"\
        2017-03-19T02:08:25.750387Z\",\"exitCode\":0,\"retryCount\":0,\"requeueCount\"\
        :0\r\n      },\"nodeInfo\":{\r\n        \"affinityId\":\"TVM:tvm-2434664350_1-20170318t225707z\"\
        ,\"nodeUrl\":\"https://test1.westus.batch.azure.com/pools/ncj-windows-2012-r2/nodes/tvm-2434664350_1-20170318t225707z\"\
        ,\"poolId\":\"ncj-windows-2012-r2\",\"nodeId\":\"tvm-2434664350_1-20170318t225707z\"\
        ,\"taskRootDirectory\":\"workitems\\\\ncj-windows-2012-r2\\\\job-1\\\\myTask\"\
        ,\"taskRootDirectoryUrl\":\"https://test1.westus.batch.azure.com/pools/ncj-windows-2012-r2/nodes/tvm-2434664350_1-20170318t225707z/files/workitems/ncj-windows-2012-r2/job-1/myTask\"\
        \r\n      }\r\n    }\r\n  ]\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Sun, 19 Mar 2017 02:08:27 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [9ba6e16e-1d85-46b0-a0e8-96d4deccae0f]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.9.1 msrest/0.4.6
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      client-request-id: [f0d2eb62-0c48-11e7-8cc9-54ee750f2fc7]
      ocp-date: ['Sun, 19 Mar 2017 02:08:27 GMT']
    method: GET
    uri: https://test1.westus.batch.azure.com/jobs/ncj-windows-2012-r2/tasks/myTask?api-version=2017-01-01.4.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#tasks/@Element\"\
        ,\"id\":\"myTask\",\"url\":\"https://test1.westus.batch.azure.com/jobs/ncj-windows-2012-r2/tasks/myTask\"\
        ,\"eTag\":\"0x8D46E6CC5FB9738\",\"creationTime\":\"2017-03-19T02:08:02.3205688Z\"\
        ,\"lastModified\":\"2017-03-19T02:08:02.3205688Z\",\"state\":\"completed\"\
        ,\"stateTransitionTime\":\"2017-03-19T02:08:25.750387Z\",\"previousState\"\
        :\"running\",\"previousStateTransitionTime\":\"2017-03-19T02:08:23.59436Z\"\
        ,\"commandLine\":\"cmd /c \\\"cmd /c echo | set /p dummy=test & %AZ_BATCH_JOB_PREP_WORKING_DIR%\\\
        \\uploadfiles.py %errorlevel%\\\"\",\"environmentSettings\":[\r\n    {\r\n\
        \      \"name\":\"AZ_BATCH_FILE_UPLOAD_CONFIG\",\"value\":\"{\\\"outputFiles\\\
        \": [{\\\"filePattern\\\": \\\"$AZ_BATCH_TASK_DIR/*.txt\\\", \\\"uploadDetails\\\
        \": {\\\"taskStatus\\\": \\\"TaskSuccess\\\"}, \\\"destination\\\": {\\\"\
        container\\\": {\\\"containerSas\\\": \\\"https://testaccountforbatch.blob.core.windows.net/aaatestcontainer?sv=2015-07-08&se=2017-03-20T02%3A07%3A38Z&sr=c&sig=3MEEVOY/iDHkPd4qaLCHkALPRGWSoHAomyolI5%2BLQk8%3D&sp=rw&st=2017-03-19T02%3A07%3A38Z\\\
        \"}}}]}\"\r\n    }\r\n  ],\"userIdentity\":{\r\n    \"autoUser\":{\r\n   \
        \   \"scope\":\"task\",\"elevationLevel\":\"nonadmin\"\r\n    }\r\n  },\"\
        constraints\":{\r\n    \"maxWallClockTime\":\"P10675199DT2H48M5.4775807S\"\
        ,\"retentionTime\":\"PT1H\",\"maxTaskRetryCount\":0\r\n  },\"executionInfo\"\
        :{\r\n    \"startTime\":\"2017-03-19T02:08:02.613721Z\",\"endTime\":\"2017-03-19T02:08:25.750387Z\"\
        ,\"exitCode\":0,\"retryCount\":0,\"requeueCount\":0\r\n  },\"nodeInfo\":{\r\
        \n    \"affinityId\":\"TVM:tvm-2434664350_1-20170318t225707z\",\"nodeUrl\"\
        :\"https://test1.westus.batch.azure.com/pools/ncj-windows-2012-r2/nodes/tvm-2434664350_1-20170318t225707z\"\
        ,\"poolId\":\"ncj-windows-2012-r2\",\"nodeId\":\"tvm-2434664350_1-20170318t225707z\"\
        ,\"taskRootDirectory\":\"workitems\\\\ncj-windows-2012-r2\\\\job-1\\\\myTask\"\
        ,\"taskRootDirectoryUrl\":\"https://test1.westus.batch.azure.com/pools/ncj-windows-2012-r2/nodes/tvm-2434664350_1-20170318t225707z/files/workitems/ncj-windows-2012-r2/job-1/myTask\"\
        \r\n  }\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Sun, 19 Mar 2017 02:08:27 GMT']
      ETag: ['0x8D46E6CC5FB9738']
      Last-Modified: ['Sun, 19 Mar 2017 02:08:02 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [20b7d550-262b-412c-8b83-b3caf3c5fd27]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Connection: [keep-alive]
      User-Agent: [Azure-Storage/0.33.0 (Python CPython 3.5.1; Windows 8.1)]
      x-ms-client-request-id: [f104afb4-0c48-11e7-aad3-54ee750f2fc7]
      x-ms-date: ['Sun, 19 Mar 2017 02:08:27 GMT']
      x-ms-version: ['2015-07-08']
    method: GET
    uri: https://testaccountforbatch.blob.core.windows.net/aaatestcontainer?restype=container&comp=list
  response:
    body: {string: "\uFEFF<?xml version=\"1.0\" encoding=\"utf-8\"?><EnumerationResults\
        \ ServiceEndpoint=\"https://testaccountforbatch.blob.core.windows.net/\"\
        \ ContainerName=\"aaatestcontainer\"><Blobs><Blob><Name>stderr.txt</Name><Properties><Last-Modified>Sun,\
        \ 19 Mar 2017 02:08:25 GMT</Last-Modified><Etag>0x8D46E6CD3976817</Etag><Content-Length>0</Content-Length><Content-Type>application/octet-stream</Content-Type><Content-Encoding\
        \ /><Content-Language /><Content-MD5 /><Cache-Control /><Content-Disposition\
        \ /><BlobType>BlockBlob</BlobType><LeaseStatus>unlocked</LeaseStatus><LeaseState>available</LeaseState></Properties></Blob><Blob><Name>stdout.txt</Name><Properties><Last-Modified>Sun,\
        \ 19 Mar 2017 02:08:25 GMT</Last-Modified><Etag>0x8D46E6CD398EF23</Etag><Content-Length>5</Content-Length><Content-Type>application/octet-stream</Content-Type><Content-Encoding\
        \ /><Content-Language /><Content-MD5>orLWaTix8CPexjlPEreCtQ==</Content-MD5><Cache-Control\
        \ /><Content-Disposition /><BlobType>BlockBlob</BlobType><LeaseStatus>unlocked</LeaseStatus><LeaseState>available</LeaseState></Properties></Blob><Blob><Name>uploadlog.txt</Name><Properties><Last-Modified>Sun,\
        \ 19 Mar 2017 02:08:25 GMT</Last-Modified><Etag>0x8D46E6CD39DAB3B</Etag><Content-Length>1112</Content-Length><Content-Type>application/octet-stream</Content-Type><Content-Encoding\
        \ /><Content-Language /><Content-MD5>abJGFPAqbT7E1SK5xiMlsw==</Content-MD5><Cache-Control\
        \ /><Content-Disposition /><BlobType>BlockBlob</BlobType><LeaseStatus>unlocked</LeaseStatus><LeaseState>available</LeaseState></Properties></Blob></Blobs><NextMarker\
        \ /></EnumerationResults>"}
    headers:
      Content-Type: [application/xml]
      Date: ['Sun, 19 Mar 2017 02:08:25 GMT']
      Server: [Windows-Azure-Blob/1.0 Microsoft-HTTPAPI/2.0]
      Transfer-Encoding: [chunked]
      x-ms-version: ['2015-07-08']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.9.1 msrest/0.4.6
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      client-request-id: [f10f373e-0c48-11e7-a851-54ee750f2fc7]
      ocp-date: ['Sun, 19 Mar 2017 02:08:27 GMT']
    method: DELETE
    uri: https://test1.westus.batch.azure.com/jobs/ncj-windows-2012-r2?api-version=2017-01-01.4.0
  response:
    body: {string: ''}
    headers:
      DataServiceVersion: ['3.0']
      Date: ['Sun, 19 Mar 2017 02:08:25 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [e30c7484-53b2-458b-b52c-5ab9e1f4de61]
    status: {code: 202, message: Accepted}
- request:
    body: null
    headers:
      Connection: [keep-alive]
      User-Agent: [Azure-Storage/0.33.0 (Python CPython 3.5.1; Windows 8.1)]
      x-ms-client-request-id: [f13cdee8-0c48-11e7-855f-54ee750f2fc7]
      x-ms-date: ['Sun, 19 Mar 2017 02:08:28 GMT']
      x-ms-version: ['2015-07-08']
    method: GET
    uri: https://testaccountforbatch.blob.core.windows.net/fgrp-output?restype=container&comp=list
  response:
    body: {string: "\uFEFF<?xml version=\"1.0\" encoding=\"utf-8\"?><EnumerationResults\
        \ ServiceEndpoint=\"https://testaccountforbatch.blob.core.windows.net/\"\
        \ ContainerName=\"fgrp-output\"><Blobs /><NextMarker /></EnumerationResults>"}
    headers:
      Content-Type: [application/xml]
      Date: ['Sun, 19 Mar 2017 02:08:25 GMT']
      Server: [Windows-Azure-Blob/1.0 Microsoft-HTTPAPI/2.0]
      Transfer-Encoding: [chunked]
      x-ms-version: ['2015-07-08']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.9.1 msrest/0.4.6
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      client-request-id: [f147648c-0c48-11e7-83d4-54ee750f2fc7]
      ocp-date: ['Sun, 19 Mar 2017 02:08:28 GMT']
    method: GET
    uri: https://test1.westus.batch.azure.com/nodeagentskus?api-version=2017-01-01.4.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#nodeagentskus\"\
        ,\"value\":[\r\n    {\r\n      \"id\":\"batch.node.centos 7\",\"verifiedImageReferences\"\
        :[\r\n        {\r\n          \"publisher\":\"OpenLogic\",\"offer\":\"CentOS\"\
        ,\"sku\":\"7.3\",\"version\":\"latest\"\r\n        },{\r\n          \"publisher\"\
        :\"OpenLogic\",\"offer\":\"CentOS\",\"sku\":\"7.2\",\"version\":\"latest\"\
        \r\n        },{\r\n          \"publisher\":\"OpenLogic\",\"offer\":\"CentOS\"\
        ,\"sku\":\"7.1\",\"version\":\"latest\"\r\n        },{\r\n          \"publisher\"\
        :\"OpenLogic\",\"offer\":\"CentOS\",\"sku\":\"7.0\",\"version\":\"latest\"\
        \r\n        },{\r\n          \"publisher\":\"OpenLogic\",\"offer\":\"CentOS-HPC\"\
        ,\"sku\":\"7.1\",\"version\":\"latest\"\r\n        },{\r\n          \"publisher\"\
        :\"Oracle\",\"offer\":\"Oracle-Linux\",\"sku\":\"7.2\",\"version\":\"latest\"\
        \r\n        },{\r\n          \"publisher\":\"Oracle\",\"offer\":\"Oracle-Linux\"\
        ,\"sku\":\"7.0\",\"version\":\"latest\"\r\n        },{\r\n          \"publisher\"\
        :\"microsoft-ads\",\"offer\":\"linux-data-science-vm\",\"sku\":\"linuxdsvm\"\
        ,\"version\":\"latest\"\r\n        }\r\n      ],\"osType\":\"linux\"\r\n \
        \   },{\r\n      \"id\":\"batch.node.debian 8\",\"verifiedImageReferences\"\
        :[\r\n        {\r\n          \"publisher\":\"Credativ\",\"offer\":\"Debian\"\
        ,\"sku\":\"8\",\"version\":\"latest\"\r\n        }\r\n      ],\"osType\":\"\
        linux\"\r\n    },{\r\n      \"id\":\"batch.node.opensuse 13.2\",\"verifiedImageReferences\"\
        :[\r\n        \r\n      ],\"osType\":\"linux\"\r\n    },{\r\n      \"id\"\
        :\"batch.node.opensuse 42.1\",\"verifiedImageReferences\":[\r\n        {\r\
        \n          \"publisher\":\"SUSE\",\"offer\":\"openSUSE-Leap\",\"sku\":\"\
        42.1\",\"version\":\"latest\"\r\n        },{\r\n          \"publisher\":\"\
        SUSE\",\"offer\":\"SLES\",\"sku\":\"12-SP2\",\"version\":\"latest\"\r\n  \
        \      },{\r\n          \"publisher\":\"SUSE\",\"offer\":\"SLES\",\"sku\"\
        :\"12-SP1\",\"version\":\"latest\"\r\n        },{\r\n          \"publisher\"\
        :\"SUSE\",\"offer\":\"SLES-HPC\",\"sku\":\"12-SP1\",\"version\":\"latest\"\
        \r\n        }\r\n      ],\"osType\":\"linux\"\r\n    },{\r\n      \"id\":\"\
        batch.node.ubuntu 14.04\",\"verifiedImageReferences\":[\r\n        {\r\n \
        \         \"publisher\":\"Canonical\",\"offer\":\"UbuntuServer\",\"sku\":\"\
        14.04.5-LTS\",\"version\":\"latest\"\r\n        }\r\n      ],\"osType\":\"\
        linux\"\r\n    },{\r\n      \"id\":\"batch.node.ubuntu 16.04\",\"verifiedImageReferences\"\
        :[\r\n        {\r\n          \"publisher\":\"Canonical\",\"offer\":\"UbuntuServer\"\
        ,\"sku\":\"16.04-LTS\",\"version\":\"latest\"\r\n        },{\r\n         \
        \ \"publisher\":\"Canonical\",\"offer\":\"UbuntuServer\",\"sku\":\"16.10\"\
        ,\"version\":\"latest\"\r\n        }\r\n      ],\"osType\":\"linux\"\r\n \
        \   },{\r\n      \"id\":\"batch.node.windows amd64\",\"verifiedImageReferences\"\
        :[\r\n        {\r\n          \"publisher\":\"MicrosoftWindowsServer\",\"offer\"\
        :\"WindowsServer\",\"sku\":\"2012-R2-Datacenter\",\"version\":\"latest\"\r\
        \n        },{\r\n          \"publisher\":\"MicrosoftWindowsServer\",\"offer\"\
        :\"WindowsServer\",\"sku\":\"2012-Datacenter\",\"version\":\"latest\"\r\n\
        \        },{\r\n          \"publisher\":\"MicrosoftWindowsServer\",\"offer\"\
        :\"WindowsServer\",\"sku\":\"2008-R2-SP1\",\"version\":\"latest\"\r\n    \
        \    },{\r\n          \"publisher\":\"MicrosoftWindowsServer\",\"offer\":\"\
        WindowsServer\",\"sku\":\"2016-Datacenter\",\"version\":\"latest\"\r\n   \
        \     },{\r\n          \"publisher\":\"MicrosoftWindowsServer\",\"offer\"\
        :\"WindowsServer\",\"sku\":\"2016-Datacenter-with-Containers\",\"version\"\
        :\"latest\"\r\n        },{\r\n          \"publisher\":\"microsoft-ads\",\"\
        offer\":\"standard-data-science-vm\",\"sku\":\"standard-data-science-vm\"\
        ,\"version\":\"latest\"\r\n        }\r\n      ],\"osType\":\"windows\"\r\n\
        \    }\r\n  ]\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Sun, 19 Mar 2017 02:08:27 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [47ae9cfd-7b9e-4ab0-803b-ca9ef2793069]
    status: {code: 200, message: OK}
- request:
    body: '{"virtualMachineConfiguration": {"imageReference": {"offer": "UbuntuServer",
      "publisher": "Canonical", "sku": "14.04.5-LTS"}, "nodeAgentSKUId": "batch.node.ubuntu
      14.04"}, "id": "ncj-ubuntu1404", "vmSize": "STANDARD_D1_V2", "targetDedicated":
      1}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['245']
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.9.1 msrest/0.4.6
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      client-request-id: [f17747d4-0c48-11e7-a37f-54ee750f2fc7]
      ocp-date: ['Sun, 19 Mar 2017 02:08:28 GMT']
    method: POST
    uri: https://test1.westus.batch.azure.com/pools?api-version=2017-01-01.4.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#Microsoft.Azure.Batch.Protocol.Entities.Container.errors/@Element\"\
        ,\"code\":\"PoolExists\",\"message\":{\r\n    \"lang\":\"en-US\",\"value\"\
        :\"The specified pool already exists.\\nRequestId:03d7607b-dc7f-41cc-af27-bad827bde4c9\\\
        nTime:2017-03-19T02:08:26.8212259Z\"\r\n  }\r\n}"}
    headers:
      Content-Length: ['337']
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Sun, 19 Mar 2017 02:08:26 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      X-Content-Type-Options: [nosniff]
      request-id: [03d7607b-dc7f-41cc-af27-bad827bde4c9]
    status: {code: 409, message: The specified pool already exists.}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.9.1 msrest/0.4.6
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      client-request-id: [f215046c-0c48-11e7-aafa-54ee750f2fc7]
      ocp-date: ['Sun, 19 Mar 2017 02:08:29 GMT']
    method: GET
    uri: https://test1.westus.batch.azure.com/pools/ncj-ubuntu1404?api-version=2017-01-01.4.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#pools/@Element\"\
        ,\"id\":\"ncj-ubuntu1404\",\"url\":\"https://test1.westus.batch.azure.com/pools/ncj-ubuntu1404\"\
        ,\"eTag\":\"0x8D46E510F2C9ED4\",\"lastModified\":\"2017-03-18T22:49:39.207138Z\"\
        ,\"creationTime\":\"2017-03-18T22:49:39.207138Z\",\"state\":\"active\",\"\
        stateTransitionTime\":\"2017-03-18T22:49:39.207138Z\",\"allocationState\"\
        :\"steady\",\"allocationStateTransitionTime\":\"2017-03-18T22:51:24.4786687Z\"\
        ,\"vmSize\":\"standard_d1_v2\",\"resizeTimeout\":\"PT15M\",\"currentDedicated\"\
        :1,\"targetDedicated\":1,\"enableAutoScale\":false,\"enableInterNodeCommunication\"\
        :false,\"maxTasksPerNode\":1,\"taskSchedulingPolicy\":{\r\n    \"nodeFillType\"\
        :\"Spread\"\r\n  },\"virtualMachineConfiguration\":{\r\n    \"imageReference\"\
        :{\r\n      \"publisher\":\"Canonical\",\"offer\":\"UbuntuServer\",\"sku\"\
        :\"14.04.5-LTS\",\"version\":\"latest\"\r\n    },\"nodeAgentSKUId\":\"batch.node.ubuntu\
        \ 14.04\"\r\n  }\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Sun, 19 Mar 2017 02:08:27 GMT']
      ETag: ['0x8D46E510F2C9ED4']
      Last-Modified: ['Sat, 18 Mar 2017 22:49:39 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [4414eb7a-a674-4d3d-ad95-cde0398af031]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.9.1 msrest/0.4.6
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      client-request-id: [f24a0222-0c48-11e7-beda-54ee750f2fc7]
      ocp-date: ['Sun, 19 Mar 2017 02:08:30 GMT']
    method: GET
    uri: https://test1.westus.batch.azure.com/pools/ncj-ubuntu1404/nodes?api-version=2017-01-01.4.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#nodes\"\
        ,\"value\":[\r\n    {\r\n      \"id\":\"tvm-3105992504_1-20170318t225123z\"\
        ,\"url\":\"https://test1.westus.batch.azure.com/pools/ncj-ubuntu1404/nodes/tvm-3105992504_1-20170318t225123z\"\
        ,\"state\":\"idle\",\"schedulingState\":\"enabled\",\"stateTransitionTime\"\
        :\"2017-03-19T02:07:49.913336Z\",\"lastBootTime\":\"2017-03-18T22:55:28.183851Z\"\
        ,\"allocationTime\":\"2017-03-18T22:51:23.8058265Z\",\"ipAddress\":\"10.0.0.4\"\
        ,\"affinityId\":\"TVM:tvm-3105992504_1-20170318t225123z\",\"vmSize\":\"standard_d1_v2\"\
        ,\"totalTasksRun\":10,\"totalTasksSucceeded\":10,\"runningTasksCount\":0,\"\
        recentTasks\":[\r\n        {\r\n          \"taskUrl\":\"https://test1.westus.batch.azure.com/jobs/ncj-ubuntu1404/tasks/mytask\"\
        ,\"jobId\":\"ncj-ubuntu1404\",\"taskId\":\"mytask\",\"taskState\":\"completed\"\
        ,\"executionInfo\":{\r\n            \"startTime\":\"2017-03-19T02:07:42.683243Z\"\
        ,\"endTime\":\"2017-03-19T02:07:49.800206Z\",\"exitCode\":0,\"retryCount\"\
        :0,\"requeueCount\":0\r\n          }\r\n        }\r\n      ]\r\n    }\r\n\
        \  ]\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Sun, 19 Mar 2017 02:08:26 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [5660d64d-40c8-402d-b302-2702de1600fd]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: ['python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.9.1 msrest/0.4.6
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python batch-extensions:v1.0.0RC']
      accept-language: [en-US]
      client-request-id: [f2a51406-0c48-11e7-8262-54ee750f2fc7]
      ocp-date: ['Sun, 19 Mar 2017 02:08:30 GMT']
    method: GET
    uri: https://test1.westus.batch.azure.com/pools/ncj-ubuntu1404?api-version=2017-01-01.4.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#pools/@Element\"\
        ,\"id\":\"ncj-ubuntu1404\",\"url\":\"https://test1.westus.batch.azure.com/pools/ncj-ubuntu1404\"\
        ,\"eTag\":\"0x8D46E510F2C9ED4\",\"lastModified\":\"2017-03-18T22:49:39.207138Z\"\
        ,\"creationTime\":\"2017-03-18T22:49:39.207138Z\",\"state\":\"active\",\"\
        stateTransitionTime\":\"2017-03-18T22:49:39.207138Z\",\"allocationState\"\
        :\"steady\",\"allocationStateTransitionTime\":\"2017-03-18T22:51:24.4786687Z\"\
        ,\"vmSize\":\"standard_d1_v2\",\"resizeTimeout\":\"PT15M\",\"currentDedicated\"\
        :1,\"targetDedicated\":1,\"enableAutoScale\":false,\"enableInterNodeCommunication\"\
        :false,\"maxTasksPerNode\":1,\"taskSchedulingPolicy\":{\r\n    \"nodeFillType\"\
        :\"Spread\"\r\n  },\"virtualMachineConfiguration\":{\r\n    \"imageReference\"\
        :{\r\n      \"publisher\":\"Canonical\",\"offer\":\"UbuntuServer\",\"sku\"\
        :\"14.04.5-LTS\",\"version\":\"latest\"\r\n    },\"nodeAgentSKUId\":\"batch.node.ubuntu\
        \ 14.04\"\r\n  }\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Sun, 19 Mar 2017 02:08:28 GMT']
      ETag: ['0x8D46E510F2C9ED4']
      Last-Modified: ['Sat, 18 Mar 2017 22:49:39 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [9191d8a2-aff3-4d0a-85c2-fe85cb54ed07]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.9.1 msrest/0.4.6
          msrest_azure/0.4.7 batchmanagementclient/3.0.0 Azure-SDK-For-Python AZURECLI/TEST/2.0.1]
      accept-language: [en-US]
      x-ms-client-request-id: [f2e89b6c-0c48-11e7-b708-54ee750f2fc7]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Batch/batchAccounts?api-version=2017-01-01
  response:
    body: {string: '{"value":[{"name":"test1","location":"westus","tags":{"Value":"tagValue","test":"test1","Name":"tagName"},"properties":{"accountEndpoint":"test1.westus.batch.azure.com","provisioningState":"Succeeded","coreQuota":800,"poolQuota":20,"activeJobAndJobScheduleQuota":20,"autoStorage":{"storageAccountId":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/test1_resource_group/providers/Microsoft.Storage/storageAccounts/testaccountforbatch","lastKeySync":"2016-08-29T18:45:16.1439173Z"},"poolAllocationMode":"batchservice"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/test1_resource_group/providers/Microsoft.Batch/batchAccounts/test1","type":"Microsoft.Batch/batchAccounts"}]}'}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Sun, 19 Mar 2017 02:08:29 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Vary: [Accept-Encoding]
      content-length: ['1838']
      x-ms-original-request-ids: ['', '', '']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.9.1 msrest/0.4.6
          msrest_azure/0.4.7 storagemanagementclient/0.31.0 Azure-SDK-For-Python AZURECLI/TEST/2.0.1]
      accept-language: [en-US]
      x-ms-client-request-id: [f38d2af0-0c48-11e7-980b-54ee750f2fc7]
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/test1_resource_group/providers/Microsoft.Storage/storageAccounts/testaccountforbatch/listKeys?api-version=2016-12-01
  response:
    body: {string: '{"keys":[{"keyName":"key1","permissions":"Full","value":"xxx=="},{"keyName":"key2","permissions":"Full","value":"xxx=="}]}

        '}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json]
      Date: ['Sun, 19 Mar 2017 02:08:31 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-Azure-Storage-Resource-Provider/1.0, Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      Vary: [Accept-Encoding]
      content-length: ['289']
      x-ms-ratelimit-remaining-subscription-writes: ['1199']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Connection: [keep-alive]
      Content-Length: ['0']
      User-Agent: [Azure-Storage/0.33.0 (Python CPython 3.5.1; Windows 8.1)]
      x-ms-client-request-id: [f4259176-0c48-11e7-ae84-54ee750f2fc7]
      x-ms-date: ['Sun, 19 Mar 2017 02:08:33 GMT']
      x-ms-version: ['2015-07-08']
    method: PUT
    uri: https://testaccountforbatch.blob.core.windows.net/fgrp-output?restype=container
  response:
    body: {string: "\uFEFF<?xml version=\"1.0\" encoding=\"utf-8\"?><Error><Code>ContainerAlreadyExists</Code><Message>The\
        \ specified container already exists.\nRequestId:8fb4fdf4-0001-00e1-6355-a05d91000000\n\
        Time:2017-03-19T02:08:32.6138597Z</Message></Error>"}
    headers:
      Content-Length: ['230']
      Content-Type: [application/xml]
      Date: ['Sun, 19 Mar 2017 02:08:32 GMT']
      Server: [Windows-Azure-Blob/1.0 Microsoft-HTTPAPI/2.0]
      x-ms-version: ['2015-07-08']
    status: {code: 409, message: The specified container already exists.}
- request:
    body: '{"id": "ncj-ubuntu1404-1", "poolInfo": {"poolId": "ncj-ubuntu1404"}, "jobPreparationTask":
      {"commandLine": "/bin/bash -c ''setup_uploader.py > setuplog.txt 2>&1''", "userIdentity":
      {"autoUser": {"elevationLevel": "admin"}}, "waitForSuccess": true, "resourceFiles":
      [{"blobSource": "https://raw.githubusercontent.com/annatisch/azure-batch-cli-extensions/master/azure/cli/command_modules/batch_extensions/fileegress/util.py",
      "filePath": "util.py"}, {"blobSource": "https://raw.githubusercontent.com/annatisch/azure-batch-cli-extensions/master/azure/cli/command_modules/batch_extensions/fileegress/uploader.py",
      "filePath": "uploader.py"}, {"blobSource": "https://raw.githubusercontent.com/annatisch/azure-batch-cli-extensions/master/azure/cli/command_modules/batch_extensions/fileegress/uploadfiles.py",
      "filePath": "uploadfiles.py"}, {"blobSource": "https://raw.githubusercontent.com/annatisch/azure-batch-cli-extensions/master/azure/cli/command_modules/batch_extensions/fileegress/batchfileuploader.py",
      "filePath": "batchfileuploader.py"}, {"blobSource": "https://raw.githubusercontent.com/annatisch/azure-batch-cli-extensions/master/azure/cli/command_modules/batch_extensions/fileegress/setup_uploader.py",
      "filePath": "setup_uploader.py"}, {"blobSource": "https://raw.githubusercontent.com/annatisch/azure-batch-cli-extensions/master/azure/cli/command_modules/batch_extensions/fileegress/configuration.py",
      "filePath": "configuration.py"}, {"blobSource": "https://raw.githubusercontent.com/annatisch/azure-batch-cli-extensions/master/azure/cli/command_modules/batch_extensions/fileegress/requirements.txt",
      "filePath": "requirements.txt"}]}}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['1643']
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: ['python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.9.1 msrest/0.4.6
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python batch-extensions:v1.0.0RC']
      accept-language: [en-US]
      client-request-id: [f455acf6-0c48-11e7-9af9-54ee750f2fc7]
      ocp-date: ['Sun, 19 Mar 2017 02:08:33 GMT']
      return-client-request-id: ['false']
    method: POST
    uri: https://test1.westus.batch.azure.com/jobs?api-version=2017-01-01.4.0&timeout=30
  response:
    body: {string: ''}
    headers:
      DataServiceId: ['https://test1.westus.batch.azure.com/jobs/job-1']
      DataServiceVersion: ['3.0']
      Date: ['Sun, 19 Mar 2017 02:08:32 GMT']
      ETag: ['0x8D46E6CD7706AF2']
      Last-Modified: ['Sun, 19 Mar 2017 02:08:31 GMT']
      Location: ['https://test1.westus.batch.azure.com/jobs/job-1']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [c59eeb8e-1b11-45a5-857a-77c6cb304c05]
    status: {code: 201, message: Created}
- request:
    body: '{"value": [{"commandLine": "/bin/bash -c ''/bin/bash -c \"echo test\";err=$?;$AZ_BATCH_JOB_PREP_WORKING_DIR/uploadfiles.py
      $err;exit $err''", "environmentSettings": [{"name": "AZ_BATCH_FILE_UPLOAD_CONFIG",
      "value": "{\"outputFiles\": [{\"filePattern\": \"$AZ_BATCH_TASK_DIR/*.txt\",
      \"uploadDetails\": {\"taskStatus\": \"TaskSuccess\"}, \"destination\": {\"container\":
      {\"containerSas\": \"https://testaccountforbatch.blob.core.windows.net/fgrp-output?sv=2015-07-08&se=2017-03-26T02%3A08%3A33Z&sr=c&sig=BFPhH2u/I7Mha/QrrGGYiQDlUgiwuO4EeVjmBDDQ8i8%3D&sp=w&st=2017-03-19T02%3A08%3A33Z\"}}}]}"}],
      "id": "myTask", "constraints": {"retentionTime": "PT1H"}}]}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['653']
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: ['python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.9.1 msrest/0.4.6
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python batch-extensions:v1.0.0RC']
      accept-language: [en-US]
      client-request-id: [f4a24762-0c48-11e7-9b4e-54ee750f2fc7]
      ocp-date: ['Sun, 19 Mar 2017 02:08:33 GMT']
    method: POST
    uri: https://test1.westus.batch.azure.com/jobs/ncj-ubuntu1404-1/addtaskcollection?api-version=2017-01-01.4.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#taskaddresult\"\
        ,\"value\":[\r\n    {\r\n      \"status\":\"Success\",\"taskId\":\"myTask\"\
        ,\"eTag\":\"0x8D46E6CD7A92CCC\",\"lastModified\":\"2017-03-19T02:08:31.979438Z\"\
        ,\"location\":\"https://test1.westus.batch.azure.com/jobs/ncj-ubuntu1404-1/tasks/myTask\"\
        \r\n    }\r\n  ]\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Sun, 19 Mar 2017 02:08:31 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [7535074e-e99f-4af9-8f59-5b7727b59b55]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.9.1 msrest/0.4.6
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      client-request-id: [f4c279fa-0c48-11e7-9983-54ee750f2fc7]
      ocp-date: ['Sun, 19 Mar 2017 02:08:34 GMT']
    method: GET
    uri: https://test1.westus.batch.azure.com/jobs/ncj-ubuntu1404-1?api-version=2017-01-01.4.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#jobs/@Element\"\
        ,\"id\":\"ncj-ubuntu1404-1\",\"url\":\"https://test1.westus.batch.azure.com/jobs/ncj-ubuntu1404-1\"\
        ,\"eTag\":\"0x8D46E6CD7706AF2\",\"lastModified\":\"2017-03-19T02:08:31.6074738Z\"\
        ,\"creationTime\":\"2017-03-19T02:08:31.5714644Z\",\"state\":\"active\",\"\
        stateTransitionTime\":\"2017-03-19T02:08:31.6074738Z\",\"priority\":0,\"usesTaskDependencies\"\
        :false,\"constraints\":{\r\n    \"maxWallClockTime\":\"P10675199DT2H48M5.4775807S\"\
        ,\"maxTaskRetryCount\":0\r\n  },\"jobPreparationTask\":{\r\n    \"id\":\"\
        jobpreparation\",\"commandLine\":\"/bin/bash -c 'setup_uploader.py > setuplog.txt\
        \ 2>&1'\",\"resourceFiles\":[\r\n      {\r\n        \"blobSource\":\"https://raw.githubusercontent.com/annatisch/azure-batch-cli-extensions/master/azure/cli/command_modules/batch_extensions/fileegress/util.py\"\
        ,\"filePath\":\"util.py\"\r\n      },{\r\n        \"blobSource\":\"https://raw.githubusercontent.com/annatisch/azure-batch-cli-extensions/master/azure/cli/command_modules/batch_extensions/fileegress/uploader.py\"\
        ,\"filePath\":\"uploader.py\"\r\n      },{\r\n        \"blobSource\":\"https://raw.githubusercontent.com/annatisch/azure-batch-cli-extensions/master/azure/cli/command_modules/batch_extensions/fileegress/uploadfiles.py\"\
        ,\"filePath\":\"uploadfiles.py\"\r\n      },{\r\n        \"blobSource\":\"\
        https://raw.githubusercontent.com/annatisch/azure-batch-cli-extensions/master/azure/cli/command_modules/batch_extensions/fileegress/batchfileuploader.py\"\
        ,\"filePath\":\"batchfileuploader.py\"\r\n      },{\r\n        \"blobSource\"\
        :\"https://raw.githubusercontent.com/annatisch/azure-batch-cli-extensions/master/azure/cli/command_modules/batch_extensions/fileegress/setup_uploader.py\"\
        ,\"filePath\":\"setup_uploader.py\"\r\n      },{\r\n        \"blobSource\"\
        :\"https://raw.githubusercontent.com/annatisch/azure-batch-cli-extensions/master/azure/cli/command_modules/batch_extensions/fileegress/configuration.py\"\
        ,\"filePath\":\"configuration.py\"\r\n      },{\r\n        \"blobSource\"\
        :\"https://raw.githubusercontent.com/annatisch/azure-batch-cli-extensions/master/azure/cli/command_modules/batch_extensions/fileegress/requirements.txt\"\
        ,\"filePath\":\"requirements.txt\"\r\n      }\r\n    ],\"constraints\":{\r\
        \n      \"maxWallClockTime\":\"P10675199DT2H48M5.4775807S\",\"retentionTime\"\
        :\"P10675199DT2H48M5.4775807S\",\"maxTaskRetryCount\":0\r\n    },\"userIdentity\"\
        :{\r\n      \"autoUser\":{\r\n        \"scope\":\"task\",\"elevationLevel\"\
        :\"admin\"\r\n      }\r\n    },\"waitForSuccess\":true,\"rerunOnNodeRebootAfterSuccess\"\
        :true\r\n  },\"poolInfo\":{\r\n    \"poolId\":\"ncj-ubuntu1404\"\r\n  },\"\
        executionInfo\":{\r\n    \"startTime\":\"2017-03-19T02:08:31.6074738Z\",\"\
        poolId\":\"ncj-ubuntu1404\"\r\n  },\"onAllTasksComplete\":\"noaction\",\"\
        onTaskFailure\":\"noaction\"\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Sun, 19 Mar 2017 02:08:30 GMT']
      ETag: ['0x8D46E6CD7706AF2']
      Last-Modified: ['Sun, 19 Mar 2017 02:08:31 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [8d0e8e78-15dd-4491-8299-61e6c91ae168]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.9.1 msrest/0.4.6
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      client-request-id: [f5aef074-0c48-11e7-bdbb-54ee750f2fc7]
      ocp-date: ['Sun, 19 Mar 2017 02:08:35 GMT']
    method: GET
    uri: https://test1.westus.batch.azure.com/jobs/ncj-ubuntu1404-1/tasks?api-version=2017-01-01.4.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#tasks\"\
        ,\"value\":[\r\n    {\r\n      \"id\":\"myTask\",\"url\":\"https://test1.westus.batch.azure.com/jobs/ncj-ubuntu1404-1/tasks/myTask\"\
        ,\"eTag\":\"0x8D46E6CD7A92CCC\",\"creationTime\":\"2017-03-19T02:08:31.979438Z\"\
        ,\"lastModified\":\"2017-03-19T02:08:31.979438Z\",\"state\":\"preparing\"\
        ,\"stateTransitionTime\":\"2017-03-19T02:08:33.177646Z\",\"previousState\"\
        :\"active\",\"previousStateTransitionTime\":\"2017-03-19T02:08:31.979438Z\"\
        ,\"commandLine\":\"/bin/bash -c '/bin/bash -c \\\"echo test\\\";err=$?;$AZ_BATCH_JOB_PREP_WORKING_DIR/uploadfiles.py\
        \ $err;exit $err'\",\"environmentSettings\":[\r\n        {\r\n          \"\
        name\":\"AZ_BATCH_FILE_UPLOAD_CONFIG\",\"value\":\"{\\\"outputFiles\\\": [{\\\
        \"filePattern\\\": \\\"$AZ_BATCH_TASK_DIR/*.txt\\\", \\\"uploadDetails\\\"\
        : {\\\"taskStatus\\\": \\\"TaskSuccess\\\"}, \\\"destination\\\": {\\\"container\\\
        \": {\\\"containerSas\\\": \\\"https://testaccountforbatch.blob.core.windows.net/fgrp-output?sv=2015-07-08&se=2017-03-26T02%3A08%3A33Z&sr=c&sig=BFPhH2u/I7Mha/QrrGGYiQDlUgiwuO4EeVjmBDDQ8i8%3D&sp=w&st=2017-03-19T02%3A08%3A33Z\\\
        \"}}}]}\"\r\n        }\r\n      ],\"userIdentity\":{\r\n        \"autoUser\"\
        :{\r\n          \"scope\":\"task\",\"elevationLevel\":\"nonadmin\"\r\n   \
        \     }\r\n      },\"constraints\":{\r\n        \"maxWallClockTime\":\"P10675199DT2H48M5.4775807S\"\
        ,\"retentionTime\":\"PT1H\",\"maxTaskRetryCount\":0\r\n      },\"executionInfo\"\
        :{\r\n        \"startTime\":\"2017-03-19T02:08:33.177758Z\",\"retryCount\"\
        :0,\"requeueCount\":0\r\n      },\"nodeInfo\":{\r\n        \"affinityId\"\
        :\"TVM:tvm-3105992504_1-20170318t225123z\",\"nodeUrl\":\"https://test1.westus.batch.azure.com/pools/ncj-ubuntu1404/nodes/tvm-3105992504_1-20170318t225123z\"\
        ,\"poolId\":\"ncj-ubuntu1404\",\"nodeId\":\"tvm-3105992504_1-20170318t225123z\"\
        \r\n      }\r\n    }\r\n  ]\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Sun, 19 Mar 2017 02:08:33 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [ed11dbc6-92d1-43b7-9295-aff243a12ad9]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.9.1 msrest/0.4.6
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      client-request-id: [f7bf830c-0c48-11e7-ae8f-54ee750f2fc7]
      ocp-date: ['Sun, 19 Mar 2017 02:08:39 GMT']
    method: GET
    uri: https://test1.westus.batch.azure.com/jobs/ncj-ubuntu1404-1/tasks?api-version=2017-01-01.4.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#tasks\"\
        ,\"value\":[\r\n    {\r\n      \"id\":\"myTask\",\"url\":\"https://test1.westus.batch.azure.com/jobs/ncj-ubuntu1404-1/tasks/myTask\"\
        ,\"eTag\":\"0x8D46E6CD7A92CCC\",\"creationTime\":\"2017-03-19T02:08:31.979438Z\"\
        ,\"lastModified\":\"2017-03-19T02:08:31.979438Z\",\"state\":\"completed\"\
        ,\"stateTransitionTime\":\"2017-03-19T02:08:39.972036Z\",\"previousState\"\
        :\"running\",\"previousStateTransitionTime\":\"2017-03-19T02:08:39.46282Z\"\
        ,\"commandLine\":\"/bin/bash -c '/bin/bash -c \\\"echo test\\\";err=$?;$AZ_BATCH_JOB_PREP_WORKING_DIR/uploadfiles.py\
        \ $err;exit $err'\",\"environmentSettings\":[\r\n        {\r\n          \"\
        name\":\"AZ_BATCH_FILE_UPLOAD_CONFIG\",\"value\":\"{\\\"outputFiles\\\": [{\\\
        \"filePattern\\\": \\\"$AZ_BATCH_TASK_DIR/*.txt\\\", \\\"uploadDetails\\\"\
        : {\\\"taskStatus\\\": \\\"TaskSuccess\\\"}, \\\"destination\\\": {\\\"container\\\
        \": {\\\"containerSas\\\": \\\"https://testaccountforbatch.blob.core.windows.net/fgrp-output?sv=2015-07-08&se=2017-03-26T02%3A08%3A33Z&sr=c&sig=BFPhH2u/I7Mha/QrrGGYiQDlUgiwuO4EeVjmBDDQ8i8%3D&sp=w&st=2017-03-19T02%3A08%3A33Z\\\
        \"}}}]}\"\r\n        }\r\n      ],\"userIdentity\":{\r\n        \"autoUser\"\
        :{\r\n          \"scope\":\"task\",\"elevationLevel\":\"nonadmin\"\r\n   \
        \     }\r\n      },\"constraints\":{\r\n        \"maxWallClockTime\":\"P10675199DT2H48M5.4775807S\"\
        ,\"retentionTime\":\"PT1H\",\"maxTaskRetryCount\":0\r\n      },\"executionInfo\"\
        :{\r\n        \"startTime\":\"2017-03-19T02:08:33.177758Z\",\"endTime\":\"\
        2017-03-19T02:08:39.972036Z\",\"exitCode\":0,\"retryCount\":0,\"requeueCount\"\
        :0\r\n      },\"nodeInfo\":{\r\n        \"affinityId\":\"TVM:tvm-3105992504_1-20170318t225123z\"\
        ,\"nodeUrl\":\"https://test1.westus.batch.azure.com/pools/ncj-ubuntu1404/nodes/tvm-3105992504_1-20170318t225123z\"\
        ,\"poolId\":\"ncj-ubuntu1404\",\"nodeId\":\"tvm-3105992504_1-20170318t225123z\"\
        ,\"taskRootDirectory\":\"workitems/ncj-ubuntu1404-1/job-1/myTask\",\"taskRootDirectoryUrl\"\
        :\"https://test1.westus.batch.azure.com/pools/ncj-ubuntu1404/nodes/tvm-3105992504_1-20170318t225123z/files/workitems/ncj-ubuntu1404-1/job-1/myTask\"\
        \r\n      }\r\n    }\r\n  ]\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Sun, 19 Mar 2017 02:08:41 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [e64a2d42-3b03-47fe-a7f0-bba975978a80]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.9.1 msrest/0.4.6
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      client-request-id: [f9d6353a-0c48-11e7-8c39-54ee750f2fc7]
      ocp-date: ['Sun, 19 Mar 2017 02:08:42 GMT']
    method: GET
    uri: https://test1.westus.batch.azure.com/jobs/ncj-ubuntu1404-1/tasks/myTask?api-version=2017-01-01.4.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#tasks/@Element\"\
        ,\"id\":\"myTask\",\"url\":\"https://test1.westus.batch.azure.com/jobs/ncj-ubuntu1404-1/tasks/myTask\"\
        ,\"eTag\":\"0x8D46E6CD7A92CCC\",\"creationTime\":\"2017-03-19T02:08:31.979438Z\"\
        ,\"lastModified\":\"2017-03-19T02:08:31.979438Z\",\"state\":\"completed\"\
        ,\"stateTransitionTime\":\"2017-03-19T02:08:39.972036Z\",\"previousState\"\
        :\"running\",\"previousStateTransitionTime\":\"2017-03-19T02:08:39.46282Z\"\
        ,\"commandLine\":\"/bin/bash -c '/bin/bash -c \\\"echo test\\\";err=$?;$AZ_BATCH_JOB_PREP_WORKING_DIR/uploadfiles.py\
        \ $err;exit $err'\",\"environmentSettings\":[\r\n    {\r\n      \"name\":\"\
        AZ_BATCH_FILE_UPLOAD_CONFIG\",\"value\":\"{\\\"outputFiles\\\": [{\\\"filePattern\\\
        \": \\\"$AZ_BATCH_TASK_DIR/*.txt\\\", \\\"uploadDetails\\\": {\\\"taskStatus\\\
        \": \\\"TaskSuccess\\\"}, \\\"destination\\\": {\\\"container\\\": {\\\"containerSas\\\
        \": \\\"https://testaccountforbatch.blob.core.windows.net/fgrp-output?sv=2015-07-08&se=2017-03-26T02%3A08%3A33Z&sr=c&sig=BFPhH2u/I7Mha/QrrGGYiQDlUgiwuO4EeVjmBDDQ8i8%3D&sp=w&st=2017-03-19T02%3A08%3A33Z\\\
        \"}}}]}\"\r\n    }\r\n  ],\"userIdentity\":{\r\n    \"autoUser\":{\r\n   \
        \   \"scope\":\"task\",\"elevationLevel\":\"nonadmin\"\r\n    }\r\n  },\"\
        constraints\":{\r\n    \"maxWallClockTime\":\"P10675199DT2H48M5.4775807S\"\
        ,\"retentionTime\":\"PT1H\",\"maxTaskRetryCount\":0\r\n  },\"executionInfo\"\
        :{\r\n    \"startTime\":\"2017-03-19T02:08:33.177758Z\",\"endTime\":\"2017-03-19T02:08:39.972036Z\"\
        ,\"exitCode\":0,\"retryCount\":0,\"requeueCount\":0\r\n  },\"nodeInfo\":{\r\
        \n    \"affinityId\":\"TVM:tvm-3105992504_1-20170318t225123z\",\"nodeUrl\"\
        :\"https://test1.westus.batch.azure.com/pools/ncj-ubuntu1404/nodes/tvm-3105992504_1-20170318t225123z\"\
        ,\"poolId\":\"ncj-ubuntu1404\",\"nodeId\":\"tvm-3105992504_1-20170318t225123z\"\
        ,\"taskRootDirectory\":\"workitems/ncj-ubuntu1404-1/job-1/myTask\",\"taskRootDirectoryUrl\"\
        :\"https://test1.westus.batch.azure.com/pools/ncj-ubuntu1404/nodes/tvm-3105992504_1-20170318t225123z/files/workitems/ncj-ubuntu1404-1/job-1/myTask\"\
        \r\n  }\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Sun, 19 Mar 2017 02:08:40 GMT']
      ETag: ['0x8D46E6CD7A92CCC']
      Last-Modified: ['Sun, 19 Mar 2017 02:08:31 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [f3d24273-9ab1-4ea9-87e2-2948854d49e9]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Connection: [keep-alive]
      User-Agent: [Azure-Storage/0.33.0 (Python CPython 3.5.1; Windows 8.1)]
      x-ms-client-request-id: [fa0a8b12-0c48-11e7-996a-54ee750f2fc7]
      x-ms-date: ['Sun, 19 Mar 2017 02:08:43 GMT']
      x-ms-version: ['2015-07-08']
    method: GET
    uri: https://testaccountforbatch.blob.core.windows.net/fgrp-output?restype=container&comp=list
  response:
    body: {string: "\uFEFF<?xml version=\"1.0\" encoding=\"utf-8\"?><EnumerationResults\
        \ ServiceEndpoint=\"https://testaccountforbatch.blob.core.windows.net/\"\
        \ ContainerName=\"fgrp-output\"><Blobs><Blob><Name>stderr.txt</Name><Properties><Last-Modified>Sun,\
        \ 19 Mar 2017 02:08:39 GMT</Last-Modified><Etag>0x8D46E6CDC682E10</Etag><Content-Length>0</Content-Length><Content-Type>application/octet-stream</Content-Type><Content-Encoding\
        \ /><Content-Language /><Content-MD5 /><Cache-Control /><Content-Disposition\
        \ /><BlobType>BlockBlob</BlobType><LeaseStatus>unlocked</LeaseStatus><LeaseState>available</LeaseState></Properties></Blob><Blob><Name>stdout.txt</Name><Properties><Last-Modified>Sun,\
        \ 19 Mar 2017 02:08:39 GMT</Last-Modified><Etag>0x8D46E6CDC654725</Etag><Content-Length>5</Content-Length><Content-Type>application/octet-stream</Content-Type><Content-Encoding\
        \ /><Content-Language /><Content-MD5>2Oj8otwPiW/Xy0ywAxuiSQ==</Content-MD5><Cache-Control\
        \ /><Content-Disposition /><BlobType>BlockBlob</BlobType><LeaseStatus>unlocked</LeaseStatus><LeaseState>available</LeaseState></Properties></Blob><Blob><Name>uploadlog.txt</Name><Properties><Last-Modified>Sun,\
        \ 19 Mar 2017 02:08:39 GMT</Last-Modified><Etag>0x8D46E6CDC6A9FA7</Etag><Content-Length>2187</Content-Length><Content-Type>application/octet-stream</Content-Type><Content-Encoding\
        \ /><Content-Language /><Content-MD5>HEouYVi0al+hUpsPGZr7pg==</Content-MD5><Cache-Control\
        \ /><Content-Disposition /><BlobType>BlockBlob</BlobType><LeaseStatus>unlocked</LeaseStatus><LeaseState>available</LeaseState></Properties></Blob></Blobs><NextMarker\
        \ /></EnumerationResults>"}
    headers:
      Content-Type: [application/xml]
      Date: ['Sun, 19 Mar 2017 02:08:40 GMT']
      Server: [Windows-Azure-Blob/1.0 Microsoft-HTTPAPI/2.0]
      Transfer-Encoding: [chunked]
      x-ms-version: ['2015-07-08']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.9.1 msrest/0.4.6
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      client-request-id: [fa175ca8-0c48-11e7-b4cf-54ee750f2fc7]
      ocp-date: ['Sun, 19 Mar 2017 02:08:43 GMT']
    method: DELETE
    uri: https://test1.westus.batch.azure.com/jobs/ncj-ubuntu1404-1?api-version=2017-01-01.4.0
  response:
    body: {string: ''}
    headers:
      DataServiceVersion: ['3.0']
      Date: ['Sun, 19 Mar 2017 02:08:41 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [e4c2f99a-132e-49f6-9b8d-f4cf580b6d3a]
    status: {code: 202, message: Accepted}
- request:
    body: null
    headers:
      Connection: [keep-alive]
      User-Agent: [Azure-Storage/0.33.0 (Python CPython 3.5.1; Windows 8.1)]
      x-ms-client-request-id: [fac328ac-0c48-11e7-aa0e-54ee750f2fc7]
      x-ms-date: ['Sun, 19 Mar 2017 02:08:44 GMT']
      x-ms-version: ['2015-07-08']
    method: GET
    uri: https://testaccountforbatch.blob.core.windows.net/fgrp-output?restype=container&comp=list
  response:
    body: {string: "\uFEFF<?xml version=\"1.0\" encoding=\"utf-8\"?><EnumerationResults\
        \ ServiceEndpoint=\"https://testaccountforbatch.blob.core.windows.net/\"\
        \ ContainerName=\"fgrp-output\"><Blobs><Blob><Name>stderr.txt</Name><Properties><Last-Modified>Sun,\
        \ 19 Mar 2017 02:08:39 GMT</Last-Modified><Etag>0x8D46E6CDC682E10</Etag><Content-Length>0</Content-Length><Content-Type>application/octet-stream</Content-Type><Content-Encoding\
        \ /><Content-Language /><Content-MD5 /><Cache-Control /><Content-Disposition\
        \ /><BlobType>BlockBlob</BlobType><LeaseStatus>unlocked</LeaseStatus><LeaseState>available</LeaseState></Properties></Blob><Blob><Name>stdout.txt</Name><Properties><Last-Modified>Sun,\
        \ 19 Mar 2017 02:08:39 GMT</Last-Modified><Etag>0x8D46E6CDC654725</Etag><Content-Length>5</Content-Length><Content-Type>application/octet-stream</Content-Type><Content-Encoding\
        \ /><Content-Language /><Content-MD5>2Oj8otwPiW/Xy0ywAxuiSQ==</Content-MD5><Cache-Control\
        \ /><Content-Disposition /><BlobType>BlockBlob</BlobType><LeaseStatus>unlocked</LeaseStatus><LeaseState>available</LeaseState></Properties></Blob><Blob><Name>uploadlog.txt</Name><Properties><Last-Modified>Sun,\
        \ 19 Mar 2017 02:08:39 GMT</Last-Modified><Etag>0x8D46E6CDC6A9FA7</Etag><Content-Length>2187</Content-Length><Content-Type>application/octet-stream</Content-Type><Content-Encoding\
        \ /><Content-Language /><Content-MD5>HEouYVi0al+hUpsPGZr7pg==</Content-MD5><Cache-Control\
        \ /><Content-Disposition /><BlobType>BlockBlob</BlobType><LeaseStatus>unlocked</LeaseStatus><LeaseState>available</LeaseState></Properties></Blob></Blobs><NextMarker\
        \ /></EnumerationResults>"}
    headers:
      Content-Type: [application/xml]
      Date: ['Sun, 19 Mar 2017 02:08:41 GMT']
      Server: [Windows-Azure-Blob/1.0 Microsoft-HTTPAPI/2.0]
      Transfer-Encoding: [chunked]
      x-ms-version: ['2015-07-08']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Connection: [keep-alive]
      Content-Length: ['0']
      User-Agent: [Azure-Storage/0.33.0 (Python CPython 3.5.1; Windows 8.1)]
      x-ms-client-request-id: [face60f8-0c48-11e7-8bd7-54ee750f2fc7]
      x-ms-date: ['Sun, 19 Mar 2017 02:08:44 GMT']
      x-ms-version: ['2015-07-08']
    method: DELETE
    uri: https://testaccountforbatch.blob.core.windows.net/fgrp-output/stderr.txt
  response:
    body: {string: ''}
    headers:
      Date: ['Sun, 19 Mar 2017 02:08:41 GMT']
      Server: [Windows-Azure-Blob/1.0 Microsoft-HTTPAPI/2.0]
      Transfer-Encoding: [chunked]
      x-ms-version: ['2015-07-08']
    status: {code: 202, message: Accepted}
- request:
    body: null
    headers:
      Connection: [keep-alive]
      Content-Length: ['0']
      User-Agent: [Azure-Storage/0.33.0 (Python CPython 3.5.1; Windows 8.1)]
      x-ms-client-request-id: [fad91fb8-0c48-11e7-a310-54ee750f2fc7]
      x-ms-date: ['Sun, 19 Mar 2017 02:08:44 GMT']
      x-ms-version: ['2015-07-08']
    method: DELETE
    uri: https://testaccountforbatch.blob.core.windows.net/fgrp-output/stdout.txt
  response:
    body: {string: ''}
    headers:
      Date: ['Sun, 19 Mar 2017 02:08:42 GMT']
      Server: [Windows-Azure-Blob/1.0 Microsoft-HTTPAPI/2.0]
      Transfer-Encoding: [chunked]
      x-ms-version: ['2015-07-08']
    status: {code: 202, message: Accepted}
- request:
    body: null
    headers:
      Connection: [keep-alive]
      Content-Length: ['0']
      User-Agent: [Azure-Storage/0.33.0 (Python CPython 3.5.1; Windows 8.1)]
      x-ms-client-request-id: [fae3d40a-0c48-11e7-a39d-54ee750f2fc7]
      x-ms-date: ['Sun, 19 Mar 2017 02:08:44 GMT']
      x-ms-version: ['2015-07-08']
    method: DELETE
    uri: https://testaccountforbatch.blob.core.windows.net/fgrp-output/uploadlog.txt
  response:
    body: {string: ''}
    headers:
      Date: ['Sun, 19 Mar 2017 02:08:42 GMT']
      Server: [Windows-Azure-Blob/1.0 Microsoft-HTTPAPI/2.0]
      Transfer-Encoding: [chunked]
      x-ms-version: ['2015-07-08']
    status: {code: 202, message: Accepted}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.9.1 msrest/0.4.6
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      client-request-id: [faedb51c-0c48-11e7-876a-54ee750f2fc7]
      ocp-date: ['Sun, 19 Mar 2017 02:08:44 GMT']
    method: GET
    uri: https://test1.westus.batch.azure.com/nodeagentskus?api-version=2017-01-01.4.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#nodeagentskus\"\
        ,\"value\":[\r\n    {\r\n      \"id\":\"batch.node.centos 7\",\"verifiedImageReferences\"\
        :[\r\n        {\r\n          \"publisher\":\"OpenLogic\",\"offer\":\"CentOS\"\
        ,\"sku\":\"7.3\",\"version\":\"latest\"\r\n        },{\r\n          \"publisher\"\
        :\"OpenLogic\",\"offer\":\"CentOS\",\"sku\":\"7.2\",\"version\":\"latest\"\
        \r\n        },{\r\n          \"publisher\":\"OpenLogic\",\"offer\":\"CentOS\"\
        ,\"sku\":\"7.1\",\"version\":\"latest\"\r\n        },{\r\n          \"publisher\"\
        :\"OpenLogic\",\"offer\":\"CentOS\",\"sku\":\"7.0\",\"version\":\"latest\"\
        \r\n        },{\r\n          \"publisher\":\"OpenLogic\",\"offer\":\"CentOS-HPC\"\
        ,\"sku\":\"7.1\",\"version\":\"latest\"\r\n        },{\r\n          \"publisher\"\
        :\"Oracle\",\"offer\":\"Oracle-Linux\",\"sku\":\"7.2\",\"version\":\"latest\"\
        \r\n        },{\r\n          \"publisher\":\"Oracle\",\"offer\":\"Oracle-Linux\"\
        ,\"sku\":\"7.0\",\"version\":\"latest\"\r\n        },{\r\n          \"publisher\"\
        :\"microsoft-ads\",\"offer\":\"linux-data-science-vm\",\"sku\":\"linuxdsvm\"\
        ,\"version\":\"latest\"\r\n        }\r\n      ],\"osType\":\"linux\"\r\n \
        \   },{\r\n      \"id\":\"batch.node.debian 8\",\"verifiedImageReferences\"\
        :[\r\n        {\r\n          \"publisher\":\"Credativ\",\"offer\":\"Debian\"\
        ,\"sku\":\"8\",\"version\":\"latest\"\r\n        }\r\n      ],\"osType\":\"\
        linux\"\r\n    },{\r\n      \"id\":\"batch.node.opensuse 13.2\",\"verifiedImageReferences\"\
        :[\r\n        \r\n      ],\"osType\":\"linux\"\r\n    },{\r\n      \"id\"\
        :\"batch.node.opensuse 42.1\",\"verifiedImageReferences\":[\r\n        {\r\
        \n          \"publisher\":\"SUSE\",\"offer\":\"openSUSE-Leap\",\"sku\":\"\
        42.1\",\"version\":\"latest\"\r\n        },{\r\n          \"publisher\":\"\
        SUSE\",\"offer\":\"SLES\",\"sku\":\"12-SP2\",\"version\":\"latest\"\r\n  \
        \      },{\r\n          \"publisher\":\"SUSE\",\"offer\":\"SLES\",\"sku\"\
        :\"12-SP1\",\"version\":\"latest\"\r\n        },{\r\n          \"publisher\"\
        :\"SUSE\",\"offer\":\"SLES-HPC\",\"sku\":\"12-SP1\",\"version\":\"latest\"\
        \r\n        }\r\n      ],\"osType\":\"linux\"\r\n    },{\r\n      \"id\":\"\
        batch.node.ubuntu 14.04\",\"verifiedImageReferences\":[\r\n        {\r\n \
        \         \"publisher\":\"Canonical\",\"offer\":\"UbuntuServer\",\"sku\":\"\
        14.04.5-LTS\",\"version\":\"latest\"\r\n        }\r\n      ],\"osType\":\"\
        linux\"\r\n    },{\r\n      \"id\":\"batch.node.ubuntu 16.04\",\"verifiedImageReferences\"\
        :[\r\n        {\r\n          \"publisher\":\"Canonical\",\"offer\":\"UbuntuServer\"\
        ,\"sku\":\"16.04-LTS\",\"version\":\"latest\"\r\n        },{\r\n         \
        \ \"publisher\":\"Canonical\",\"offer\":\"UbuntuServer\",\"sku\":\"16.10\"\
        ,\"version\":\"latest\"\r\n        }\r\n      ],\"osType\":\"linux\"\r\n \
        \   },{\r\n      \"id\":\"batch.node.windows amd64\",\"verifiedImageReferences\"\
        :[\r\n        {\r\n          \"publisher\":\"MicrosoftWindowsServer\",\"offer\"\
        :\"WindowsServer\",\"sku\":\"2012-R2-Datacenter\",\"version\":\"latest\"\r\
        \n        },{\r\n          \"publisher\":\"MicrosoftWindowsServer\",\"offer\"\
        :\"WindowsServer\",\"sku\":\"2012-Datacenter\",\"version\":\"latest\"\r\n\
        \        },{\r\n          \"publisher\":\"MicrosoftWindowsServer\",\"offer\"\
        :\"WindowsServer\",\"sku\":\"2008-R2-SP1\",\"version\":\"latest\"\r\n    \
        \    },{\r\n          \"publisher\":\"MicrosoftWindowsServer\",\"offer\":\"\
        WindowsServer\",\"sku\":\"2016-Datacenter\",\"version\":\"latest\"\r\n   \
        \     },{\r\n          \"publisher\":\"MicrosoftWindowsServer\",\"offer\"\
        :\"WindowsServer\",\"sku\":\"2016-Datacenter-with-Containers\",\"version\"\
        :\"latest\"\r\n        },{\r\n          \"publisher\":\"microsoft-ads\",\"\
        offer\":\"standard-data-science-vm\",\"sku\":\"standard-data-science-vm\"\
        ,\"version\":\"latest\"\r\n        }\r\n      ],\"osType\":\"windows\"\r\n\
        \    }\r\n  ]\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Sun, 19 Mar 2017 02:08:42 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [980e7f8b-311d-4be6-971a-ad570927a1a9]
    status: {code: 200, message: OK}
- request:
    body: '{"virtualMachineConfiguration": {"imageReference": {"offer": "WindowsServer",
      "publisher": "MicrosoftWindowsServer", "sku": "2012-R2-Datacenter"}, "nodeAgentSKUId":
      "batch.node.windows amd64"}, "id": "ncj-windows-2012-r2", "vmSize": "STANDARD_D1_V2",
      "targetDedicated": 1}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['272']
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.9.1 msrest/0.4.6
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      client-request-id: [fb225da2-0c48-11e7-9eb5-54ee750f2fc7]
      ocp-date: ['Sun, 19 Mar 2017 02:08:44 GMT']
    method: POST
    uri: https://test1.westus.batch.azure.com/pools?api-version=2017-01-01.4.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#Microsoft.Azure.Batch.Protocol.Entities.Container.errors/@Element\"\
        ,\"code\":\"PoolExists\",\"message\":{\r\n    \"lang\":\"en-US\",\"value\"\
        :\"The specified pool already exists.\\nRequestId:adfd4a53-01da-426d-bd26-ca2fdb3b0efb\\\
        nTime:2017-03-19T02:08:42.8631240Z\"\r\n  }\r\n}"}
    headers:
      Content-Length: ['337']
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Sun, 19 Mar 2017 02:08:42 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      X-Content-Type-Options: [nosniff]
      request-id: [adfd4a53-01da-426d-bd26-ca2fdb3b0efb]
    status: {code: 409, message: The specified pool already exists.}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.9.1 msrest/0.4.6
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      client-request-id: [fb57465c-0c48-11e7-930a-54ee750f2fc7]
      ocp-date: ['Sun, 19 Mar 2017 02:08:45 GMT']
    method: GET
    uri: https://test1.westus.batch.azure.com/pools/ncj-windows-2012-r2?api-version=2017-01-01.4.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#pools/@Element\"\
        ,\"id\":\"ncj-windows-2012-r2\",\"url\":\"https://test1.westus.batch.azure.com/pools/ncj-windows-2012-r2\"\
        ,\"eTag\":\"0x8D46E51F4A8B919\",\"lastModified\":\"2017-03-18T22:56:04.2187033Z\"\
        ,\"creationTime\":\"2017-03-18T22:56:04.2187033Z\",\"state\":\"active\",\"\
        stateTransitionTime\":\"2017-03-18T22:56:04.2187033Z\",\"allocationState\"\
        :\"steady\",\"allocationStateTransitionTime\":\"2017-03-18T22:57:09.1593423Z\"\
        ,\"vmSize\":\"standard_d1_v2\",\"resizeTimeout\":\"PT15M\",\"currentDedicated\"\
        :1,\"targetDedicated\":1,\"enableAutoScale\":false,\"enableInterNodeCommunication\"\
        :false,\"maxTasksPerNode\":1,\"taskSchedulingPolicy\":{\r\n    \"nodeFillType\"\
        :\"Spread\"\r\n  },\"virtualMachineConfiguration\":{\r\n    \"imageReference\"\
        :{\r\n      \"publisher\":\"MicrosoftWindowsServer\",\"offer\":\"WindowsServer\"\
        ,\"sku\":\"2012-R2-Datacenter\",\"version\":\"latest\"\r\n    },\"nodeAgentSKUId\"\
        :\"batch.node.windows amd64\"\r\n  }\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Sun, 19 Mar 2017 02:08:46 GMT']
      ETag: ['0x8D46E51F4A8B919']
      Last-Modified: ['Sat, 18 Mar 2017 22:56:04 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [566eec72-1d14-4a38-addd-9d64803145e0]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.9.1 msrest/0.4.6
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      client-request-id: [fbd4011e-0c48-11e7-b613-54ee750f2fc7]
      ocp-date: ['Sun, 19 Mar 2017 02:08:46 GMT']
    method: GET
    uri: https://test1.westus.batch.azure.com/pools/ncj-windows-2012-r2/nodes?api-version=2017-01-01.4.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#nodes\"\
        ,\"value\":[\r\n    {\r\n      \"id\":\"tvm-2434664350_1-20170318t225707z\"\
        ,\"url\":\"https://test1.westus.batch.azure.com/pools/ncj-windows-2012-r2/nodes/tvm-2434664350_1-20170318t225707z\"\
        ,\"state\":\"idle\",\"schedulingState\":\"enabled\",\"stateTransitionTime\"\
        :\"2017-03-19T02:08:26.172257Z\",\"lastBootTime\":\"2017-03-18T23:01:13.159972Z\"\
        ,\"allocationTime\":\"2017-03-18T22:57:07.7996353Z\",\"ipAddress\":\"10.0.0.4\"\
        ,\"affinityId\":\"TVM:tvm-2434664350_1-20170318t225707z\",\"vmSize\":\"standard_d1_v2\"\
        ,\"totalTasksRun\":9,\"totalTasksSucceeded\":9,\"runningTasksCount\":0,\"\
        recentTasks\":[\r\n        {\r\n          \"taskUrl\":\"https://test1.westus.batch.azure.com/jobs/ncj-windows-2012-r2/tasks/mytask\"\
        ,\"jobId\":\"ncj-windows-2012-r2\",\"taskId\":\"mytask\",\"taskState\":\"\
        completed\",\"executionInfo\":{\r\n            \"startTime\":\"2017-03-19T02:08:02.613721Z\"\
        ,\"endTime\":\"2017-03-19T02:08:25.750387Z\",\"exitCode\":0,\"retryCount\"\
        :0,\"requeueCount\":0\r\n          }\r\n        }\r\n      ]\r\n    }\r\n\
        \  ]\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Sun, 19 Mar 2017 02:08:44 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [55b31a8d-7e34-4acb-bb25-3ac1f5a190ce]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: ['python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.9.1 msrest/0.4.6
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python batch-extensions:v1.0.0RC']
      accept-language: [en-US]
      client-request-id: [fc201436-0c48-11e7-9b4f-54ee750f2fc7]
      ocp-date: ['Sun, 19 Mar 2017 02:08:46 GMT']
    method: GET
    uri: https://test1.westus.batch.azure.com/pools/ncj-windows-2012-r2?api-version=2017-01-01.4.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#pools/@Element\"\
        ,\"id\":\"ncj-windows-2012-r2\",\"url\":\"https://test1.westus.batch.azure.com/pools/ncj-windows-2012-r2\"\
        ,\"eTag\":\"0x8D46E51F4A8B919\",\"lastModified\":\"2017-03-18T22:56:04.2187033Z\"\
        ,\"creationTime\":\"2017-03-18T22:56:04.2187033Z\",\"state\":\"active\",\"\
        stateTransitionTime\":\"2017-03-18T22:56:04.2187033Z\",\"allocationState\"\
        :\"steady\",\"allocationStateTransitionTime\":\"2017-03-18T22:57:09.1593423Z\"\
        ,\"vmSize\":\"standard_d1_v2\",\"resizeTimeout\":\"PT15M\",\"currentDedicated\"\
        :1,\"targetDedicated\":1,\"enableAutoScale\":false,\"enableInterNodeCommunication\"\
        :false,\"maxTasksPerNode\":1,\"taskSchedulingPolicy\":{\r\n    \"nodeFillType\"\
        :\"Spread\"\r\n  },\"virtualMachineConfiguration\":{\r\n    \"imageReference\"\
        :{\r\n      \"publisher\":\"MicrosoftWindowsServer\",\"offer\":\"WindowsServer\"\
        ,\"sku\":\"2012-R2-Datacenter\",\"version\":\"latest\"\r\n    },\"nodeAgentSKUId\"\
        :\"batch.node.windows amd64\"\r\n  }\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Sun, 19 Mar 2017 02:08:46 GMT']
      ETag: ['0x8D46E51F4A8B919']
      Last-Modified: ['Sat, 18 Mar 2017 22:56:04 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [b918968c-880f-4301-bd06-9b734d6c10f9]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.9.1 msrest/0.4.6
          msrest_azure/0.4.7 batchmanagementclient/3.0.0 Azure-SDK-For-Python AZURECLI/TEST/2.0.1]
      accept-language: [en-US]
      x-ms-client-request-id: [fc46764c-0c48-11e7-96c0-54ee750f2fc7]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Batch/batchAccounts?api-version=2017-01-01
  response:
    body: {string: '{"value":[{"name":"test1","location":"westus","tags":{"Value":"tagValue","test":"test1","Name":"tagName"},"properties":{"accountEndpoint":"test1.westus.batch.azure.com","provisioningState":"Succeeded","coreQuota":800,"poolQuota":20,"activeJobAndJobScheduleQuota":20,"autoStorage":{"storageAccountId":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/test1_resource_group/providers/Microsoft.Storage/storageAccounts/testaccountforbatch","lastKeySync":"2016-08-29T18:45:16.1439173Z"},"poolAllocationMode":"batchservice"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/test1_resource_group/providers/Microsoft.Batch/batchAccounts/test1","type":"Microsoft.Batch/batchAccounts"}]}'}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Sun, 19 Mar 2017 02:08:46 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Vary: [Accept-Encoding]
      content-length: ['1838']
      x-ms-original-request-ids: ['', '', '']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.9.1 msrest/0.4.6
          msrest_azure/0.4.7 storagemanagementclient/0.31.0 Azure-SDK-For-Python AZURECLI/TEST/2.0.1]
      accept-language: [en-US]
      x-ms-client-request-id: [fd64efba-0c48-11e7-9921-54ee750f2fc7]
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/test1_resource_group/providers/Microsoft.Storage/storageAccounts/testaccountforbatch/listKeys?api-version=2016-12-01
  response:
    body: {string: '{"keys":[{"keyName":"key1","permissions":"Full","value":"xxx=="},{"keyName":"key2","permissions":"Full","value":"xxx=="}]}

        '}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json]
      Date: ['Sun, 19 Mar 2017 02:08:48 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-Azure-Storage-Resource-Provider/1.0, Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      Vary: [Accept-Encoding]
      content-length: ['289']
      x-ms-ratelimit-remaining-subscription-writes: ['1199']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Connection: [keep-alive]
      Content-Length: ['0']
      User-Agent: [Azure-Storage/0.33.0 (Python CPython 3.5.1; Windows 8.1)]
      x-ms-client-request-id: [fe685a82-0c48-11e7-8a5d-54ee750f2fc7]
      x-ms-date: ['Sun, 19 Mar 2017 02:08:50 GMT']
      x-ms-version: ['2015-07-08']
    method: PUT
    uri: https://testaccountforbatch.blob.core.windows.net/fgrp-output?restype=container
  response:
    body: {string: "\uFEFF<?xml version=\"1.0\" encoding=\"utf-8\"?><Error><Code>ContainerAlreadyExists</Code><Message>The\
        \ specified container already exists.\nRequestId:2c83f172-0001-0131-6655-a0a766000000\n\
        Time:2017-03-19T02:08:48.9171405Z</Message></Error>"}
    headers:
      Content-Length: ['230']
      Content-Type: [application/xml]
      Date: ['Sun, 19 Mar 2017 02:08:48 GMT']
      Server: [Windows-Azure-Blob/1.0 Microsoft-HTTPAPI/2.0]
      x-ms-version: ['2015-07-08']
    status: {code: 409, message: The specified container already exists.}
- request:
    body: '{"id": "ncj-windows-2012-r2-1", "poolInfo": {"poolId": "ncj-windows-2012-r2"},
      "jobPreparationTask": {"commandLine": "cmd.exe /c \"(bootstrap.cmd && setup_uploader.py)
      > setuplog.txt 2>&1\"", "userIdentity": {"autoUser": {"elevationLevel": "admin"}},
      "waitForSuccess": true, "resourceFiles": [{"blobSource": "https://raw.githubusercontent.com/annatisch/azure-batch-cli-extensions/master/azure/cli/command_modules/batch_extensions/fileegress/util.py",
      "filePath": "util.py"}, {"blobSource": "https://raw.githubusercontent.com/annatisch/azure-batch-cli-extensions/master/azure/cli/command_modules/batch_extensions/fileegress/uploader.py",
      "filePath": "uploader.py"}, {"blobSource": "https://raw.githubusercontent.com/annatisch/azure-batch-cli-extensions/master/azure/cli/command_modules/batch_extensions/fileegress/uploadfiles.py",
      "filePath": "uploadfiles.py"}, {"blobSource": "https://raw.githubusercontent.com/annatisch/azure-batch-cli-extensions/master/azure/cli/command_modules/batch_extensions/fileegress/batchfileuploader.py",
      "filePath": "batchfileuploader.py"}, {"blobSource": "https://raw.githubusercontent.com/annatisch/azure-batch-cli-extensions/master/azure/cli/command_modules/batch_extensions/fileegress/setup_uploader.py",
      "filePath": "setup_uploader.py"}, {"blobSource": "https://raw.githubusercontent.com/annatisch/azure-batch-cli-extensions/master/azure/cli/command_modules/batch_extensions/fileegress/configuration.py",
      "filePath": "configuration.py"}, {"blobSource": "https://raw.githubusercontent.com/annatisch/azure-batch-cli-extensions/master/azure/cli/command_modules/batch_extensions/fileegress/requirements.txt",
      "filePath": "requirements.txt"}, {"blobSource": "https://raw.githubusercontent.com/annatisch/azure-batch-cli-extensions/master/azure/cli/command_modules/batch_extensions/fileegress/bootstrap.cmd",
      "filePath": "bootstrap.cmd"}]}}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['1866']
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: ['python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.9.1 msrest/0.4.6
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python batch-extensions:v1.0.0RC']
      accept-language: [en-US]
      client-request-id: [fec5dc5e-0c48-11e7-a090-54ee750f2fc7]
      ocp-date: ['Sun, 19 Mar 2017 02:08:50 GMT']
      return-client-request-id: ['false']
    method: POST
    uri: https://test1.westus.batch.azure.com/jobs?api-version=2017-01-01.4.0&timeout=30
  response:
    body: {string: ''}
    headers:
      DataServiceId: ['https://test1.westus.batch.azure.com/jobs/job-1']
      DataServiceVersion: ['3.0']
      Date: ['Sun, 19 Mar 2017 02:08:51 GMT']
      ETag: ['0x8D46E6CE205E258']
      Last-Modified: ['Sun, 19 Mar 2017 02:08:49 GMT']
      Location: ['https://test1.westus.batch.azure.com/jobs/job-1']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [f69013c2-159e-4530-9d8c-20e9e0063109]
    status: {code: 201, message: Created}
- request:
    body: '{"value": [{"commandLine": "cmd /c \"cmd /c echo | set /p dummy=test &
      %AZ_BATCH_JOB_PREP_WORKING_DIR%\\uploadfiles.py %errorlevel%\"", "environmentSettings":
      [{"name": "AZ_BATCH_FILE_UPLOAD_CONFIG", "value": "{\"outputFiles\": [{\"filePattern\":
      \"$AZ_BATCH_TASK_DIR/*.txt\", \"uploadDetails\": {\"taskStatus\": \"TaskSuccess\"},
      \"destination\": {\"container\": {\"containerSas\": \"https://testaccountforbatch.blob.core.windows.net/fgrp-output?sv=2015-07-08&se=2017-03-26T02%3A08%3A50Z&sr=c&sig=hy0kuIGf7XoCMs%2BSE3sA/vr4Fsns1vRfxwhpv3ypHyk%3D&sp=w&st=2017-03-19T02%3A08%3A50Z\"}}}]}"}],
      "id": "myTask", "constraints": {"retentionTime": "PT1H"}}]}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['651']
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: ['python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.9.1 msrest/0.4.6
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python batch-extensions:v1.0.0RC']
      accept-language: [en-US]
      client-request-id: [ff32764c-0c48-11e7-9f42-54ee750f2fc7]
      ocp-date: ['Sun, 19 Mar 2017 02:08:51 GMT']
    method: POST
    uri: https://test1.westus.batch.azure.com/jobs/ncj-windows-2012-r2-1/addtaskcollection?api-version=2017-01-01.4.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#taskaddresult\"\
        ,\"value\":[\r\n    {\r\n      \"status\":\"Success\",\"taskId\":\"myTask\"\
        ,\"eTag\":\"0x8D46E6CE25085AC\",\"lastModified\":\"2017-03-19T02:08:49.8533804Z\"\
        ,\"location\":\"https://test1.westus.batch.azure.com/jobs/ncj-windows-2012-r2-1/tasks/myTask\"\
        \r\n    }\r\n  ]\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Sun, 19 Mar 2017 02:08:49 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [7e295995-a8cd-4623-83f4-2e4b5918c167]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.9.1 msrest/0.4.6
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      client-request-id: [ff540f1a-0c48-11e7-b9b5-54ee750f2fc7]
      ocp-date: ['Sun, 19 Mar 2017 02:08:51 GMT']
    method: GET
    uri: https://test1.westus.batch.azure.com/jobs/ncj-windows-2012-r2-1?api-version=2017-01-01.4.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#jobs/@Element\"\
        ,\"id\":\"ncj-windows-2012-r2-1\",\"url\":\"https://test1.westus.batch.azure.com/jobs/ncj-windows-2012-r2-1\"\
        ,\"eTag\":\"0x8D46E6CE205E258\",\"lastModified\":\"2017-03-19T02:08:49.3642328Z\"\
        ,\"creationTime\":\"2017-03-19T02:08:49.3202362Z\",\"state\":\"active\",\"\
        stateTransitionTime\":\"2017-03-19T02:08:49.3642328Z\",\"priority\":0,\"usesTaskDependencies\"\
        :false,\"constraints\":{\r\n    \"maxWallClockTime\":\"P10675199DT2H48M5.4775807S\"\
        ,\"maxTaskRetryCount\":0\r\n  },\"jobPreparationTask\":{\r\n    \"id\":\"\
        jobpreparation\",\"commandLine\":\"cmd.exe /c \\\"(bootstrap.cmd && setup_uploader.py)\
        \ > setuplog.txt 2>&1\\\"\",\"resourceFiles\":[\r\n      {\r\n        \"blobSource\"\
        :\"https://raw.githubusercontent.com/annatisch/azure-batch-cli-extensions/master/azure/cli/command_modules/batch_extensions/fileegress/util.py\"\
        ,\"filePath\":\"util.py\"\r\n      },{\r\n        \"blobSource\":\"https://raw.githubusercontent.com/annatisch/azure-batch-cli-extensions/master/azure/cli/command_modules/batch_extensions/fileegress/uploader.py\"\
        ,\"filePath\":\"uploader.py\"\r\n      },{\r\n        \"blobSource\":\"https://raw.githubusercontent.com/annatisch/azure-batch-cli-extensions/master/azure/cli/command_modules/batch_extensions/fileegress/uploadfiles.py\"\
        ,\"filePath\":\"uploadfiles.py\"\r\n      },{\r\n        \"blobSource\":\"\
        https://raw.githubusercontent.com/annatisch/azure-batch-cli-extensions/master/azure/cli/command_modules/batch_extensions/fileegress/batchfileuploader.py\"\
        ,\"filePath\":\"batchfileuploader.py\"\r\n      },{\r\n        \"blobSource\"\
        :\"https://raw.githubusercontent.com/annatisch/azure-batch-cli-extensions/master/azure/cli/command_modules/batch_extensions/fileegress/setup_uploader.py\"\
        ,\"filePath\":\"setup_uploader.py\"\r\n      },{\r\n        \"blobSource\"\
        :\"https://raw.githubusercontent.com/annatisch/azure-batch-cli-extensions/master/azure/cli/command_modules/batch_extensions/fileegress/configuration.py\"\
        ,\"filePath\":\"configuration.py\"\r\n      },{\r\n        \"blobSource\"\
        :\"https://raw.githubusercontent.com/annatisch/azure-batch-cli-extensions/master/azure/cli/command_modules/batch_extensions/fileegress/requirements.txt\"\
        ,\"filePath\":\"requirements.txt\"\r\n      },{\r\n        \"blobSource\"\
        :\"https://raw.githubusercontent.com/annatisch/azure-batch-cli-extensions/master/azure/cli/command_modules/batch_extensions/fileegress/bootstrap.cmd\"\
        ,\"filePath\":\"bootstrap.cmd\"\r\n      }\r\n    ],\"constraints\":{\r\n\
        \      \"maxWallClockTime\":\"P10675199DT2H48M5.4775807S\",\"retentionTime\"\
        :\"P10675199DT2H48M5.4775807S\",\"maxTaskRetryCount\":0\r\n    },\"userIdentity\"\
        :{\r\n      \"autoUser\":{\r\n        \"scope\":\"task\",\"elevationLevel\"\
        :\"admin\"\r\n      }\r\n    },\"waitForSuccess\":true,\"rerunOnNodeRebootAfterSuccess\"\
        :true\r\n  },\"poolInfo\":{\r\n    \"poolId\":\"ncj-windows-2012-r2\"\r\n\
        \  },\"executionInfo\":{\r\n    \"startTime\":\"2017-03-19T02:08:49.3642328Z\"\
        ,\"poolId\":\"ncj-windows-2012-r2\"\r\n  },\"onAllTasksComplete\":\"noaction\"\
        ,\"onTaskFailure\":\"noaction\"\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Sun, 19 Mar 2017 02:08:50 GMT']
      ETag: ['0x8D46E6CE205E258']
      Last-Modified: ['Sun, 19 Mar 2017 02:08:49 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [9e512851-61f8-42ec-b0f6-6ea6be1389f4]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.9.1 msrest/0.4.6
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      client-request-id: [ff8249d0-0c48-11e7-ba11-54ee750f2fc7]
      ocp-date: ['Sun, 19 Mar 2017 02:08:52 GMT']
    method: GET
    uri: https://test1.westus.batch.azure.com/jobs/ncj-windows-2012-r2-1/tasks?api-version=2017-01-01.4.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#tasks\"\
        ,\"value\":[\r\n    {\r\n      \"id\":\"myTask\",\"url\":\"https://test1.westus.batch.azure.com/jobs/ncj-windows-2012-r2-1/tasks/myTask\"\
        ,\"eTag\":\"0x8D46E6CE25085AC\",\"creationTime\":\"2017-03-19T02:08:49.8533804Z\"\
        ,\"lastModified\":\"2017-03-19T02:08:49.8533804Z\",\"state\":\"active\",\"\
        stateTransitionTime\":\"2017-03-19T02:08:49.8533804Z\",\"commandLine\":\"\
        cmd /c \\\"cmd /c echo | set /p dummy=test & %AZ_BATCH_JOB_PREP_WORKING_DIR%\\\
        \\uploadfiles.py %errorlevel%\\\"\",\"environmentSettings\":[\r\n        {\r\
        \n          \"name\":\"AZ_BATCH_FILE_UPLOAD_CONFIG\",\"value\":\"{\\\"outputFiles\\\
        \": [{\\\"filePattern\\\": \\\"$AZ_BATCH_TASK_DIR/*.txt\\\", \\\"uploadDetails\\\
        \": {\\\"taskStatus\\\": \\\"TaskSuccess\\\"}, \\\"destination\\\": {\\\"\
        container\\\": {\\\"containerSas\\\": \\\"https://testaccountforbatch.blob.core.windows.net/fgrp-output?sv=2015-07-08&se=2017-03-26T02%3A08%3A50Z&sr=c&sig=hy0kuIGf7XoCMs%2BSE3sA/vr4Fsns1vRfxwhpv3ypHyk%3D&sp=w&st=2017-03-19T02%3A08%3A50Z\\\
        \"}}}]}\"\r\n        }\r\n      ],\"userIdentity\":{\r\n        \"autoUser\"\
        :{\r\n          \"scope\":\"task\",\"elevationLevel\":\"nonadmin\"\r\n   \
        \     }\r\n      },\"constraints\":{\r\n        \"maxWallClockTime\":\"P10675199DT2H48M5.4775807S\"\
        ,\"retentionTime\":\"PT1H\",\"maxTaskRetryCount\":0\r\n      },\"executionInfo\"\
        :{\r\n        \"retryCount\":0,\"requeueCount\":0\r\n      }\r\n    }\r\n\
        \  ]\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Sun, 19 Mar 2017 02:08:50 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [4712f323-7f44-494a-9193-670135d8978a]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.9.1 msrest/0.4.6
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      client-request-id: [017981c0-0c49-11e7-a43e-54ee750f2fc7]
      ocp-date: ['Sun, 19 Mar 2017 02:08:55 GMT']
    method: GET
    uri: https://test1.westus.batch.azure.com/jobs/ncj-windows-2012-r2-1/tasks?api-version=2017-01-01.4.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#tasks\"\
        ,\"value\":[\r\n    {\r\n      \"id\":\"myTask\",\"url\":\"https://test1.westus.batch.azure.com/jobs/ncj-windows-2012-r2-1/tasks/myTask\"\
        ,\"eTag\":\"0x8D46E6CE25085AC\",\"creationTime\":\"2017-03-19T02:08:49.8533804Z\"\
        ,\"lastModified\":\"2017-03-19T02:08:49.8533804Z\",\"state\":\"preparing\"\
        ,\"stateTransitionTime\":\"2017-03-19T02:08:52.664584Z\",\"previousState\"\
        :\"active\",\"previousStateTransitionTime\":\"2017-03-19T02:08:49.8533804Z\"\
        ,\"commandLine\":\"cmd /c \\\"cmd /c echo | set /p dummy=test & %AZ_BATCH_JOB_PREP_WORKING_DIR%\\\
        \\uploadfiles.py %errorlevel%\\\"\",\"environmentSettings\":[\r\n        {\r\
        \n          \"name\":\"AZ_BATCH_FILE_UPLOAD_CONFIG\",\"value\":\"{\\\"outputFiles\\\
        \": [{\\\"filePattern\\\": \\\"$AZ_BATCH_TASK_DIR/*.txt\\\", \\\"uploadDetails\\\
        \": {\\\"taskStatus\\\": \\\"TaskSuccess\\\"}, \\\"destination\\\": {\\\"\
        container\\\": {\\\"containerSas\\\": \\\"https://testaccountforbatch.blob.core.windows.net/fgrp-output?sv=2015-07-08&se=2017-03-26T02%3A08%3A50Z&sr=c&sig=hy0kuIGf7XoCMs%2BSE3sA/vr4Fsns1vRfxwhpv3ypHyk%3D&sp=w&st=2017-03-19T02%3A08%3A50Z\\\
        \"}}}]}\"\r\n        }\r\n      ],\"userIdentity\":{\r\n        \"autoUser\"\
        :{\r\n          \"scope\":\"task\",\"elevationLevel\":\"nonadmin\"\r\n   \
        \     }\r\n      },\"constraints\":{\r\n        \"maxWallClockTime\":\"P10675199DT2H48M5.4775807S\"\
        ,\"retentionTime\":\"PT1H\",\"maxTaskRetryCount\":0\r\n      },\"executionInfo\"\
        :{\r\n        \"startTime\":\"2017-03-19T02:08:52.664584Z\",\"retryCount\"\
        :0,\"requeueCount\":0\r\n      },\"nodeInfo\":{\r\n        \"affinityId\"\
        :\"TVM:tvm-2434664350_1-20170318t225707z\",\"nodeUrl\":\"https://test1.westus.batch.azure.com/pools/ncj-windows-2012-r2/nodes/tvm-2434664350_1-20170318t225707z\"\
        ,\"poolId\":\"ncj-windows-2012-r2\",\"nodeId\":\"tvm-2434664350_1-20170318t225707z\"\
        \r\n      }\r\n    }\r\n  ]\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Sun, 19 Mar 2017 02:08:59 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [a588290d-dd7a-424f-96ff-b787d59e62d2]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.9.1 msrest/0.4.6
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      client-request-id: [0627d51c-0c49-11e7-a983-54ee750f2fc7]
      ocp-date: ['Sun, 19 Mar 2017 02:09:03 GMT']
    method: GET
    uri: https://test1.westus.batch.azure.com/jobs/ncj-windows-2012-r2-1/tasks?api-version=2017-01-01.4.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#tasks\"\
        ,\"value\":[\r\n    {\r\n      \"id\":\"myTask\",\"url\":\"https://test1.westus.batch.azure.com/jobs/ncj-windows-2012-r2-1/tasks/myTask\"\
        ,\"eTag\":\"0x8D46E6CE25085AC\",\"creationTime\":\"2017-03-19T02:08:49.8533804Z\"\
        ,\"lastModified\":\"2017-03-19T02:08:49.8533804Z\",\"state\":\"preparing\"\
        ,\"stateTransitionTime\":\"2017-03-19T02:08:52.664584Z\",\"previousState\"\
        :\"active\",\"previousStateTransitionTime\":\"2017-03-19T02:08:49.8533804Z\"\
        ,\"commandLine\":\"cmd /c \\\"cmd /c echo | set /p dummy=test & %AZ_BATCH_JOB_PREP_WORKING_DIR%\\\
        \\uploadfiles.py %errorlevel%\\\"\",\"environmentSettings\":[\r\n        {\r\
        \n          \"name\":\"AZ_BATCH_FILE_UPLOAD_CONFIG\",\"value\":\"{\\\"outputFiles\\\
        \": [{\\\"filePattern\\\": \\\"$AZ_BATCH_TASK_DIR/*.txt\\\", \\\"uploadDetails\\\
        \": {\\\"taskStatus\\\": \\\"TaskSuccess\\\"}, \\\"destination\\\": {\\\"\
        container\\\": {\\\"containerSas\\\": \\\"https://testaccountforbatch.blob.core.windows.net/fgrp-output?sv=2015-07-08&se=2017-03-26T02%3A08%3A50Z&sr=c&sig=hy0kuIGf7XoCMs%2BSE3sA/vr4Fsns1vRfxwhpv3ypHyk%3D&sp=w&st=2017-03-19T02%3A08%3A50Z\\\
        \"}}}]}\"\r\n        }\r\n      ],\"userIdentity\":{\r\n        \"autoUser\"\
        :{\r\n          \"scope\":\"task\",\"elevationLevel\":\"nonadmin\"\r\n   \
        \     }\r\n      },\"constraints\":{\r\n        \"maxWallClockTime\":\"P10675199DT2H48M5.4775807S\"\
        ,\"retentionTime\":\"PT1H\",\"maxTaskRetryCount\":0\r\n      },\"executionInfo\"\
        :{\r\n        \"startTime\":\"2017-03-19T02:08:52.664584Z\",\"retryCount\"\
        :0,\"requeueCount\":0\r\n      },\"nodeInfo\":{\r\n        \"affinityId\"\
        :\"TVM:tvm-2434664350_1-20170318t225707z\",\"nodeUrl\":\"https://test1.westus.batch.azure.com/pools/ncj-windows-2012-r2/nodes/tvm-2434664350_1-20170318t225707z\"\
        ,\"poolId\":\"ncj-windows-2012-r2\",\"nodeId\":\"tvm-2434664350_1-20170318t225707z\"\
        \r\n      }\r\n    }\r\n  ]\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Sun, 19 Mar 2017 02:09:01 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [82c018ea-9fb9-48be-85a0-f7afda96a23b]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.9.1 msrest/0.4.6
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      client-request-id: [08696a82-0c49-11e7-9a5e-54ee750f2fc7]
      ocp-date: ['Sun, 19 Mar 2017 02:09:07 GMT']
    method: GET
    uri: https://test1.westus.batch.azure.com/jobs/ncj-windows-2012-r2-1/tasks?api-version=2017-01-01.4.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#tasks\"\
        ,\"value\":[\r\n    {\r\n      \"id\":\"myTask\",\"url\":\"https://test1.westus.batch.azure.com/jobs/ncj-windows-2012-r2-1/tasks/myTask\"\
        ,\"eTag\":\"0x8D46E6CE25085AC\",\"creationTime\":\"2017-03-19T02:08:49.8533804Z\"\
        ,\"lastModified\":\"2017-03-19T02:08:49.8533804Z\",\"state\":\"preparing\"\
        ,\"stateTransitionTime\":\"2017-03-19T02:08:52.664584Z\",\"previousState\"\
        :\"active\",\"previousStateTransitionTime\":\"2017-03-19T02:08:49.8533804Z\"\
        ,\"commandLine\":\"cmd /c \\\"cmd /c echo | set /p dummy=test & %AZ_BATCH_JOB_PREP_WORKING_DIR%\\\
        \\uploadfiles.py %errorlevel%\\\"\",\"environmentSettings\":[\r\n        {\r\
        \n          \"name\":\"AZ_BATCH_FILE_UPLOAD_CONFIG\",\"value\":\"{\\\"outputFiles\\\
        \": [{\\\"filePattern\\\": \\\"$AZ_BATCH_TASK_DIR/*.txt\\\", \\\"uploadDetails\\\
        \": {\\\"taskStatus\\\": \\\"TaskSuccess\\\"}, \\\"destination\\\": {\\\"\
        container\\\": {\\\"containerSas\\\": \\\"https://testaccountforbatch.blob.core.windows.net/fgrp-output?sv=2015-07-08&se=2017-03-26T02%3A08%3A50Z&sr=c&sig=hy0kuIGf7XoCMs%2BSE3sA/vr4Fsns1vRfxwhpv3ypHyk%3D&sp=w&st=2017-03-19T02%3A08%3A50Z\\\
        \"}}}]}\"\r\n        }\r\n      ],\"userIdentity\":{\r\n        \"autoUser\"\
        :{\r\n          \"scope\":\"task\",\"elevationLevel\":\"nonadmin\"\r\n   \
        \     }\r\n      },\"constraints\":{\r\n        \"maxWallClockTime\":\"P10675199DT2H48M5.4775807S\"\
        ,\"retentionTime\":\"PT1H\",\"maxTaskRetryCount\":0\r\n      },\"executionInfo\"\
        :{\r\n        \"startTime\":\"2017-03-19T02:08:52.664584Z\",\"retryCount\"\
        :0,\"requeueCount\":0\r\n      },\"nodeInfo\":{\r\n        \"affinityId\"\
        :\"TVM:tvm-2434664350_1-20170318t225707z\",\"nodeUrl\":\"https://test1.westus.batch.azure.com/pools/ncj-windows-2012-r2/nodes/tvm-2434664350_1-20170318t225707z\"\
        ,\"poolId\":\"ncj-windows-2012-r2\",\"nodeId\":\"tvm-2434664350_1-20170318t225707z\"\
        \r\n      }\r\n    }\r\n  ]\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Sun, 19 Mar 2017 02:09:04 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [95dfb8ac-58d9-4c14-a0ba-3b2e50088b50]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.9.1 msrest/0.4.6
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      client-request-id: [0a9896c8-0c49-11e7-93cb-54ee750f2fc7]
      ocp-date: ['Sun, 19 Mar 2017 02:09:10 GMT']
    method: GET
    uri: https://test1.westus.batch.azure.com/jobs/ncj-windows-2012-r2-1/tasks?api-version=2017-01-01.4.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#tasks\"\
        ,\"value\":[\r\n    {\r\n      \"id\":\"myTask\",\"url\":\"https://test1.westus.batch.azure.com/jobs/ncj-windows-2012-r2-1/tasks/myTask\"\
        ,\"eTag\":\"0x8D46E6CE25085AC\",\"creationTime\":\"2017-03-19T02:08:49.8533804Z\"\
        ,\"lastModified\":\"2017-03-19T02:08:49.8533804Z\",\"state\":\"preparing\"\
        ,\"stateTransitionTime\":\"2017-03-19T02:08:52.664584Z\",\"previousState\"\
        :\"active\",\"previousStateTransitionTime\":\"2017-03-19T02:08:49.8533804Z\"\
        ,\"commandLine\":\"cmd /c \\\"cmd /c echo | set /p dummy=test & %AZ_BATCH_JOB_PREP_WORKING_DIR%\\\
        \\uploadfiles.py %errorlevel%\\\"\",\"environmentSettings\":[\r\n        {\r\
        \n          \"name\":\"AZ_BATCH_FILE_UPLOAD_CONFIG\",\"value\":\"{\\\"outputFiles\\\
        \": [{\\\"filePattern\\\": \\\"$AZ_BATCH_TASK_DIR/*.txt\\\", \\\"uploadDetails\\\
        \": {\\\"taskStatus\\\": \\\"TaskSuccess\\\"}, \\\"destination\\\": {\\\"\
        container\\\": {\\\"containerSas\\\": \\\"https://testaccountforbatch.blob.core.windows.net/fgrp-output?sv=2015-07-08&se=2017-03-26T02%3A08%3A50Z&sr=c&sig=hy0kuIGf7XoCMs%2BSE3sA/vr4Fsns1vRfxwhpv3ypHyk%3D&sp=w&st=2017-03-19T02%3A08%3A50Z\\\
        \"}}}]}\"\r\n        }\r\n      ],\"userIdentity\":{\r\n        \"autoUser\"\
        :{\r\n          \"scope\":\"task\",\"elevationLevel\":\"nonadmin\"\r\n   \
        \     }\r\n      },\"constraints\":{\r\n        \"maxWallClockTime\":\"P10675199DT2H48M5.4775807S\"\
        ,\"retentionTime\":\"PT1H\",\"maxTaskRetryCount\":0\r\n      },\"executionInfo\"\
        :{\r\n        \"startTime\":\"2017-03-19T02:08:52.664584Z\",\"retryCount\"\
        :0,\"requeueCount\":0\r\n      },\"nodeInfo\":{\r\n        \"affinityId\"\
        :\"TVM:tvm-2434664350_1-20170318t225707z\",\"nodeUrl\":\"https://test1.westus.batch.azure.com/pools/ncj-windows-2012-r2/nodes/tvm-2434664350_1-20170318t225707z\"\
        ,\"poolId\":\"ncj-windows-2012-r2\",\"nodeId\":\"tvm-2434664350_1-20170318t225707z\"\
        \r\n      }\r\n    }\r\n  ]\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Sun, 19 Mar 2017 02:09:09 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [920bdfa7-4194-40c1-9b82-42762f2aaab7]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.9.1 msrest/0.4.6
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      client-request-id: [0cdd0730-0c49-11e7-a2f9-54ee750f2fc7]
      ocp-date: ['Sun, 19 Mar 2017 02:09:14 GMT']
    method: GET
    uri: https://test1.westus.batch.azure.com/jobs/ncj-windows-2012-r2-1/tasks?api-version=2017-01-01.4.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#tasks\"\
        ,\"value\":[\r\n    {\r\n      \"id\":\"myTask\",\"url\":\"https://test1.westus.batch.azure.com/jobs/ncj-windows-2012-r2-1/tasks/myTask\"\
        ,\"eTag\":\"0x8D46E6CE25085AC\",\"creationTime\":\"2017-03-19T02:08:49.8533804Z\"\
        ,\"lastModified\":\"2017-03-19T02:08:49.8533804Z\",\"state\":\"running\",\"\
        stateTransitionTime\":\"2017-03-19T02:09:12.72484Z\",\"previousState\":\"\
        preparing\",\"previousStateTransitionTime\":\"2017-03-19T02:08:52.664584Z\"\
        ,\"commandLine\":\"cmd /c \\\"cmd /c echo | set /p dummy=test & %AZ_BATCH_JOB_PREP_WORKING_DIR%\\\
        \\uploadfiles.py %errorlevel%\\\"\",\"environmentSettings\":[\r\n        {\r\
        \n          \"name\":\"AZ_BATCH_FILE_UPLOAD_CONFIG\",\"value\":\"{\\\"outputFiles\\\
        \": [{\\\"filePattern\\\": \\\"$AZ_BATCH_TASK_DIR/*.txt\\\", \\\"uploadDetails\\\
        \": {\\\"taskStatus\\\": \\\"TaskSuccess\\\"}, \\\"destination\\\": {\\\"\
        container\\\": {\\\"containerSas\\\": \\\"https://testaccountforbatch.blob.core.windows.net/fgrp-output?sv=2015-07-08&se=2017-03-26T02%3A08%3A50Z&sr=c&sig=hy0kuIGf7XoCMs%2BSE3sA/vr4Fsns1vRfxwhpv3ypHyk%3D&sp=w&st=2017-03-19T02%3A08%3A50Z\\\
        \"}}}]}\"\r\n        }\r\n      ],\"userIdentity\":{\r\n        \"autoUser\"\
        :{\r\n          \"scope\":\"task\",\"elevationLevel\":\"nonadmin\"\r\n   \
        \     }\r\n      },\"constraints\":{\r\n        \"maxWallClockTime\":\"P10675199DT2H48M5.4775807S\"\
        ,\"retentionTime\":\"PT1H\",\"maxTaskRetryCount\":0\r\n      },\"executionInfo\"\
        :{\r\n        \"startTime\":\"2017-03-19T02:08:52.664584Z\",\"retryCount\"\
        :0,\"requeueCount\":0\r\n      },\"nodeInfo\":{\r\n        \"affinityId\"\
        :\"TVM:tvm-2434664350_1-20170318t225707z\",\"nodeUrl\":\"https://test1.westus.batch.azure.com/pools/ncj-windows-2012-r2/nodes/tvm-2434664350_1-20170318t225707z\"\
        ,\"poolId\":\"ncj-windows-2012-r2\",\"nodeId\":\"tvm-2434664350_1-20170318t225707z\"\
        ,\"taskRootDirectory\":\"workitems\\\\ncj-windows-2012-r2-1\\\\job-1\\\\myTask\"\
        ,\"taskRootDirectoryUrl\":\"https://test1.westus.batch.azure.com/pools/ncj-windows-2012-r2/nodes/tvm-2434664350_1-20170318t225707z/files/workitems/ncj-windows-2012-r2-1/job-1/myTask\"\
        \r\n      }\r\n    }\r\n  ]\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Sun, 19 Mar 2017 02:09:12 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [930f333a-5ce1-43ca-aa24-1f6ecccd1798]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.9.1 msrest/0.4.6
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      client-request-id: [0f3b911e-0c49-11e7-b901-54ee750f2fc7]
      ocp-date: ['Sun, 19 Mar 2017 02:09:18 GMT']
    method: GET
    uri: https://test1.westus.batch.azure.com/jobs/ncj-windows-2012-r2-1/tasks?api-version=2017-01-01.4.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#tasks\"\
        ,\"value\":[\r\n    {\r\n      \"id\":\"myTask\",\"url\":\"https://test1.westus.batch.azure.com/jobs/ncj-windows-2012-r2-1/tasks/myTask\"\
        ,\"eTag\":\"0x8D46E6CE25085AC\",\"creationTime\":\"2017-03-19T02:08:49.8533804Z\"\
        ,\"lastModified\":\"2017-03-19T02:08:49.8533804Z\",\"state\":\"completed\"\
        ,\"stateTransitionTime\":\"2017-03-19T02:09:14.768896Z\",\"previousState\"\
        :\"running\",\"previousStateTransitionTime\":\"2017-03-19T02:09:12.72484Z\"\
        ,\"commandLine\":\"cmd /c \\\"cmd /c echo | set /p dummy=test & %AZ_BATCH_JOB_PREP_WORKING_DIR%\\\
        \\uploadfiles.py %errorlevel%\\\"\",\"environmentSettings\":[\r\n        {\r\
        \n          \"name\":\"AZ_BATCH_FILE_UPLOAD_CONFIG\",\"value\":\"{\\\"outputFiles\\\
        \": [{\\\"filePattern\\\": \\\"$AZ_BATCH_TASK_DIR/*.txt\\\", \\\"uploadDetails\\\
        \": {\\\"taskStatus\\\": \\\"TaskSuccess\\\"}, \\\"destination\\\": {\\\"\
        container\\\": {\\\"containerSas\\\": \\\"https://testaccountforbatch.blob.core.windows.net/fgrp-output?sv=2015-07-08&se=2017-03-26T02%3A08%3A50Z&sr=c&sig=hy0kuIGf7XoCMs%2BSE3sA/vr4Fsns1vRfxwhpv3ypHyk%3D&sp=w&st=2017-03-19T02%3A08%3A50Z\\\
        \"}}}]}\"\r\n        }\r\n      ],\"userIdentity\":{\r\n        \"autoUser\"\
        :{\r\n          \"scope\":\"task\",\"elevationLevel\":\"nonadmin\"\r\n   \
        \     }\r\n      },\"constraints\":{\r\n        \"maxWallClockTime\":\"P10675199DT2H48M5.4775807S\"\
        ,\"retentionTime\":\"PT1H\",\"maxTaskRetryCount\":0\r\n      },\"executionInfo\"\
        :{\r\n        \"startTime\":\"2017-03-19T02:08:52.664584Z\",\"endTime\":\"\
        2017-03-19T02:09:14.768896Z\",\"exitCode\":0,\"retryCount\":0,\"requeueCount\"\
        :0\r\n      },\"nodeInfo\":{\r\n        \"affinityId\":\"TVM:tvm-2434664350_1-20170318t225707z\"\
        ,\"nodeUrl\":\"https://test1.westus.batch.azure.com/pools/ncj-windows-2012-r2/nodes/tvm-2434664350_1-20170318t225707z\"\
        ,\"poolId\":\"ncj-windows-2012-r2\",\"nodeId\":\"tvm-2434664350_1-20170318t225707z\"\
        ,\"taskRootDirectory\":\"workitems\\\\ncj-windows-2012-r2-1\\\\job-1\\\\myTask\"\
        ,\"taskRootDirectoryUrl\":\"https://test1.westus.batch.azure.com/pools/ncj-windows-2012-r2/nodes/tvm-2434664350_1-20170318t225707z/files/workitems/ncj-windows-2012-r2-1/job-1/myTask\"\
        \r\n      }\r\n    }\r\n  ]\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Sun, 19 Mar 2017 02:09:17 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [57d5e483-5554-4cf4-8fc5-b1be6d116302]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.9.1 msrest/0.4.6
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      client-request-id: [0fd673f6-0c49-11e7-8955-54ee750f2fc7]
      ocp-date: ['Sun, 19 Mar 2017 02:09:19 GMT']
    method: GET
    uri: https://test1.westus.batch.azure.com/jobs/ncj-windows-2012-r2-1/tasks/myTask?api-version=2017-01-01.4.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#tasks/@Element\"\
        ,\"id\":\"myTask\",\"url\":\"https://test1.westus.batch.azure.com/jobs/ncj-windows-2012-r2-1/tasks/myTask\"\
        ,\"eTag\":\"0x8D46E6CE25085AC\",\"creationTime\":\"2017-03-19T02:08:49.8533804Z\"\
        ,\"lastModified\":\"2017-03-19T02:08:49.8533804Z\",\"state\":\"completed\"\
        ,\"stateTransitionTime\":\"2017-03-19T02:09:14.768896Z\",\"previousState\"\
        :\"running\",\"previousStateTransitionTime\":\"2017-03-19T02:09:12.72484Z\"\
        ,\"commandLine\":\"cmd /c \\\"cmd /c echo | set /p dummy=test & %AZ_BATCH_JOB_PREP_WORKING_DIR%\\\
        \\uploadfiles.py %errorlevel%\\\"\",\"environmentSettings\":[\r\n    {\r\n\
        \      \"name\":\"AZ_BATCH_FILE_UPLOAD_CONFIG\",\"value\":\"{\\\"outputFiles\\\
        \": [{\\\"filePattern\\\": \\\"$AZ_BATCH_TASK_DIR/*.txt\\\", \\\"uploadDetails\\\
        \": {\\\"taskStatus\\\": \\\"TaskSuccess\\\"}, \\\"destination\\\": {\\\"\
        container\\\": {\\\"containerSas\\\": \\\"https://testaccountforbatch.blob.core.windows.net/fgrp-output?sv=2015-07-08&se=2017-03-26T02%3A08%3A50Z&sr=c&sig=hy0kuIGf7XoCMs%2BSE3sA/vr4Fsns1vRfxwhpv3ypHyk%3D&sp=w&st=2017-03-19T02%3A08%3A50Z\\\
        \"}}}]}\"\r\n    }\r\n  ],\"userIdentity\":{\r\n    \"autoUser\":{\r\n   \
        \   \"scope\":\"task\",\"elevationLevel\":\"nonadmin\"\r\n    }\r\n  },\"\
        constraints\":{\r\n    \"maxWallClockTime\":\"P10675199DT2H48M5.4775807S\"\
        ,\"retentionTime\":\"PT1H\",\"maxTaskRetryCount\":0\r\n  },\"executionInfo\"\
        :{\r\n    \"startTime\":\"2017-03-19T02:08:52.664584Z\",\"endTime\":\"2017-03-19T02:09:14.768896Z\"\
        ,\"exitCode\":0,\"retryCount\":0,\"requeueCount\":0\r\n  },\"nodeInfo\":{\r\
        \n    \"affinityId\":\"TVM:tvm-2434664350_1-20170318t225707z\",\"nodeUrl\"\
        :\"https://test1.westus.batch.azure.com/pools/ncj-windows-2012-r2/nodes/tvm-2434664350_1-20170318t225707z\"\
        ,\"poolId\":\"ncj-windows-2012-r2\",\"nodeId\":\"tvm-2434664350_1-20170318t225707z\"\
        ,\"taskRootDirectory\":\"workitems\\\\ncj-windows-2012-r2-1\\\\job-1\\\\myTask\"\
        ,\"taskRootDirectoryUrl\":\"https://test1.westus.batch.azure.com/pools/ncj-windows-2012-r2/nodes/tvm-2434664350_1-20170318t225707z/files/workitems/ncj-windows-2012-r2-1/job-1/myTask\"\
        \r\n  }\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Sun, 19 Mar 2017 02:09:16 GMT']
      ETag: ['0x8D46E6CE25085AC']
      Last-Modified: ['Sun, 19 Mar 2017 02:08:49 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [61168a5a-8d82-45ac-b211-8a4c9e3d8a55]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Connection: [keep-alive]
      User-Agent: [Azure-Storage/0.33.0 (Python CPython 3.5.1; Windows 8.1)]
      x-ms-client-request-id: [100991c2-0c49-11e7-bf2c-54ee750f2fc7]
      x-ms-date: ['Sun, 19 Mar 2017 02:09:19 GMT']
      x-ms-version: ['2015-07-08']
    method: GET
    uri: https://testaccountforbatch.blob.core.windows.net/fgrp-output?restype=container&comp=list
  response:
    body: {string: "\uFEFF<?xml version=\"1.0\" encoding=\"utf-8\"?><EnumerationResults\
        \ ServiceEndpoint=\"https://testaccountforbatch.blob.core.windows.net/\"\
        \ ContainerName=\"fgrp-output\"><Blobs><Blob><Name>stderr.txt</Name><Properties><Last-Modified>Sun,\
        \ 19 Mar 2017 02:09:14 GMT</Last-Modified><Etag>0x8D46E6CF0D1002C</Etag><Content-Length>0</Content-Length><Content-Type>application/octet-stream</Content-Type><Content-Encoding\
        \ /><Content-Language /><Content-MD5 /><Cache-Control /><Content-Disposition\
        \ /><BlobType>BlockBlob</BlobType><LeaseStatus>unlocked</LeaseStatus><LeaseState>available</LeaseState></Properties></Blob><Blob><Name>stdout.txt</Name><Properties><Last-Modified>Sun,\
        \ 19 Mar 2017 02:09:14 GMT</Last-Modified><Etag>0x8D46E6CF0D2872F</Etag><Content-Length>5</Content-Length><Content-Type>application/octet-stream</Content-Type><Content-Encoding\
        \ /><Content-Language /><Content-MD5>orLWaTix8CPexjlPEreCtQ==</Content-MD5><Cache-Control\
        \ /><Content-Disposition /><BlobType>BlockBlob</BlobType><LeaseStatus>unlocked</LeaseStatus><LeaseState>available</LeaseState></Properties></Blob><Blob><Name>uploadlog.txt</Name><Properties><Last-Modified>Sun,\
        \ 19 Mar 2017 02:09:14 GMT</Last-Modified><Etag>0x8D46E6CF0D40E45</Etag><Content-Length>1106</Content-Length><Content-Type>application/octet-stream</Content-Type><Content-Encoding\
        \ /><Content-Language /><Content-MD5>tcB7mYivOqsbCI5ZyOXDIQ==</Content-MD5><Cache-Control\
        \ /><Content-Disposition /><BlobType>BlockBlob</BlobType><LeaseStatus>unlocked</LeaseStatus><LeaseState>available</LeaseState></Properties></Blob></Blobs><NextMarker\
        \ /></EnumerationResults>"}
    headers:
      Content-Type: [application/xml]
      Date: ['Sun, 19 Mar 2017 02:09:17 GMT']
      Server: [Windows-Azure-Blob/1.0 Microsoft-HTTPAPI/2.0]
      Transfer-Encoding: [chunked]
      x-ms-version: ['2015-07-08']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.9.1 msrest/0.4.6
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      client-request-id: [10147a5c-0c49-11e7-b53e-54ee750f2fc7]
      ocp-date: ['Sun, 19 Mar 2017 02:09:20 GMT']
    method: DELETE
    uri: https://test1.westus.batch.azure.com/jobs/ncj-windows-2012-r2-1?api-version=2017-01-01.4.0
  response:
    body: {string: ''}
    headers:
      DataServiceVersion: ['3.0']
      Date: ['Sun, 19 Mar 2017 02:09:17 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [d4130343-547c-4b8a-bbfa-9c8d3bb2a01b]
    status: {code: 202, message: Accepted}
- request:
    body: null
    headers:
      Connection: [keep-alive]
      User-Agent: [Azure-Storage/0.33.0 (Python CPython 3.5.1; Windows 8.1)]
      x-ms-client-request-id: [10465cda-0c49-11e7-845d-54ee750f2fc7]
      x-ms-date: ['Sun, 19 Mar 2017 02:09:20 GMT']
      x-ms-version: ['2015-07-08']
    method: GET
    uri: https://testaccountforbatch.blob.core.windows.net/aaatestcontainer?restype=container&comp=list
  response:
    body: {string: "\uFEFF<?xml version=\"1.0\" encoding=\"utf-8\"?><EnumerationResults\
        \ ServiceEndpoint=\"https://testaccountforbatch.blob.core.windows.net/\"\
        \ ContainerName=\"aaatestcontainer\"><Blobs><Blob><Name>stderr.txt</Name><Properties><Last-Modified>Sun,\
        \ 19 Mar 2017 02:08:25 GMT</Last-Modified><Etag>0x8D46E6CD3976817</Etag><Content-Length>0</Content-Length><Content-Type>application/octet-stream</Content-Type><Content-Encoding\
        \ /><Content-Language /><Content-MD5 /><Cache-Control /><Content-Disposition\
        \ /><BlobType>BlockBlob</BlobType><LeaseStatus>unlocked</LeaseStatus><LeaseState>available</LeaseState></Properties></Blob><Blob><Name>stdout.txt</Name><Properties><Last-Modified>Sun,\
        \ 19 Mar 2017 02:08:25 GMT</Last-Modified><Etag>0x8D46E6CD398EF23</Etag><Content-Length>5</Content-Length><Content-Type>application/octet-stream</Content-Type><Content-Encoding\
        \ /><Content-Language /><Content-MD5>orLWaTix8CPexjlPEreCtQ==</Content-MD5><Cache-Control\
        \ /><Content-Disposition /><BlobType>BlockBlob</BlobType><LeaseStatus>unlocked</LeaseStatus><LeaseState>available</LeaseState></Properties></Blob><Blob><Name>uploadlog.txt</Name><Properties><Last-Modified>Sun,\
        \ 19 Mar 2017 02:08:25 GMT</Last-Modified><Etag>0x8D46E6CD39DAB3B</Etag><Content-Length>1112</Content-Length><Content-Type>application/octet-stream</Content-Type><Content-Encoding\
        \ /><Content-Language /><Content-MD5>abJGFPAqbT7E1SK5xiMlsw==</Content-MD5><Cache-Control\
        \ /><Content-Disposition /><BlobType>BlockBlob</BlobType><LeaseStatus>unlocked</LeaseStatus><LeaseState>available</LeaseState></Properties></Blob></Blobs><NextMarker\
        \ /></EnumerationResults>"}
    headers:
      Content-Type: [application/xml]
      Date: ['Sun, 19 Mar 2017 02:09:17 GMT']
      Server: [Windows-Azure-Blob/1.0 Microsoft-HTTPAPI/2.0]
      Transfer-Encoding: [chunked]
      x-ms-version: ['2015-07-08']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Connection: [keep-alive]
      Content-Length: ['0']
      User-Agent: [Azure-Storage/0.33.0 (Python CPython 3.5.1; Windows 8.1)]
      x-ms-client-request-id: [104fd288-0c49-11e7-9a07-54ee750f2fc7]
      x-ms-date: ['Sun, 19 Mar 2017 02:09:20 GMT']
      x-ms-version: ['2015-07-08']
    method: DELETE
    uri: https://testaccountforbatch.blob.core.windows.net/aaatestcontainer/stderr.txt
  response:
    body: {string: ''}
    headers:
      Date: ['Sun, 19 Mar 2017 02:09:17 GMT']
      Server: [Windows-Azure-Blob/1.0 Microsoft-HTTPAPI/2.0]
      Transfer-Encoding: [chunked]
      x-ms-version: ['2015-07-08']
    status: {code: 202, message: Accepted}
- request:
    body: null
    headers:
      Connection: [keep-alive]
      Content-Length: ['0']
      User-Agent: [Azure-Storage/0.33.0 (Python CPython 3.5.1; Windows 8.1)]
      x-ms-client-request-id: [105aa7d0-0c49-11e7-a83c-54ee750f2fc7]
      x-ms-date: ['Sun, 19 Mar 2017 02:09:20 GMT']
      x-ms-version: ['2015-07-08']
    method: DELETE
    uri: https://testaccountforbatch.blob.core.windows.net/aaatestcontainer/stdout.txt
  response:
    body: {string: ''}
    headers:
      Date: ['Sun, 19 Mar 2017 02:09:17 GMT']
      Server: [Windows-Azure-Blob/1.0 Microsoft-HTTPAPI/2.0]
      Transfer-Encoding: [chunked]
      x-ms-version: ['2015-07-08']
    status: {code: 202, message: Accepted}
- request:
    body: null
    headers:
      Connection: [keep-alive]
      Content-Length: ['0']
      User-Agent: [Azure-Storage/0.33.0 (Python CPython 3.5.1; Windows 8.1)]
      x-ms-client-request-id: [10630b26-0c49-11e7-b4cb-54ee750f2fc7]
      x-ms-date: ['Sun, 19 Mar 2017 02:09:20 GMT']
      x-ms-version: ['2015-07-08']
    method: DELETE
    uri: https://testaccountforbatch.blob.core.windows.net/aaatestcontainer/uploadlog.txt
  response:
    body: {string: ''}
    headers:
      Date: ['Sun, 19 Mar 2017 02:09:18 GMT']
      Server: [Windows-Azure-Blob/1.0 Microsoft-HTTPAPI/2.0]
      Transfer-Encoding: [chunked]
      x-ms-version: ['2015-07-08']
    status: {code: 202, message: Accepted}
- request:
    body: '{"id": "ncj-windows-paas", "vmSize": "STANDARD_D1_V2", "targetDedicated":
      1, "cloudServiceConfiguration": {"osFamily": "4"}}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['124']
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.9.1 msrest/0.4.6
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      client-request-id: [106cafa8-0c49-11e7-a3ad-54ee750f2fc7]
      ocp-date: ['Sun, 19 Mar 2017 02:09:20 GMT']
    method: POST
    uri: https://test1.westus.batch.azure.com/pools?api-version=2017-01-01.4.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#Microsoft.Azure.Batch.Protocol.Entities.Container.errors/@Element\"\
        ,\"code\":\"PoolExists\",\"message\":{\r\n    \"lang\":\"en-US\",\"value\"\
        :\"The specified pool already exists.\\nRequestId:434d9a3a-dc0a-4c85-b038-e228d5313ee4\\\
        nTime:2017-03-19T02:09:19.3523641Z\"\r\n  }\r\n}"}
    headers:
      Content-Length: ['337']
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Sun, 19 Mar 2017 02:09:18 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      X-Content-Type-Options: [nosniff]
      request-id: [434d9a3a-dc0a-4c85-b038-e228d5313ee4]
    status: {code: 409, message: The specified pool already exists.}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.9.1 msrest/0.4.6
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      client-request-id: [110750b4-0c49-11e7-9159-54ee750f2fc7]
      ocp-date: ['Sun, 19 Mar 2017 02:09:21 GMT']
    method: GET
    uri: https://test1.westus.batch.azure.com/pools/ncj-windows-paas?api-version=2017-01-01.4.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#pools/@Element\"\
        ,\"id\":\"ncj-windows-paas\",\"url\":\"https://test1.westus.batch.azure.com/pools/ncj-windows-paas\"\
        ,\"eTag\":\"0x8D46E55CFE30000\",\"lastModified\":\"2017-03-18T23:23:40.5118464Z\"\
        ,\"creationTime\":\"2017-03-18T23:23:40.5118464Z\",\"state\":\"active\",\"\
        stateTransitionTime\":\"2017-03-18T23:23:40.5118464Z\",\"allocationState\"\
        :\"steady\",\"allocationStateTransitionTime\":\"2017-03-18T23:24:45.7146862Z\"\
        ,\"vmSize\":\"standard_d1_v2\",\"resizeTimeout\":\"PT15M\",\"currentDedicated\"\
        :1,\"targetDedicated\":1,\"enableAutoScale\":false,\"enableInterNodeCommunication\"\
        :false,\"maxTasksPerNode\":1,\"taskSchedulingPolicy\":{\r\n    \"nodeFillType\"\
        :\"Spread\"\r\n  },\"cloudServiceConfiguration\":{\r\n    \"osFamily\":\"\
        4\",\"targetOSVersion\":\"*\",\"currentOSVersion\":\"*\"\r\n  }\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Sun, 19 Mar 2017 02:09:21 GMT']
      ETag: ['0x8D46E55CFE30000']
      Last-Modified: ['Sat, 18 Mar 2017 23:23:40 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [6eb38b04-c59d-43e5-b8c6-c512dfe6719e]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.9.1 msrest/0.4.6
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      client-request-id: [113b0bbe-0c49-11e7-ae9b-54ee750f2fc7]
      ocp-date: ['Sun, 19 Mar 2017 02:09:21 GMT']
    method: GET
    uri: https://test1.westus.batch.azure.com/pools/ncj-windows-paas/nodes?api-version=2017-01-01.4.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#nodes\"\
        ,\"value\":[\r\n    {\r\n      \"id\":\"tvm-2434664350_1-20170318t232444z\"\
        ,\"url\":\"https://test1.westus.batch.azure.com/pools/ncj-windows-paas/nodes/tvm-2434664350_1-20170318t232444z\"\
        ,\"state\":\"idle\",\"schedulingState\":\"enabled\",\"stateTransitionTime\"\
        :\"2017-03-18T23:27:15.4664588Z\",\"lastBootTime\":\"2017-03-18T23:27:14.9131154Z\"\
        ,\"allocationTime\":\"2017-03-18T23:24:44.1973382Z\",\"ipAddress\":\"100.111.52.51\"\
        ,\"affinityId\":\"TVM:tvm-2434664350_1-20170318t232444z\",\"vmSize\":\"standard_d1_v2\"\
        ,\"totalTasksRun\":1,\"totalTasksSucceeded\":1,\"runningTasksCount\":0\r\n\
        \    }\r\n  ]\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Sun, 19 Mar 2017 02:09:20 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [d4286510-8f02-4871-a25f-fbf847603380]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: ['python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.9.1 msrest/0.4.6
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python batch-extensions:v1.0.0RC']
      accept-language: [en-US]
      client-request-id: [118a6558-0c49-11e7-a4f6-54ee750f2fc7]
      ocp-date: ['Sun, 19 Mar 2017 02:09:22 GMT']
    method: GET
    uri: https://test1.westus.batch.azure.com/pools/ncj-windows-paas?api-version=2017-01-01.4.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#pools/@Element\"\
        ,\"id\":\"ncj-windows-paas\",\"url\":\"https://test1.westus.batch.azure.com/pools/ncj-windows-paas\"\
        ,\"eTag\":\"0x8D46E55CFE30000\",\"lastModified\":\"2017-03-18T23:23:40.5118464Z\"\
        ,\"creationTime\":\"2017-03-18T23:23:40.5118464Z\",\"state\":\"active\",\"\
        stateTransitionTime\":\"2017-03-18T23:23:40.5118464Z\",\"allocationState\"\
        :\"steady\",\"allocationStateTransitionTime\":\"2017-03-18T23:24:45.7146862Z\"\
        ,\"vmSize\":\"standard_d1_v2\",\"resizeTimeout\":\"PT15M\",\"currentDedicated\"\
        :1,\"targetDedicated\":1,\"enableAutoScale\":false,\"enableInterNodeCommunication\"\
        :false,\"maxTasksPerNode\":1,\"taskSchedulingPolicy\":{\r\n    \"nodeFillType\"\
        :\"Spread\"\r\n  },\"cloudServiceConfiguration\":{\r\n    \"osFamily\":\"\
        4\",\"targetOSVersion\":\"*\",\"currentOSVersion\":\"*\"\r\n  }\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Sun, 19 Mar 2017 02:09:20 GMT']
      ETag: ['0x8D46E55CFE30000']
      Last-Modified: ['Sat, 18 Mar 2017 23:23:40 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [ba18bebf-2784-4669-92f6-1a3e275c3244]
    status: {code: 200, message: OK}
- request:
    body: '{"id": "ncj-windows-paas", "poolInfo": {"poolId": "ncj-windows-paas"},
      "jobPreparationTask": {"commandLine": "cmd.exe /c \"(bootstrap.cmd && setup_uploader.py)
      > setuplog.txt 2>&1\"", "userIdentity": {"autoUser": {"elevationLevel": "admin"}},
      "waitForSuccess": true, "resourceFiles": [{"blobSource": "https://raw.githubusercontent.com/annatisch/azure-batch-cli-extensions/master/azure/cli/command_modules/batch_extensions/fileegress/util.py",
      "filePath": "util.py"}, {"blobSource": "https://raw.githubusercontent.com/annatisch/azure-batch-cli-extensions/master/azure/cli/command_modules/batch_extensions/fileegress/uploader.py",
      "filePath": "uploader.py"}, {"blobSource": "https://raw.githubusercontent.com/annatisch/azure-batch-cli-extensions/master/azure/cli/command_modules/batch_extensions/fileegress/uploadfiles.py",
      "filePath": "uploadfiles.py"}, {"blobSource": "https://raw.githubusercontent.com/annatisch/azure-batch-cli-extensions/master/azure/cli/command_modules/batch_extensions/fileegress/batchfileuploader.py",
      "filePath": "batchfileuploader.py"}, {"blobSource": "https://raw.githubusercontent.com/annatisch/azure-batch-cli-extensions/master/azure/cli/command_modules/batch_extensions/fileegress/setup_uploader.py",
      "filePath": "setup_uploader.py"}, {"blobSource": "https://raw.githubusercontent.com/annatisch/azure-batch-cli-extensions/master/azure/cli/command_modules/batch_extensions/fileegress/configuration.py",
      "filePath": "configuration.py"}, {"blobSource": "https://raw.githubusercontent.com/annatisch/azure-batch-cli-extensions/master/azure/cli/command_modules/batch_extensions/fileegress/requirements.txt",
      "filePath": "requirements.txt"}, {"blobSource": "https://raw.githubusercontent.com/annatisch/azure-batch-cli-extensions/master/azure/cli/command_modules/batch_extensions/fileegress/bootstrap.cmd",
      "filePath": "bootstrap.cmd"}]}}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['1858']
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: ['python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.9.1 msrest/0.4.6
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python batch-extensions:v1.0.0RC']
      accept-language: [en-US]
      client-request-id: [11aabf08-0c49-11e7-ba6b-54ee750f2fc7]
      ocp-date: ['Sun, 19 Mar 2017 02:09:22 GMT']
      return-client-request-id: ['false']
    method: POST
    uri: https://test1.westus.batch.azure.com/jobs?api-version=2017-01-01.4.0&timeout=30
  response:
    body: {string: ''}
    headers:
      DataServiceId: ['https://test1.westus.batch.azure.com/jobs/job-1']
      DataServiceVersion: ['3.0']
      Date: ['Sun, 19 Mar 2017 02:09:21 GMT']
      ETag: ['0x8D46E6CF4AF691C']
      Last-Modified: ['Sun, 19 Mar 2017 02:09:20 GMT']
      Location: ['https://test1.westus.batch.azure.com/jobs/job-1']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [0d61b0bd-c690-43aa-8d73-92ae925a9cdb]
    status: {code: 201, message: Created}
- request:
    body: '{"value": [{"commandLine": "cmd /c \"cmd /c echo | set /p dummy=test &
      %AZ_BATCH_JOB_PREP_WORKING_DIR%\\uploadfiles.py %errorlevel%\"", "environmentSettings":
      [{"name": "AZ_BATCH_FILE_UPLOAD_CONFIG", "value": "{\"outputFiles\": [{\"filePattern\":
      \"$AZ_BATCH_TASK_DIR/*.txt\", \"uploadDetails\": {\"taskStatus\": \"TaskSuccess\"},
      \"destination\": {\"container\": {\"containerSas\": \"https://testaccountforbatch.blob.core.windows.net/aaatestcontainer?sv=2015-07-08&se=2017-03-20T02%3A07%3A38Z&sr=c&sig=3MEEVOY/iDHkPd4qaLCHkALPRGWSoHAomyolI5%2BLQk8%3D&sp=rw&st=2017-03-19T02%3A07%3A38Z\"}}}]}"}],
      "id": "myTask", "constraints": {"retentionTime": "PT1H"}}]}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['657']
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: ['python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.9.1 msrest/0.4.6
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python batch-extensions:v1.0.0RC']
      accept-language: [en-US]
      client-request-id: [11d419a2-0c49-11e7-813d-54ee750f2fc7]
      ocp-date: ['Sun, 19 Mar 2017 02:09:22 GMT']
    method: POST
    uri: https://test1.westus.batch.azure.com/jobs/ncj-windows-paas/addtaskcollection?api-version=2017-01-01.4.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#taskaddresult\"\
        ,\"value\":[\r\n    {\r\n      \"status\":\"Success\",\"taskId\":\"myTask\"\
        ,\"eTag\":\"0x8D46E6CF4A4DCEB\",\"lastModified\":\"2017-03-19T02:09:20.6051051Z\"\
        ,\"location\":\"https://test1.westus.batch.azure.com/jobs/ncj-windows-paas/tasks/myTask\"\
        \r\n    }\r\n  ]\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Sun, 19 Mar 2017 02:09:19 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [9554bf28-92f3-486e-98b7-c993590fe53a]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.9.1 msrest/0.4.6
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      client-request-id: [11f81cda-0c49-11e7-8d24-54ee750f2fc7]
      ocp-date: ['Sun, 19 Mar 2017 02:09:23 GMT']
    method: GET
    uri: https://test1.westus.batch.azure.com/jobs/ncj-windows-paas?api-version=2017-01-01.4.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#jobs/@Element\"\
        ,\"id\":\"ncj-windows-paas\",\"url\":\"https://test1.westus.batch.azure.com/jobs/ncj-windows-paas\"\
        ,\"eTag\":\"0x8D46E6CF4AF691C\",\"lastModified\":\"2017-03-19T02:09:20.67423Z\"\
        ,\"creationTime\":\"2017-03-19T02:09:20.6412457Z\",\"state\":\"active\",\"\
        stateTransitionTime\":\"2017-03-19T02:09:20.67423Z\",\"priority\":0,\"usesTaskDependencies\"\
        :false,\"constraints\":{\r\n    \"maxWallClockTime\":\"P10675199DT2H48M5.4775807S\"\
        ,\"maxTaskRetryCount\":0\r\n  },\"jobPreparationTask\":{\r\n    \"id\":\"\
        jobpreparation\",\"commandLine\":\"cmd.exe /c \\\"(bootstrap.cmd && setup_uploader.py)\
        \ > setuplog.txt 2>&1\\\"\",\"resourceFiles\":[\r\n      {\r\n        \"blobSource\"\
        :\"https://raw.githubusercontent.com/annatisch/azure-batch-cli-extensions/master/azure/cli/command_modules/batch_extensions/fileegress/util.py\"\
        ,\"filePath\":\"util.py\"\r\n      },{\r\n        \"blobSource\":\"https://raw.githubusercontent.com/annatisch/azure-batch-cli-extensions/master/azure/cli/command_modules/batch_extensions/fileegress/uploader.py\"\
        ,\"filePath\":\"uploader.py\"\r\n      },{\r\n        \"blobSource\":\"https://raw.githubusercontent.com/annatisch/azure-batch-cli-extensions/master/azure/cli/command_modules/batch_extensions/fileegress/uploadfiles.py\"\
        ,\"filePath\":\"uploadfiles.py\"\r\n      },{\r\n        \"blobSource\":\"\
        https://raw.githubusercontent.com/annatisch/azure-batch-cli-extensions/master/azure/cli/command_modules/batch_extensions/fileegress/batchfileuploader.py\"\
        ,\"filePath\":\"batchfileuploader.py\"\r\n      },{\r\n        \"blobSource\"\
        :\"https://raw.githubusercontent.com/annatisch/azure-batch-cli-extensions/master/azure/cli/command_modules/batch_extensions/fileegress/setup_uploader.py\"\
        ,\"filePath\":\"setup_uploader.py\"\r\n      },{\r\n        \"blobSource\"\
        :\"https://raw.githubusercontent.com/annatisch/azure-batch-cli-extensions/master/azure/cli/command_modules/batch_extensions/fileegress/configuration.py\"\
        ,\"filePath\":\"configuration.py\"\r\n      },{\r\n        \"blobSource\"\
        :\"https://raw.githubusercontent.com/annatisch/azure-batch-cli-extensions/master/azure/cli/command_modules/batch_extensions/fileegress/requirements.txt\"\
        ,\"filePath\":\"requirements.txt\"\r\n      },{\r\n        \"blobSource\"\
        :\"https://raw.githubusercontent.com/annatisch/azure-batch-cli-extensions/master/azure/cli/command_modules/batch_extensions/fileegress/bootstrap.cmd\"\
        ,\"filePath\":\"bootstrap.cmd\"\r\n      }\r\n    ],\"constraints\":{\r\n\
        \      \"maxWallClockTime\":\"P10675199DT2H48M5.4775807S\",\"retentionTime\"\
        :\"P10675199DT2H48M5.4775807S\",\"maxTaskRetryCount\":0\r\n    },\"userIdentity\"\
        :{\r\n      \"autoUser\":{\r\n        \"scope\":\"task\",\"elevationLevel\"\
        :\"admin\"\r\n      }\r\n    },\"waitForSuccess\":true,\"rerunOnNodeRebootAfterSuccess\"\
        :true\r\n  },\"poolInfo\":{\r\n    \"poolId\":\"ncj-windows-paas\"\r\n  },\"\
        executionInfo\":{\r\n    \"startTime\":\"2017-03-19T02:09:20.67423Z\",\"poolId\"\
        :\"ncj-windows-paas\"\r\n  },\"onAllTasksComplete\":\"noaction\",\"onTaskFailure\"\
        :\"noaction\"\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Sun, 19 Mar 2017 02:09:20 GMT']
      ETag: ['0x8D46E6CF4AF691C']
      Last-Modified: ['Sun, 19 Mar 2017 02:09:20 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [fc8f73cb-c0c7-4d15-b152-2f06d778eaa4]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.9.1 msrest/0.4.6
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      client-request-id: [1217b342-0c49-11e7-8ab9-54ee750f2fc7]
      ocp-date: ['Sun, 19 Mar 2017 02:09:23 GMT']
    method: GET
    uri: https://test1.westus.batch.azure.com/jobs/ncj-windows-paas/tasks?api-version=2017-01-01.4.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#tasks\"\
        ,\"value\":[\r\n    {\r\n      \"id\":\"myTask\",\"url\":\"https://test1.westus.batch.azure.com/jobs/ncj-windows-paas/tasks/myTask\"\
        ,\"eTag\":\"0x8D46E6CF4A4DCEB\",\"creationTime\":\"2017-03-19T02:09:20.6051051Z\"\
        ,\"lastModified\":\"2017-03-19T02:09:20.6051051Z\",\"state\":\"active\",\"\
        stateTransitionTime\":\"2017-03-19T02:09:20.6051051Z\",\"commandLine\":\"\
        cmd /c \\\"cmd /c echo | set /p dummy=test & %AZ_BATCH_JOB_PREP_WORKING_DIR%\\\
        \\uploadfiles.py %errorlevel%\\\"\",\"environmentSettings\":[\r\n        {\r\
        \n          \"name\":\"AZ_BATCH_FILE_UPLOAD_CONFIG\",\"value\":\"{\\\"outputFiles\\\
        \": [{\\\"filePattern\\\": \\\"$AZ_BATCH_TASK_DIR/*.txt\\\", \\\"uploadDetails\\\
        \": {\\\"taskStatus\\\": \\\"TaskSuccess\\\"}, \\\"destination\\\": {\\\"\
        container\\\": {\\\"containerSas\\\": \\\"https://testaccountforbatch.blob.core.windows.net/aaatestcontainer?sv=2015-07-08&se=2017-03-20T02%3A07%3A38Z&sr=c&sig=3MEEVOY/iDHkPd4qaLCHkALPRGWSoHAomyolI5%2BLQk8%3D&sp=rw&st=2017-03-19T02%3A07%3A38Z\\\
        \"}}}]}\"\r\n        }\r\n      ],\"userIdentity\":{\r\n        \"autoUser\"\
        :{\r\n          \"scope\":\"task\",\"elevationLevel\":\"nonadmin\"\r\n   \
        \     }\r\n      },\"constraints\":{\r\n        \"maxWallClockTime\":\"P10675199DT2H48M5.4775807S\"\
        ,\"retentionTime\":\"PT1H\",\"maxTaskRetryCount\":0\r\n      },\"executionInfo\"\
        :{\r\n        \"retryCount\":0,\"requeueCount\":0\r\n      }\r\n    }\r\n\
        \  ]\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Sun, 19 Mar 2017 02:09:23 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [273c088e-c78d-4901-a115-1e483957877d]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.9.1 msrest/0.4.6
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      client-request-id: [140b7b5e-0c49-11e7-8855-54ee750f2fc7]
      ocp-date: ['Sun, 19 Mar 2017 02:09:26 GMT']
    method: GET
    uri: https://test1.westus.batch.azure.com/jobs/ncj-windows-paas/tasks?api-version=2017-01-01.4.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#tasks\"\
        ,\"value\":[\r\n    {\r\n      \"id\":\"myTask\",\"url\":\"https://test1.westus.batch.azure.com/jobs/ncj-windows-paas/tasks/myTask\"\
        ,\"eTag\":\"0x8D46E6CF4A4DCEB\",\"creationTime\":\"2017-03-19T02:09:20.6051051Z\"\
        ,\"lastModified\":\"2017-03-19T02:09:20.6051051Z\",\"state\":\"preparing\"\
        ,\"stateTransitionTime\":\"2017-03-19T02:09:21.733302Z\",\"previousState\"\
        :\"active\",\"previousStateTransitionTime\":\"2017-03-19T02:09:20.6051051Z\"\
        ,\"commandLine\":\"cmd /c \\\"cmd /c echo | set /p dummy=test & %AZ_BATCH_JOB_PREP_WORKING_DIR%\\\
        \\uploadfiles.py %errorlevel%\\\"\",\"environmentSettings\":[\r\n        {\r\
        \n          \"name\":\"AZ_BATCH_FILE_UPLOAD_CONFIG\",\"value\":\"{\\\"outputFiles\\\
        \": [{\\\"filePattern\\\": \\\"$AZ_BATCH_TASK_DIR/*.txt\\\", \\\"uploadDetails\\\
        \": {\\\"taskStatus\\\": \\\"TaskSuccess\\\"}, \\\"destination\\\": {\\\"\
        container\\\": {\\\"containerSas\\\": \\\"https://testaccountforbatch.blob.core.windows.net/aaatestcontainer?sv=2015-07-08&se=2017-03-20T02%3A07%3A38Z&sr=c&sig=3MEEVOY/iDHkPd4qaLCHkALPRGWSoHAomyolI5%2BLQk8%3D&sp=rw&st=2017-03-19T02%3A07%3A38Z\\\
        \"}}}]}\"\r\n        }\r\n      ],\"userIdentity\":{\r\n        \"autoUser\"\
        :{\r\n          \"scope\":\"task\",\"elevationLevel\":\"nonadmin\"\r\n   \
        \     }\r\n      },\"constraints\":{\r\n        \"maxWallClockTime\":\"P10675199DT2H48M5.4775807S\"\
        ,\"retentionTime\":\"PT1H\",\"maxTaskRetryCount\":0\r\n      },\"executionInfo\"\
        :{\r\n        \"startTime\":\"2017-03-19T02:09:21.733302Z\",\"retryCount\"\
        :0,\"requeueCount\":0\r\n      },\"nodeInfo\":{\r\n        \"affinityId\"\
        :\"TVM:tvm-2434664350_1-20170318t232444z\",\"nodeUrl\":\"https://test1.westus.batch.azure.com/pools/ncj-windows-paas/nodes/tvm-2434664350_1-20170318t232444z\"\
        ,\"poolId\":\"ncj-windows-paas\",\"nodeId\":\"tvm-2434664350_1-20170318t232444z\"\
        ,\"taskRootDirectory\":\"workitems\\\\ncj-windows-paas\\\\job-1\\\\mytask\"\
        ,\"taskRootDirectoryUrl\":\"https://test1.westus.batch.azure.com/pools/ncj-windows-paas/nodes/tvm-2434664350_1-20170318t232444z/files/workitems/ncj-windows-paas/job-1/mytask\"\
        \r\n      }\r\n    }\r\n  ]\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Sun, 19 Mar 2017 02:09:25 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [dfebe2a3-6d3d-4679-bc14-7c00bc91becf]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.9.1 msrest/0.4.6
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      client-request-id: [1675a530-0c49-11e7-938b-54ee750f2fc7]
      ocp-date: ['Sun, 19 Mar 2017 02:09:30 GMT']
    method: GET
    uri: https://test1.westus.batch.azure.com/jobs/ncj-windows-paas/tasks?api-version=2017-01-01.4.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#tasks\"\
        ,\"value\":[\r\n    {\r\n      \"id\":\"myTask\",\"url\":\"https://test1.westus.batch.azure.com/jobs/ncj-windows-paas/tasks/myTask\"\
        ,\"eTag\":\"0x8D46E6CF4A4DCEB\",\"creationTime\":\"2017-03-19T02:09:20.6051051Z\"\
        ,\"lastModified\":\"2017-03-19T02:09:20.6051051Z\",\"state\":\"preparing\"\
        ,\"stateTransitionTime\":\"2017-03-19T02:09:21.733302Z\",\"previousState\"\
        :\"active\",\"previousStateTransitionTime\":\"2017-03-19T02:09:20.6051051Z\"\
        ,\"commandLine\":\"cmd /c \\\"cmd /c echo | set /p dummy=test & %AZ_BATCH_JOB_PREP_WORKING_DIR%\\\
        \\uploadfiles.py %errorlevel%\\\"\",\"environmentSettings\":[\r\n        {\r\
        \n          \"name\":\"AZ_BATCH_FILE_UPLOAD_CONFIG\",\"value\":\"{\\\"outputFiles\\\
        \": [{\\\"filePattern\\\": \\\"$AZ_BATCH_TASK_DIR/*.txt\\\", \\\"uploadDetails\\\
        \": {\\\"taskStatus\\\": \\\"TaskSuccess\\\"}, \\\"destination\\\": {\\\"\
        container\\\": {\\\"containerSas\\\": \\\"https://testaccountforbatch.blob.core.windows.net/aaatestcontainer?sv=2015-07-08&se=2017-03-20T02%3A07%3A38Z&sr=c&sig=3MEEVOY/iDHkPd4qaLCHkALPRGWSoHAomyolI5%2BLQk8%3D&sp=rw&st=2017-03-19T02%3A07%3A38Z\\\
        \"}}}]}\"\r\n        }\r\n      ],\"userIdentity\":{\r\n        \"autoUser\"\
        :{\r\n          \"scope\":\"task\",\"elevationLevel\":\"nonadmin\"\r\n   \
        \     }\r\n      },\"constraints\":{\r\n        \"maxWallClockTime\":\"P10675199DT2H48M5.4775807S\"\
        ,\"retentionTime\":\"PT1H\",\"maxTaskRetryCount\":0\r\n      },\"executionInfo\"\
        :{\r\n        \"startTime\":\"2017-03-19T02:09:21.733302Z\",\"retryCount\"\
        :0,\"requeueCount\":0\r\n      },\"nodeInfo\":{\r\n        \"affinityId\"\
        :\"TVM:tvm-2434664350_1-20170318t232444z\",\"nodeUrl\":\"https://test1.westus.batch.azure.com/pools/ncj-windows-paas/nodes/tvm-2434664350_1-20170318t232444z\"\
        ,\"poolId\":\"ncj-windows-paas\",\"nodeId\":\"tvm-2434664350_1-20170318t232444z\"\
        ,\"taskRootDirectory\":\"workitems\\\\ncj-windows-paas\\\\job-1\\\\mytask\"\
        ,\"taskRootDirectoryUrl\":\"https://test1.westus.batch.azure.com/pools/ncj-windows-paas/nodes/tvm-2434664350_1-20170318t232444z/files/workitems/ncj-windows-paas/job-1/mytask\"\
        \r\n      }\r\n    }\r\n  ]\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Sun, 19 Mar 2017 02:09:28 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [0fc04aee-aa85-44fb-8990-1308eb7a3f56]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.9.1 msrest/0.4.6
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      client-request-id: [18f78cc0-0c49-11e7-9e26-54ee750f2fc7]
      ocp-date: ['Sun, 19 Mar 2017 02:09:34 GMT']
    method: GET
    uri: https://test1.westus.batch.azure.com/jobs/ncj-windows-paas/tasks?api-version=2017-01-01.4.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#tasks\"\
        ,\"value\":[\r\n    {\r\n      \"id\":\"myTask\",\"url\":\"https://test1.westus.batch.azure.com/jobs/ncj-windows-paas/tasks/myTask\"\
        ,\"eTag\":\"0x8D46E6CF4A4DCEB\",\"creationTime\":\"2017-03-19T02:09:20.6051051Z\"\
        ,\"lastModified\":\"2017-03-19T02:09:20.6051051Z\",\"state\":\"preparing\"\
        ,\"stateTransitionTime\":\"2017-03-19T02:09:21.733302Z\",\"previousState\"\
        :\"active\",\"previousStateTransitionTime\":\"2017-03-19T02:09:20.6051051Z\"\
        ,\"commandLine\":\"cmd /c \\\"cmd /c echo | set /p dummy=test & %AZ_BATCH_JOB_PREP_WORKING_DIR%\\\
        \\uploadfiles.py %errorlevel%\\\"\",\"environmentSettings\":[\r\n        {\r\
        \n          \"name\":\"AZ_BATCH_FILE_UPLOAD_CONFIG\",\"value\":\"{\\\"outputFiles\\\
        \": [{\\\"filePattern\\\": \\\"$AZ_BATCH_TASK_DIR/*.txt\\\", \\\"uploadDetails\\\
        \": {\\\"taskStatus\\\": \\\"TaskSuccess\\\"}, \\\"destination\\\": {\\\"\
        container\\\": {\\\"containerSas\\\": \\\"https://testaccountforbatch.blob.core.windows.net/aaatestcontainer?sv=2015-07-08&se=2017-03-20T02%3A07%3A38Z&sr=c&sig=3MEEVOY/iDHkPd4qaLCHkALPRGWSoHAomyolI5%2BLQk8%3D&sp=rw&st=2017-03-19T02%3A07%3A38Z\\\
        \"}}}]}\"\r\n        }\r\n      ],\"userIdentity\":{\r\n        \"autoUser\"\
        :{\r\n          \"scope\":\"task\",\"elevationLevel\":\"nonadmin\"\r\n   \
        \     }\r\n      },\"constraints\":{\r\n        \"maxWallClockTime\":\"P10675199DT2H48M5.4775807S\"\
        ,\"retentionTime\":\"PT1H\",\"maxTaskRetryCount\":0\r\n      },\"executionInfo\"\
        :{\r\n        \"startTime\":\"2017-03-19T02:09:21.733302Z\",\"retryCount\"\
        :0,\"requeueCount\":0\r\n      },\"nodeInfo\":{\r\n        \"affinityId\"\
        :\"TVM:tvm-2434664350_1-20170318t232444z\",\"nodeUrl\":\"https://test1.westus.batch.azure.com/pools/ncj-windows-paas/nodes/tvm-2434664350_1-20170318t232444z\"\
        ,\"poolId\":\"ncj-windows-paas\",\"nodeId\":\"tvm-2434664350_1-20170318t232444z\"\
        ,\"taskRootDirectory\":\"workitems\\\\ncj-windows-paas\\\\job-1\\\\mytask\"\
        ,\"taskRootDirectoryUrl\":\"https://test1.westus.batch.azure.com/pools/ncj-windows-paas/nodes/tvm-2434664350_1-20170318t232444z/files/workitems/ncj-windows-paas/job-1/mytask\"\
        \r\n      }\r\n    }\r\n  ]\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Sun, 19 Mar 2017 02:09:35 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [fb114b25-926e-4751-8849-66052de0176e]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.9.1 msrest/0.4.6
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      client-request-id: [1cf3ca70-0c49-11e7-8ae5-54ee750f2fc7]
      ocp-date: ['Sun, 19 Mar 2017 02:09:41 GMT']
    method: GET
    uri: https://test1.westus.batch.azure.com/jobs/ncj-windows-paas/tasks?api-version=2017-01-01.4.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#tasks\"\
        ,\"value\":[\r\n    {\r\n      \"id\":\"myTask\",\"url\":\"https://test1.westus.batch.azure.com/jobs/ncj-windows-paas/tasks/myTask\"\
        ,\"eTag\":\"0x8D46E6CF4A4DCEB\",\"creationTime\":\"2017-03-19T02:09:20.6051051Z\"\
        ,\"lastModified\":\"2017-03-19T02:09:20.6051051Z\",\"state\":\"completed\"\
        ,\"stateTransitionTime\":\"2017-03-19T02:09:38.627315Z\",\"previousState\"\
        :\"running\",\"previousStateTransitionTime\":\"2017-03-19T02:09:37.7092978Z\"\
        ,\"commandLine\":\"cmd /c \\\"cmd /c echo | set /p dummy=test & %AZ_BATCH_JOB_PREP_WORKING_DIR%\\\
        \\uploadfiles.py %errorlevel%\\\"\",\"environmentSettings\":[\r\n        {\r\
        \n          \"name\":\"AZ_BATCH_FILE_UPLOAD_CONFIG\",\"value\":\"{\\\"outputFiles\\\
        \": [{\\\"filePattern\\\": \\\"$AZ_BATCH_TASK_DIR/*.txt\\\", \\\"uploadDetails\\\
        \": {\\\"taskStatus\\\": \\\"TaskSuccess\\\"}, \\\"destination\\\": {\\\"\
        container\\\": {\\\"containerSas\\\": \\\"https://testaccountforbatch.blob.core.windows.net/aaatestcontainer?sv=2015-07-08&se=2017-03-20T02%3A07%3A38Z&sr=c&sig=3MEEVOY/iDHkPd4qaLCHkALPRGWSoHAomyolI5%2BLQk8%3D&sp=rw&st=2017-03-19T02%3A07%3A38Z\\\
        \"}}}]}\"\r\n        }\r\n      ],\"userIdentity\":{\r\n        \"autoUser\"\
        :{\r\n          \"scope\":\"task\",\"elevationLevel\":\"nonadmin\"\r\n   \
        \     }\r\n      },\"constraints\":{\r\n        \"maxWallClockTime\":\"P10675199DT2H48M5.4775807S\"\
        ,\"retentionTime\":\"PT1H\",\"maxTaskRetryCount\":0\r\n      },\"executionInfo\"\
        :{\r\n        \"startTime\":\"2017-03-19T02:09:21.733302Z\",\"endTime\":\"\
        2017-03-19T02:09:38.627315Z\",\"exitCode\":0,\"retryCount\":0,\"requeueCount\"\
        :0\r\n      },\"nodeInfo\":{\r\n        \"affinityId\":\"TVM:tvm-2434664350_1-20170318t232444z\"\
        ,\"nodeUrl\":\"https://test1.westus.batch.azure.com/pools/ncj-windows-paas/nodes/tvm-2434664350_1-20170318t232444z\"\
        ,\"poolId\":\"ncj-windows-paas\",\"nodeId\":\"tvm-2434664350_1-20170318t232444z\"\
        ,\"taskRootDirectory\":\"workitems\\\\ncj-windows-paas\\\\job-1\\\\mytask\"\
        ,\"taskRootDirectoryUrl\":\"https://test1.westus.batch.azure.com/pools/ncj-windows-paas/nodes/tvm-2434664350_1-20170318t232444z/files/workitems/ncj-windows-paas/job-1/mytask\"\
        \r\n      }\r\n    }\r\n  ]\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Sun, 19 Mar 2017 02:09:41 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [3107d209-3043-4aab-b1c4-e269419a9130]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.9.1 msrest/0.4.6
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      client-request-id: [1d2f8dd0-0c49-11e7-8cfb-54ee750f2fc7]
      ocp-date: ['Sun, 19 Mar 2017 02:09:41 GMT']
    method: GET
    uri: https://test1.westus.batch.azure.com/jobs/ncj-windows-paas/tasks/myTask?api-version=2017-01-01.4.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#tasks/@Element\"\
        ,\"id\":\"myTask\",\"url\":\"https://test1.westus.batch.azure.com/jobs/ncj-windows-paas/tasks/myTask\"\
        ,\"eTag\":\"0x8D46E6CF4A4DCEB\",\"creationTime\":\"2017-03-19T02:09:20.6051051Z\"\
        ,\"lastModified\":\"2017-03-19T02:09:20.6051051Z\",\"state\":\"completed\"\
        ,\"stateTransitionTime\":\"2017-03-19T02:09:38.627315Z\",\"previousState\"\
        :\"running\",\"previousStateTransitionTime\":\"2017-03-19T02:09:37.7092978Z\"\
        ,\"commandLine\":\"cmd /c \\\"cmd /c echo | set /p dummy=test & %AZ_BATCH_JOB_PREP_WORKING_DIR%\\\
        \\uploadfiles.py %errorlevel%\\\"\",\"environmentSettings\":[\r\n    {\r\n\
        \      \"name\":\"AZ_BATCH_FILE_UPLOAD_CONFIG\",\"value\":\"{\\\"outputFiles\\\
        \": [{\\\"filePattern\\\": \\\"$AZ_BATCH_TASK_DIR/*.txt\\\", \\\"uploadDetails\\\
        \": {\\\"taskStatus\\\": \\\"TaskSuccess\\\"}, \\\"destination\\\": {\\\"\
        container\\\": {\\\"containerSas\\\": \\\"https://testaccountforbatch.blob.core.windows.net/aaatestcontainer?sv=2015-07-08&se=2017-03-20T02%3A07%3A38Z&sr=c&sig=3MEEVOY/iDHkPd4qaLCHkALPRGWSoHAomyolI5%2BLQk8%3D&sp=rw&st=2017-03-19T02%3A07%3A38Z\\\
        \"}}}]}\"\r\n    }\r\n  ],\"userIdentity\":{\r\n    \"autoUser\":{\r\n   \
        \   \"scope\":\"task\",\"elevationLevel\":\"nonadmin\"\r\n    }\r\n  },\"\
        constraints\":{\r\n    \"maxWallClockTime\":\"P10675199DT2H48M5.4775807S\"\
        ,\"retentionTime\":\"PT1H\",\"maxTaskRetryCount\":0\r\n  },\"executionInfo\"\
        :{\r\n    \"startTime\":\"2017-03-19T02:09:21.733302Z\",\"endTime\":\"2017-03-19T02:09:38.627315Z\"\
        ,\"exitCode\":0,\"retryCount\":0,\"requeueCount\":0\r\n  },\"nodeInfo\":{\r\
        \n    \"affinityId\":\"TVM:tvm-2434664350_1-20170318t232444z\",\"nodeUrl\"\
        :\"https://test1.westus.batch.azure.com/pools/ncj-windows-paas/nodes/tvm-2434664350_1-20170318t232444z\"\
        ,\"poolId\":\"ncj-windows-paas\",\"nodeId\":\"tvm-2434664350_1-20170318t232444z\"\
        ,\"taskRootDirectory\":\"workitems\\\\ncj-windows-paas\\\\job-1\\\\mytask\"\
        ,\"taskRootDirectoryUrl\":\"https://test1.westus.batch.azure.com/pools/ncj-windows-paas/nodes/tvm-2434664350_1-20170318t232444z/files/workitems/ncj-windows-paas/job-1/mytask\"\
        \r\n  }\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Sun, 19 Mar 2017 02:09:40 GMT']
      ETag: ['0x8D46E6CF4A4DCEB']
      Last-Modified: ['Sun, 19 Mar 2017 02:09:20 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [206eecfe-dced-482e-94ca-f484c9a878f5]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Connection: [keep-alive]
      User-Agent: [Azure-Storage/0.33.0 (Python CPython 3.5.1; Windows 8.1)]
      x-ms-client-request-id: [1d5f6c90-0c49-11e7-b9eb-54ee750f2fc7]
      x-ms-date: ['Sun, 19 Mar 2017 02:09:42 GMT']
      x-ms-version: ['2015-07-08']
    method: GET
    uri: https://testaccountforbatch.blob.core.windows.net/aaatestcontainer?restype=container&comp=list
  response:
    body: {string: "\uFEFF<?xml version=\"1.0\" encoding=\"utf-8\"?><EnumerationResults\
        \ ServiceEndpoint=\"https://testaccountforbatch.blob.core.windows.net/\"\
        \ ContainerName=\"aaatestcontainer\"><Blobs><Blob><Name>stderr.txt</Name><Properties><Last-Modified>Sun,\
        \ 19 Mar 2017 02:09:39 GMT</Last-Modified><Etag>0x8D46E6CFFC14418</Etag><Content-Length>0</Content-Length><Content-Type>application/octet-stream</Content-Type><Content-Encoding\
        \ /><Content-Language /><Content-MD5 /><Cache-Control /><Content-Disposition\
        \ /><BlobType>BlockBlob</BlobType><LeaseStatus>unlocked</LeaseStatus><LeaseState>available</LeaseState></Properties></Blob><Blob><Name>stdout.txt</Name><Properties><Last-Modified>Sun,\
        \ 19 Mar 2017 02:09:39 GMT</Last-Modified><Etag>0x8D46E6CFFC82394</Etag><Content-Length>5</Content-Length><Content-Type>application/octet-stream</Content-Type><Content-Encoding\
        \ /><Content-Language /><Content-MD5>orLWaTix8CPexjlPEreCtQ==</Content-MD5><Cache-Control\
        \ /><Content-Disposition /><BlobType>BlockBlob</BlobType><LeaseStatus>unlocked</LeaseStatus><LeaseState>available</LeaseState></Properties></Blob><Blob><Name>uploadlog.txt</Name><Properties><Last-Modified>Sun,\
        \ 19 Mar 2017 02:09:39 GMT</Last-Modified><Etag>0x8D46E6CFFC9D1AF</Etag><Content-Length>1080</Content-Length><Content-Type>application/octet-stream</Content-Type><Content-Encoding\
        \ /><Content-Language /><Content-MD5>bhFOu4EaoZpeD8gu9G8jNg==</Content-MD5><Cache-Control\
        \ /><Content-Disposition /><BlobType>BlockBlob</BlobType><LeaseStatus>unlocked</LeaseStatus><LeaseState>available</LeaseState></Properties></Blob></Blobs><NextMarker\
        \ /></EnumerationResults>"}
    headers:
      Content-Type: [application/xml]
      Date: ['Sun, 19 Mar 2017 02:09:40 GMT']
      Server: [Windows-Azure-Blob/1.0 Microsoft-HTTPAPI/2.0]
      Transfer-Encoding: [chunked]
      x-ms-version: ['2015-07-08']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.9.1 msrest/0.4.6
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      client-request-id: [1d689330-0c49-11e7-92fa-54ee750f2fc7]
      ocp-date: ['Sun, 19 Mar 2017 02:09:42 GMT']
    method: DELETE
    uri: https://test1.westus.batch.azure.com/jobs/ncj-windows-paas?api-version=2017-01-01.4.0
  response:
    body: {string: ''}
    headers:
      DataServiceVersion: ['3.0']
      Date: ['Sun, 19 Mar 2017 02:09:41 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [dc744907-7fd1-498c-b071-534fe7319ef1]
    status: {code: 202, message: Accepted}
- request:
    body: null
    headers:
      Connection: [keep-alive]
      User-Agent: [Azure-Storage/0.33.0 (Python CPython 3.5.1; Windows 8.1)]
      x-ms-client-request-id: [1db45acc-0c49-11e7-854f-54ee750f2fc7]
      x-ms-date: ['Sun, 19 Mar 2017 02:09:42 GMT']
      x-ms-version: ['2015-07-08']
    method: GET
    uri: https://testaccountforbatch.blob.core.windows.net/fgrp-output?restype=container&comp=list
  response:
    body: {string: "\uFEFF<?xml version=\"1.0\" encoding=\"utf-8\"?><EnumerationResults\
        \ ServiceEndpoint=\"https://testaccountforbatch.blob.core.windows.net/\"\
        \ ContainerName=\"fgrp-output\"><Blobs><Blob><Name>stderr.txt</Name><Properties><Last-Modified>Sun,\
        \ 19 Mar 2017 02:09:14 GMT</Last-Modified><Etag>0x8D46E6CF0D1002C</Etag><Content-Length>0</Content-Length><Content-Type>application/octet-stream</Content-Type><Content-Encoding\
        \ /><Content-Language /><Content-MD5 /><Cache-Control /><Content-Disposition\
        \ /><BlobType>BlockBlob</BlobType><LeaseStatus>unlocked</LeaseStatus><LeaseState>available</LeaseState></Properties></Blob><Blob><Name>stdout.txt</Name><Properties><Last-Modified>Sun,\
        \ 19 Mar 2017 02:09:14 GMT</Last-Modified><Etag>0x8D46E6CF0D2872F</Etag><Content-Length>5</Content-Length><Content-Type>application/octet-stream</Content-Type><Content-Encoding\
        \ /><Content-Language /><Content-MD5>orLWaTix8CPexjlPEreCtQ==</Content-MD5><Cache-Control\
        \ /><Content-Disposition /><BlobType>BlockBlob</BlobType><LeaseStatus>unlocked</LeaseStatus><LeaseState>available</LeaseState></Properties></Blob><Blob><Name>uploadlog.txt</Name><Properties><Last-Modified>Sun,\
        \ 19 Mar 2017 02:09:14 GMT</Last-Modified><Etag>0x8D46E6CF0D40E45</Etag><Content-Length>1106</Content-Length><Content-Type>application/octet-stream</Content-Type><Content-Encoding\
        \ /><Content-Language /><Content-MD5>tcB7mYivOqsbCI5ZyOXDIQ==</Content-MD5><Cache-Control\
        \ /><Content-Disposition /><BlobType>BlockBlob</BlobType><LeaseStatus>unlocked</LeaseStatus><LeaseState>available</LeaseState></Properties></Blob></Blobs><NextMarker\
        \ /></EnumerationResults>"}
    headers:
      Content-Type: [application/xml]
      Date: ['Sun, 19 Mar 2017 02:09:41 GMT']
      Server: [Windows-Azure-Blob/1.0 Microsoft-HTTPAPI/2.0]
      Transfer-Encoding: [chunked]
      x-ms-version: ['2015-07-08']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Connection: [keep-alive]
      Content-Length: ['0']
      User-Agent: [Azure-Storage/0.33.0 (Python CPython 3.5.1; Windows 8.1)]
      x-ms-client-request-id: [1dc0e6d4-0c49-11e7-8e88-54ee750f2fc7]
      x-ms-date: ['Sun, 19 Mar 2017 02:09:42 GMT']
      x-ms-version: ['2015-07-08']
    method: DELETE
    uri: https://testaccountforbatch.blob.core.windows.net/fgrp-output/stderr.txt
  response:
    body: {string: ''}
    headers:
      Date: ['Sun, 19 Mar 2017 02:09:41 GMT']
      Server: [Windows-Azure-Blob/1.0 Microsoft-HTTPAPI/2.0]
      Transfer-Encoding: [chunked]
      x-ms-version: ['2015-07-08']
    status: {code: 202, message: Accepted}
- request:
    body: null
    headers:
      Connection: [keep-alive]
      Content-Length: ['0']
      User-Agent: [Azure-Storage/0.33.0 (Python CPython 3.5.1; Windows 8.1)]
      x-ms-client-request-id: [1dcad730-0c49-11e7-8dfe-54ee750f2fc7]
      x-ms-date: ['Sun, 19 Mar 2017 02:09:43 GMT']
      x-ms-version: ['2015-07-08']
    method: DELETE
    uri: https://testaccountforbatch.blob.core.windows.net/fgrp-output/stdout.txt
  response:
    body: {string: ''}
    headers:
      Date: ['Sun, 19 Mar 2017 02:09:41 GMT']
      Server: [Windows-Azure-Blob/1.0 Microsoft-HTTPAPI/2.0]
      Transfer-Encoding: [chunked]
      x-ms-version: ['2015-07-08']
    status: {code: 202, message: Accepted}
- request:
    body: null
    headers:
      Connection: [keep-alive]
      Content-Length: ['0']
      User-Agent: [Azure-Storage/0.33.0 (Python CPython 3.5.1; Windows 8.1)]
      x-ms-client-request-id: [1dd3d762-0c49-11e7-9540-54ee750f2fc7]
      x-ms-date: ['Sun, 19 Mar 2017 02:09:43 GMT']
      x-ms-version: ['2015-07-08']
    method: DELETE
    uri: https://testaccountforbatch.blob.core.windows.net/fgrp-output/uploadlog.txt
  response:
    body: {string: ''}
    headers:
      Date: ['Sun, 19 Mar 2017 02:09:41 GMT']
      Server: [Windows-Azure-Blob/1.0 Microsoft-HTTPAPI/2.0]
      Transfer-Encoding: [chunked]
      x-ms-version: ['2015-07-08']
    status: {code: 202, message: Accepted}
- request:
    body: '{"id": "ncj-windows-paas-fgrp", "vmSize": "STANDARD_D1_V2", "targetDedicated":
      1, "cloudServiceConfiguration": {"osFamily": "4"}}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['129']
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.9.1 msrest/0.4.6
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      client-request-id: [1e6bba50-0c49-11e7-8fa5-54ee750f2fc7]
      ocp-date: ['Sun, 19 Mar 2017 02:09:44 GMT']
    method: POST
    uri: https://test1.westus.batch.azure.com/pools?api-version=2017-01-01.4.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#Microsoft.Azure.Batch.Protocol.Entities.Container.errors/@Element\"\
        ,\"code\":\"PoolExists\",\"message\":{\r\n    \"lang\":\"en-US\",\"value\"\
        :\"The specified pool already exists.\\nRequestId:28376187-cb83-4799-b4de-ddf7a2655184\\\
        nTime:2017-03-19T02:09:42.5778839Z\"\r\n  }\r\n}"}
    headers:
      Content-Length: ['337']
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Sun, 19 Mar 2017 02:09:42 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      X-Content-Type-Options: [nosniff]
      request-id: [28376187-cb83-4799-b4de-ddf7a2655184]
    status: {code: 409, message: The specified pool already exists.}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.9.1 msrest/0.4.6
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      client-request-id: [1fda5228-0c49-11e7-9ebf-54ee750f2fc7]
      ocp-date: ['Sun, 19 Mar 2017 02:09:46 GMT']
    method: GET
    uri: https://test1.westus.batch.azure.com/pools/ncj-windows-paas-fgrp?api-version=2017-01-01.4.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#pools/@Element\"\
        ,\"id\":\"ncj-windows-paas-fgrp\",\"url\":\"https://test1.westus.batch.azure.com/pools/ncj-windows-paas-fgrp\"\
        ,\"eTag\":\"0x8D46E6B5B037E91\",\"lastModified\":\"2017-03-19T01:57:53.3594257Z\"\
        ,\"creationTime\":\"2017-03-19T01:57:53.3594257Z\",\"state\":\"active\",\"\
        stateTransitionTime\":\"2017-03-19T01:57:53.3594257Z\",\"allocationState\"\
        :\"steady\",\"allocationStateTransitionTime\":\"2017-03-19T01:59:08.2154318Z\"\
        ,\"vmSize\":\"standard_d1_v2\",\"resizeTimeout\":\"PT15M\",\"currentDedicated\"\
        :1,\"targetDedicated\":1,\"enableAutoScale\":false,\"enableInterNodeCommunication\"\
        :false,\"maxTasksPerNode\":1,\"taskSchedulingPolicy\":{\r\n    \"nodeFillType\"\
        :\"Spread\"\r\n  },\"cloudServiceConfiguration\":{\r\n    \"osFamily\":\"\
        4\",\"targetOSVersion\":\"*\",\"currentOSVersion\":\"*\"\r\n  }\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Sun, 19 Mar 2017 02:09:43 GMT']
      ETag: ['0x8D46E6B5B037E91']
      Last-Modified: ['Sun, 19 Mar 2017 01:57:53 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [1ce72b56-e1ca-45c2-b062-706c4d9b9b63]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.9.1 msrest/0.4.6
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      client-request-id: [201207a6-0c49-11e7-948d-54ee750f2fc7]
      ocp-date: ['Sun, 19 Mar 2017 02:09:46 GMT']
    method: GET
    uri: https://test1.westus.batch.azure.com/pools/ncj-windows-paas-fgrp/nodes?api-version=2017-01-01.4.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#nodes\"\
        ,\"value\":[\r\n    {\r\n      \"id\":\"tvm-2434664350_1-20170319t015907z\"\
        ,\"url\":\"https://test1.westus.batch.azure.com/pools/ncj-windows-paas-fgrp/nodes/tvm-2434664350_1-20170319t015907z\"\
        ,\"state\":\"idle\",\"schedulingState\":\"enabled\",\"stateTransitionTime\"\
        :\"2017-03-19T02:01:41.4379328Z\",\"lastBootTime\":\"2017-03-19T02:01:40.5652426Z\"\
        ,\"allocationTime\":\"2017-03-19T01:59:07.9531749Z\",\"ipAddress\":\"10.156.102.101\"\
        ,\"affinityId\":\"TVM:tvm-2434664350_1-20170319t015907z\",\"vmSize\":\"standard_d1_v2\"\
        ,\"totalTasksRun\":0,\"totalTasksSucceeded\":0,\"runningTasksCount\":0\r\n\
        \    }\r\n  ]\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Sun, 19 Mar 2017 02:09:44 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [6ddb9eac-3059-4a8f-a6b5-c44a7471c127]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: ['python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.9.1 msrest/0.4.6
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python batch-extensions:v1.0.0RC']
      accept-language: [en-US]
      client-request-id: [20f9dacc-0c49-11e7-9977-54ee750f2fc7]
      ocp-date: ['Sun, 19 Mar 2017 02:09:48 GMT']
    method: GET
    uri: https://test1.westus.batch.azure.com/pools/ncj-windows-paas-fgrp?api-version=2017-01-01.4.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#pools/@Element\"\
        ,\"id\":\"ncj-windows-paas-fgrp\",\"url\":\"https://test1.westus.batch.azure.com/pools/ncj-windows-paas-fgrp\"\
        ,\"eTag\":\"0x8D46E6B5B037E91\",\"lastModified\":\"2017-03-19T01:57:53.3594257Z\"\
        ,\"creationTime\":\"2017-03-19T01:57:53.3594257Z\",\"state\":\"active\",\"\
        stateTransitionTime\":\"2017-03-19T01:57:53.3594257Z\",\"allocationState\"\
        :\"steady\",\"allocationStateTransitionTime\":\"2017-03-19T01:59:08.2154318Z\"\
        ,\"vmSize\":\"standard_d1_v2\",\"resizeTimeout\":\"PT15M\",\"currentDedicated\"\
        :1,\"targetDedicated\":1,\"enableAutoScale\":false,\"enableInterNodeCommunication\"\
        :false,\"maxTasksPerNode\":1,\"taskSchedulingPolicy\":{\r\n    \"nodeFillType\"\
        :\"Spread\"\r\n  },\"cloudServiceConfiguration\":{\r\n    \"osFamily\":\"\
        4\",\"targetOSVersion\":\"*\",\"currentOSVersion\":\"*\"\r\n  }\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Sun, 19 Mar 2017 02:09:46 GMT']
      ETag: ['0x8D46E6B5B037E91']
      Last-Modified: ['Sun, 19 Mar 2017 01:57:53 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [26956279-03a4-4823-aa22-ca646fff37ad]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.9.1 msrest/0.4.6
          msrest_azure/0.4.7 batchmanagementclient/3.0.0 Azure-SDK-For-Python AZURECLI/TEST/2.0.1]
      accept-language: [en-US]
      x-ms-client-request-id: [21209e52-0c49-11e7-a304-54ee750f2fc7]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Batch/batchAccounts?api-version=2017-01-01
  response:
    body: {string: '{"value":[{"name":"test1","location":"westus","tags":{"Value":"tagValue","test":"test1","Name":"tagName"},"properties":{"accountEndpoint":"test1.westus.batch.azure.com","provisioningState":"Succeeded","coreQuota":800,"poolQuota":20,"activeJobAndJobScheduleQuota":20,"autoStorage":{"storageAccountId":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/test1_resource_group/providers/Microsoft.Storage/storageAccounts/testaccountforbatch","lastKeySync":"2016-08-29T18:45:16.1439173Z"},"poolAllocationMode":"batchservice"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/test1_resource_group/providers/Microsoft.Batch/batchAccounts/test1","type":"Microsoft.Batch/batchAccounts"}]}'}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Sun, 19 Mar 2017 02:09:49 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Vary: [Accept-Encoding]
      content-length: ['1838']
      x-ms-original-request-ids: ['', '', '']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.9.1 msrest/0.4.6
          msrest_azure/0.4.7 storagemanagementclient/0.31.0 Azure-SDK-For-Python AZURECLI/TEST/2.0.1]
      accept-language: [en-US]
      x-ms-client-request-id: [22bab01c-0c49-11e7-bed4-54ee750f2fc7]
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/test1_resource_group/providers/Microsoft.Storage/storageAccounts/testaccountforbatch/listKeys?api-version=2016-12-01
  response:
    body: {string: '{"keys":[{"keyName":"key1","permissions":"Full","value":"xxx=="},{"keyName":"key2","permissions":"Full","value":"xxx=="}]}

        '}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json]
      Date: ['Sun, 19 Mar 2017 02:09:49 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-Azure-Storage-Resource-Provider/1.0, Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      Vary: [Accept-Encoding]
      content-length: ['289']
      x-ms-ratelimit-remaining-subscription-writes: ['1198']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Connection: [keep-alive]
      Content-Length: ['0']
      User-Agent: [Azure-Storage/0.33.0 (Python CPython 3.5.1; Windows 8.1)]
      x-ms-client-request-id: [2320547e-0c49-11e7-917c-54ee750f2fc7]
      x-ms-date: ['Sun, 19 Mar 2017 02:09:51 GMT']
      x-ms-version: ['2015-07-08']
    method: PUT
    uri: https://testaccountforbatch.blob.core.windows.net/fgrp-output?restype=container
  response:
    body: {string: "\uFEFF<?xml version=\"1.0\" encoding=\"utf-8\"?><Error><Code>ContainerAlreadyExists</Code><Message>The\
        \ specified container already exists.\nRequestId:d5bda6bd-0001-0099-3655-a03526000000\n\
        Time:2017-03-19T02:09:50.3537321Z</Message></Error>"}
    headers:
      Content-Length: ['230']
      Content-Type: [application/xml]
      Date: ['Sun, 19 Mar 2017 02:09:50 GMT']
      Server: [Windows-Azure-Blob/1.0 Microsoft-HTTPAPI/2.0]
      x-ms-version: ['2015-07-08']
    status: {code: 409, message: The specified container already exists.}
- request:
    body: '{"id": "ncj-windows-paas-fgrp", "poolInfo": {"poolId": "ncj-windows-paas-fgrp"},
      "jobPreparationTask": {"commandLine": "cmd.exe /c \"(bootstrap.cmd && setup_uploader.py)
      > setuplog.txt 2>&1\"", "userIdentity": {"autoUser": {"elevationLevel": "admin"}},
      "waitForSuccess": true, "resourceFiles": [{"blobSource": "https://raw.githubusercontent.com/annatisch/azure-batch-cli-extensions/master/azure/cli/command_modules/batch_extensions/fileegress/util.py",
      "filePath": "util.py"}, {"blobSource": "https://raw.githubusercontent.com/annatisch/azure-batch-cli-extensions/master/azure/cli/command_modules/batch_extensions/fileegress/uploader.py",
      "filePath": "uploader.py"}, {"blobSource": "https://raw.githubusercontent.com/annatisch/azure-batch-cli-extensions/master/azure/cli/command_modules/batch_extensions/fileegress/uploadfiles.py",
      "filePath": "uploadfiles.py"}, {"blobSource": "https://raw.githubusercontent.com/annatisch/azure-batch-cli-extensions/master/azure/cli/command_modules/batch_extensions/fileegress/batchfileuploader.py",
      "filePath": "batchfileuploader.py"}, {"blobSource": "https://raw.githubusercontent.com/annatisch/azure-batch-cli-extensions/master/azure/cli/command_modules/batch_extensions/fileegress/setup_uploader.py",
      "filePath": "setup_uploader.py"}, {"blobSource": "https://raw.githubusercontent.com/annatisch/azure-batch-cli-extensions/master/azure/cli/command_modules/batch_extensions/fileegress/configuration.py",
      "filePath": "configuration.py"}, {"blobSource": "https://raw.githubusercontent.com/annatisch/azure-batch-cli-extensions/master/azure/cli/command_modules/batch_extensions/fileegress/requirements.txt",
      "filePath": "requirements.txt"}, {"blobSource": "https://raw.githubusercontent.com/annatisch/azure-batch-cli-extensions/master/azure/cli/command_modules/batch_extensions/fileegress/bootstrap.cmd",
      "filePath": "bootstrap.cmd"}]}}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['1868']
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: ['python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.9.1 msrest/0.4.6
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python batch-extensions:v1.0.0RC']
      accept-language: [en-US]
      client-request-id: [2347b334-0c49-11e7-860e-54ee750f2fc7]
      ocp-date: ['Sun, 19 Mar 2017 02:09:52 GMT']
      return-client-request-id: ['false']
    method: POST
    uri: https://test1.westus.batch.azure.com/jobs?api-version=2017-01-01.4.0&timeout=30
  response:
    body: {string: ''}
    headers:
      DataServiceId: ['https://test1.westus.batch.azure.com/jobs/job-1']
      DataServiceVersion: ['3.0']
      Date: ['Sun, 19 Mar 2017 02:09:48 GMT']
      ETag: ['0x8D46E6D0655FAF6']
      Last-Modified: ['Sun, 19 Mar 2017 02:09:50 GMT']
      Location: ['https://test1.westus.batch.azure.com/jobs/job-1']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [c1e510f9-7b27-4d08-8dcc-b491a6a1b6f9]
    status: {code: 201, message: Created}
- request:
    body: '{"value": [{"commandLine": "cmd /c \"cmd /c echo | set /p dummy=test &
      %AZ_BATCH_JOB_PREP_WORKING_DIR%\\uploadfiles.py %errorlevel%\"", "environmentSettings":
      [{"name": "AZ_BATCH_FILE_UPLOAD_CONFIG", "value": "{\"outputFiles\": [{\"filePattern\":
      \"$AZ_BATCH_TASK_DIR/*.txt\", \"uploadDetails\": {\"taskStatus\": \"TaskSuccess\"},
      \"destination\": {\"container\": {\"containerSas\": \"https://testaccountforbatch.blob.core.windows.net/fgrp-output?sv=2015-07-08&se=2017-03-26T02%3A09%3A52Z&sr=c&sig=fYuFNs6bz/WwqbOxvUuuGdIYmK20wIHZxDGcejYuzpA%3D&sp=w&st=2017-03-19T02%3A09%3A52Z\"}}}]}"}],
      "id": "myTask", "constraints": {"retentionTime": "PT1H"}}]}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['649']
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: ['python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.9.1 msrest/0.4.6
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python batch-extensions:v1.0.0RC']
      accept-language: [en-US]
      client-request-id: [2382c15a-0c49-11e7-ba07-54ee750f2fc7]
      ocp-date: ['Sun, 19 Mar 2017 02:09:52 GMT']
    method: POST
    uri: https://test1.westus.batch.azure.com/jobs/ncj-windows-paas-fgrp/addtaskcollection?api-version=2017-01-01.4.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#taskaddresult\"\
        ,\"value\":[\r\n    {\r\n      \"status\":\"Success\",\"taskId\":\"myTask\"\
        ,\"eTag\":\"0x8D46E6D07F6E098\",\"lastModified\":\"2017-03-19T02:09:53.0193048Z\"\
        ,\"location\":\"https://test1.westus.batch.azure.com/jobs/ncj-windows-paas-fgrp/tasks/myTask\"\
        \r\n    }\r\n  ]\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Sun, 19 Mar 2017 02:09:53 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [80d85eb7-34ad-4725-a1f6-bb0e93fa87f8]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.9.1 msrest/0.4.6
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      client-request-id: [23a4220c-0c49-11e7-a2e8-54ee750f2fc7]
      ocp-date: ['Sun, 19 Mar 2017 02:09:52 GMT']
    method: GET
    uri: https://test1.westus.batch.azure.com/jobs/ncj-windows-paas-fgrp?api-version=2017-01-01.4.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#jobs/@Element\"\
        ,\"id\":\"ncj-windows-paas-fgrp\",\"url\":\"https://test1.westus.batch.azure.com/jobs/ncj-windows-paas-fgrp\"\
        ,\"eTag\":\"0x8D46E6D0655FAF6\",\"lastModified\":\"2017-03-19T02:09:50.2871286Z\"\
        ,\"creationTime\":\"2017-03-19T02:09:50.2461202Z\",\"state\":\"active\",\"\
        stateTransitionTime\":\"2017-03-19T02:09:50.2871286Z\",\"priority\":0,\"usesTaskDependencies\"\
        :false,\"constraints\":{\r\n    \"maxWallClockTime\":\"P10675199DT2H48M5.4775807S\"\
        ,\"maxTaskRetryCount\":0\r\n  },\"jobPreparationTask\":{\r\n    \"id\":\"\
        jobpreparation\",\"commandLine\":\"cmd.exe /c \\\"(bootstrap.cmd && setup_uploader.py)\
        \ > setuplog.txt 2>&1\\\"\",\"resourceFiles\":[\r\n      {\r\n        \"blobSource\"\
        :\"https://raw.githubusercontent.com/annatisch/azure-batch-cli-extensions/master/azure/cli/command_modules/batch_extensions/fileegress/util.py\"\
        ,\"filePath\":\"util.py\"\r\n      },{\r\n        \"blobSource\":\"https://raw.githubusercontent.com/annatisch/azure-batch-cli-extensions/master/azure/cli/command_modules/batch_extensions/fileegress/uploader.py\"\
        ,\"filePath\":\"uploader.py\"\r\n      },{\r\n        \"blobSource\":\"https://raw.githubusercontent.com/annatisch/azure-batch-cli-extensions/master/azure/cli/command_modules/batch_extensions/fileegress/uploadfiles.py\"\
        ,\"filePath\":\"uploadfiles.py\"\r\n      },{\r\n        \"blobSource\":\"\
        https://raw.githubusercontent.com/annatisch/azure-batch-cli-extensions/master/azure/cli/command_modules/batch_extensions/fileegress/batchfileuploader.py\"\
        ,\"filePath\":\"batchfileuploader.py\"\r\n      },{\r\n        \"blobSource\"\
        :\"https://raw.githubusercontent.com/annatisch/azure-batch-cli-extensions/master/azure/cli/command_modules/batch_extensions/fileegress/setup_uploader.py\"\
        ,\"filePath\":\"setup_uploader.py\"\r\n      },{\r\n        \"blobSource\"\
        :\"https://raw.githubusercontent.com/annatisch/azure-batch-cli-extensions/master/azure/cli/command_modules/batch_extensions/fileegress/configuration.py\"\
        ,\"filePath\":\"configuration.py\"\r\n      },{\r\n        \"blobSource\"\
        :\"https://raw.githubusercontent.com/annatisch/azure-batch-cli-extensions/master/azure/cli/command_modules/batch_extensions/fileegress/requirements.txt\"\
        ,\"filePath\":\"requirements.txt\"\r\n      },{\r\n        \"blobSource\"\
        :\"https://raw.githubusercontent.com/annatisch/azure-batch-cli-extensions/master/azure/cli/command_modules/batch_extensions/fileegress/bootstrap.cmd\"\
        ,\"filePath\":\"bootstrap.cmd\"\r\n      }\r\n    ],\"constraints\":{\r\n\
        \      \"maxWallClockTime\":\"P10675199DT2H48M5.4775807S\",\"retentionTime\"\
        :\"P10675199DT2H48M5.4775807S\",\"maxTaskRetryCount\":0\r\n    },\"userIdentity\"\
        :{\r\n      \"autoUser\":{\r\n        \"scope\":\"task\",\"elevationLevel\"\
        :\"admin\"\r\n      }\r\n    },\"waitForSuccess\":true,\"rerunOnNodeRebootAfterSuccess\"\
        :true\r\n  },\"poolInfo\":{\r\n    \"poolId\":\"ncj-windows-paas-fgrp\"\r\n\
        \  },\"executionInfo\":{\r\n    \"startTime\":\"2017-03-19T02:09:50.2871286Z\"\
        ,\"poolId\":\"ncj-windows-paas-fgrp\"\r\n  },\"onAllTasksComplete\":\"noaction\"\
        ,\"onTaskFailure\":\"noaction\"\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Sun, 19 Mar 2017 02:09:50 GMT']
      ETag: ['0x8D46E6D0655FAF6']
      Last-Modified: ['Sun, 19 Mar 2017 02:09:50 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [6852415b-2beb-4e17-97b1-4848d93fdaa6]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.9.1 msrest/0.4.6
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      client-request-id: [23c86354-0c49-11e7-8b22-54ee750f2fc7]
      ocp-date: ['Sun, 19 Mar 2017 02:09:53 GMT']
    method: GET
    uri: https://test1.westus.batch.azure.com/jobs/ncj-windows-paas-fgrp/tasks?api-version=2017-01-01.4.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#tasks\"\
        ,\"value\":[\r\n    {\r\n      \"id\":\"myTask\",\"url\":\"https://test1.westus.batch.azure.com/jobs/ncj-windows-paas-fgrp/tasks/myTask\"\
        ,\"eTag\":\"0x8D46E6D07F6E098\",\"creationTime\":\"2017-03-19T02:09:53.0193048Z\"\
        ,\"lastModified\":\"2017-03-19T02:09:53.0193048Z\",\"state\":\"active\",\"\
        stateTransitionTime\":\"2017-03-19T02:09:53.0193048Z\",\"commandLine\":\"\
        cmd /c \\\"cmd /c echo | set /p dummy=test & %AZ_BATCH_JOB_PREP_WORKING_DIR%\\\
        \\uploadfiles.py %errorlevel%\\\"\",\"environmentSettings\":[\r\n        {\r\
        \n          \"name\":\"AZ_BATCH_FILE_UPLOAD_CONFIG\",\"value\":\"{\\\"outputFiles\\\
        \": [{\\\"filePattern\\\": \\\"$AZ_BATCH_TASK_DIR/*.txt\\\", \\\"uploadDetails\\\
        \": {\\\"taskStatus\\\": \\\"TaskSuccess\\\"}, \\\"destination\\\": {\\\"\
        container\\\": {\\\"containerSas\\\": \\\"https://testaccountforbatch.blob.core.windows.net/fgrp-output?sv=2015-07-08&se=2017-03-26T02%3A09%3A52Z&sr=c&sig=fYuFNs6bz/WwqbOxvUuuGdIYmK20wIHZxDGcejYuzpA%3D&sp=w&st=2017-03-19T02%3A09%3A52Z\\\
        \"}}}]}\"\r\n        }\r\n      ],\"userIdentity\":{\r\n        \"autoUser\"\
        :{\r\n          \"scope\":\"task\",\"elevationLevel\":\"nonadmin\"\r\n   \
        \     }\r\n      },\"constraints\":{\r\n        \"maxWallClockTime\":\"P10675199DT2H48M5.4775807S\"\
        ,\"retentionTime\":\"PT1H\",\"maxTaskRetryCount\":0\r\n      },\"executionInfo\"\
        :{\r\n        \"retryCount\":0,\"requeueCount\":0\r\n      }\r\n    }\r\n\
        \  ]\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Sun, 19 Mar 2017 02:09:52 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [419c62b6-2358-43aa-a0a8-76fbdf917fd2]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.9.1 msrest/0.4.6
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      client-request-id: [25af8c48-0c49-11e7-9c9d-54ee750f2fc7]
      ocp-date: ['Sun, 19 Mar 2017 02:09:56 GMT']
    method: GET
    uri: https://test1.westus.batch.azure.com/jobs/ncj-windows-paas-fgrp/tasks?api-version=2017-01-01.4.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#tasks\"\
        ,\"value\":[\r\n    {\r\n      \"id\":\"myTask\",\"url\":\"https://test1.westus.batch.azure.com/jobs/ncj-windows-paas-fgrp/tasks/myTask\"\
        ,\"eTag\":\"0x8D46E6D07F6E098\",\"creationTime\":\"2017-03-19T02:09:53.0193048Z\"\
        ,\"lastModified\":\"2017-03-19T02:09:53.0193048Z\",\"state\":\"preparing\"\
        ,\"stateTransitionTime\":\"2017-03-19T02:09:52.2323009Z\",\"previousState\"\
        :\"active\",\"previousStateTransitionTime\":\"2017-03-19T02:09:53.0193048Z\"\
        ,\"commandLine\":\"cmd /c \\\"cmd /c echo | set /p dummy=test & %AZ_BATCH_JOB_PREP_WORKING_DIR%\\\
        \\uploadfiles.py %errorlevel%\\\"\",\"environmentSettings\":[\r\n        {\r\
        \n          \"name\":\"AZ_BATCH_FILE_UPLOAD_CONFIG\",\"value\":\"{\\\"outputFiles\\\
        \": [{\\\"filePattern\\\": \\\"$AZ_BATCH_TASK_DIR/*.txt\\\", \\\"uploadDetails\\\
        \": {\\\"taskStatus\\\": \\\"TaskSuccess\\\"}, \\\"destination\\\": {\\\"\
        container\\\": {\\\"containerSas\\\": \\\"https://testaccountforbatch.blob.core.windows.net/fgrp-output?sv=2015-07-08&se=2017-03-26T02%3A09%3A52Z&sr=c&sig=fYuFNs6bz/WwqbOxvUuuGdIYmK20wIHZxDGcejYuzpA%3D&sp=w&st=2017-03-19T02%3A09%3A52Z\\\
        \"}}}]}\"\r\n        }\r\n      ],\"userIdentity\":{\r\n        \"autoUser\"\
        :{\r\n          \"scope\":\"task\",\"elevationLevel\":\"nonadmin\"\r\n   \
        \     }\r\n      },\"constraints\":{\r\n        \"maxWallClockTime\":\"P10675199DT2H48M5.4775807S\"\
        ,\"retentionTime\":\"PT1H\",\"maxTaskRetryCount\":0\r\n      },\"executionInfo\"\
        :{\r\n        \"startTime\":\"2017-03-19T02:09:52.2323009Z\",\"retryCount\"\
        :0,\"requeueCount\":0\r\n      },\"nodeInfo\":{\r\n        \"affinityId\"\
        :\"TVM:tvm-2434664350_1-20170319t015907z\",\"nodeUrl\":\"https://test1.westus.batch.azure.com/pools/ncj-windows-paas-fgrp/nodes/tvm-2434664350_1-20170319t015907z\"\
        ,\"poolId\":\"ncj-windows-paas-fgrp\",\"nodeId\":\"tvm-2434664350_1-20170319t015907z\"\
        ,\"taskRootDirectory\":\"workitems\\\\ncj-windows-paas-fgrp\\\\job-1\\\\mytask\"\
        ,\"taskRootDirectoryUrl\":\"https://test1.westus.batch.azure.com/pools/ncj-windows-paas-fgrp/nodes/tvm-2434664350_1-20170319t015907z/files/workitems/ncj-windows-paas-fgrp/job-1/mytask\"\
        \r\n      }\r\n    }\r\n  ]\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Sun, 19 Mar 2017 02:09:57 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [5e7f70d5-98bd-4ddf-ac75-39a26073fa9a]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.9.1 msrest/0.4.6
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      client-request-id: [28f91228-0c49-11e7-9174-54ee750f2fc7]
      ocp-date: ['Sun, 19 Mar 2017 02:10:01 GMT']
    method: GET
    uri: https://test1.westus.batch.azure.com/jobs/ncj-windows-paas-fgrp/tasks?api-version=2017-01-01.4.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#tasks\"\
        ,\"value\":[\r\n    {\r\n      \"id\":\"myTask\",\"url\":\"https://test1.westus.batch.azure.com/jobs/ncj-windows-paas-fgrp/tasks/myTask\"\
        ,\"eTag\":\"0x8D46E6D07F6E098\",\"creationTime\":\"2017-03-19T02:09:53.0193048Z\"\
        ,\"lastModified\":\"2017-03-19T02:09:53.0193048Z\",\"state\":\"preparing\"\
        ,\"stateTransitionTime\":\"2017-03-19T02:09:52.2323009Z\",\"previousState\"\
        :\"active\",\"previousStateTransitionTime\":\"2017-03-19T02:09:53.0193048Z\"\
        ,\"commandLine\":\"cmd /c \\\"cmd /c echo | set /p dummy=test & %AZ_BATCH_JOB_PREP_WORKING_DIR%\\\
        \\uploadfiles.py %errorlevel%\\\"\",\"environmentSettings\":[\r\n        {\r\
        \n          \"name\":\"AZ_BATCH_FILE_UPLOAD_CONFIG\",\"value\":\"{\\\"outputFiles\\\
        \": [{\\\"filePattern\\\": \\\"$AZ_BATCH_TASK_DIR/*.txt\\\", \\\"uploadDetails\\\
        \": {\\\"taskStatus\\\": \\\"TaskSuccess\\\"}, \\\"destination\\\": {\\\"\
        container\\\": {\\\"containerSas\\\": \\\"https://testaccountforbatch.blob.core.windows.net/fgrp-output?sv=2015-07-08&se=2017-03-26T02%3A09%3A52Z&sr=c&sig=fYuFNs6bz/WwqbOxvUuuGdIYmK20wIHZxDGcejYuzpA%3D&sp=w&st=2017-03-19T02%3A09%3A52Z\\\
        \"}}}]}\"\r\n        }\r\n      ],\"userIdentity\":{\r\n        \"autoUser\"\
        :{\r\n          \"scope\":\"task\",\"elevationLevel\":\"nonadmin\"\r\n   \
        \     }\r\n      },\"constraints\":{\r\n        \"maxWallClockTime\":\"P10675199DT2H48M5.4775807S\"\
        ,\"retentionTime\":\"PT1H\",\"maxTaskRetryCount\":0\r\n      },\"executionInfo\"\
        :{\r\n        \"startTime\":\"2017-03-19T02:09:52.2323009Z\",\"retryCount\"\
        :0,\"requeueCount\":0\r\n      },\"nodeInfo\":{\r\n        \"affinityId\"\
        :\"TVM:tvm-2434664350_1-20170319t015907z\",\"nodeUrl\":\"https://test1.westus.batch.azure.com/pools/ncj-windows-paas-fgrp/nodes/tvm-2434664350_1-20170319t015907z\"\
        ,\"poolId\":\"ncj-windows-paas-fgrp\",\"nodeId\":\"tvm-2434664350_1-20170319t015907z\"\
        ,\"taskRootDirectory\":\"workitems\\\\ncj-windows-paas-fgrp\\\\job-1\\\\mytask\"\
        ,\"taskRootDirectoryUrl\":\"https://test1.westus.batch.azure.com/pools/ncj-windows-paas-fgrp/nodes/tvm-2434664350_1-20170319t015907z/files/workitems/ncj-windows-paas-fgrp/job-1/mytask\"\
        \r\n      }\r\n    }\r\n  ]\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Sun, 19 Mar 2017 02:10:00 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [e16ee3d1-c0ef-4aba-a6ae-1ef428f7d2f0]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.9.1 msrest/0.4.6
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      client-request-id: [2af50ec6-0c49-11e7-8f37-54ee750f2fc7]
      ocp-date: ['Sun, 19 Mar 2017 02:10:05 GMT']
    method: GET
    uri: https://test1.westus.batch.azure.com/jobs/ncj-windows-paas-fgrp/tasks?api-version=2017-01-01.4.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#tasks\"\
        ,\"value\":[\r\n    {\r\n      \"id\":\"myTask\",\"url\":\"https://test1.westus.batch.azure.com/jobs/ncj-windows-paas-fgrp/tasks/myTask\"\
        ,\"eTag\":\"0x8D46E6D07F6E098\",\"creationTime\":\"2017-03-19T02:09:53.0193048Z\"\
        ,\"lastModified\":\"2017-03-19T02:09:53.0193048Z\",\"state\":\"preparing\"\
        ,\"stateTransitionTime\":\"2017-03-19T02:09:52.2323009Z\",\"previousState\"\
        :\"active\",\"previousStateTransitionTime\":\"2017-03-19T02:09:53.0193048Z\"\
        ,\"commandLine\":\"cmd /c \\\"cmd /c echo | set /p dummy=test & %AZ_BATCH_JOB_PREP_WORKING_DIR%\\\
        \\uploadfiles.py %errorlevel%\\\"\",\"environmentSettings\":[\r\n        {\r\
        \n          \"name\":\"AZ_BATCH_FILE_UPLOAD_CONFIG\",\"value\":\"{\\\"outputFiles\\\
        \": [{\\\"filePattern\\\": \\\"$AZ_BATCH_TASK_DIR/*.txt\\\", \\\"uploadDetails\\\
        \": {\\\"taskStatus\\\": \\\"TaskSuccess\\\"}, \\\"destination\\\": {\\\"\
        container\\\": {\\\"containerSas\\\": \\\"https://testaccountforbatch.blob.core.windows.net/fgrp-output?sv=2015-07-08&se=2017-03-26T02%3A09%3A52Z&sr=c&sig=fYuFNs6bz/WwqbOxvUuuGdIYmK20wIHZxDGcejYuzpA%3D&sp=w&st=2017-03-19T02%3A09%3A52Z\\\
        \"}}}]}\"\r\n        }\r\n      ],\"userIdentity\":{\r\n        \"autoUser\"\
        :{\r\n          \"scope\":\"task\",\"elevationLevel\":\"nonadmin\"\r\n   \
        \     }\r\n      },\"constraints\":{\r\n        \"maxWallClockTime\":\"P10675199DT2H48M5.4775807S\"\
        ,\"retentionTime\":\"PT1H\",\"maxTaskRetryCount\":0\r\n      },\"executionInfo\"\
        :{\r\n        \"startTime\":\"2017-03-19T02:09:52.2323009Z\",\"retryCount\"\
        :0,\"requeueCount\":0\r\n      },\"nodeInfo\":{\r\n        \"affinityId\"\
        :\"TVM:tvm-2434664350_1-20170319t015907z\",\"nodeUrl\":\"https://test1.westus.batch.azure.com/pools/ncj-windows-paas-fgrp/nodes/tvm-2434664350_1-20170319t015907z\"\
        ,\"poolId\":\"ncj-windows-paas-fgrp\",\"nodeId\":\"tvm-2434664350_1-20170319t015907z\"\
        ,\"taskRootDirectory\":\"workitems\\\\ncj-windows-paas-fgrp\\\\job-1\\\\mytask\"\
        ,\"taskRootDirectoryUrl\":\"https://test1.westus.batch.azure.com/pools/ncj-windows-paas-fgrp/nodes/tvm-2434664350_1-20170319t015907z/files/workitems/ncj-windows-paas-fgrp/job-1/mytask\"\
        \r\n      }\r\n    }\r\n  ]\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Sun, 19 Mar 2017 02:10:03 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [0dd25473-e76b-468d-b61f-4c29872f470c]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.9.1 msrest/0.4.6
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      client-request-id: [2da256a8-0c49-11e7-b189-54ee750f2fc7]
      ocp-date: ['Sun, 19 Mar 2017 02:10:09 GMT']
    method: GET
    uri: https://test1.westus.batch.azure.com/jobs/ncj-windows-paas-fgrp/tasks?api-version=2017-01-01.4.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#tasks\"\
        ,\"value\":[\r\n    {\r\n      \"id\":\"myTask\",\"url\":\"https://test1.westus.batch.azure.com/jobs/ncj-windows-paas-fgrp/tasks/myTask\"\
        ,\"eTag\":\"0x8D46E6D07F6E098\",\"creationTime\":\"2017-03-19T02:09:53.0193048Z\"\
        ,\"lastModified\":\"2017-03-19T02:09:53.0193048Z\",\"state\":\"preparing\"\
        ,\"stateTransitionTime\":\"2017-03-19T02:09:52.2323009Z\",\"previousState\"\
        :\"active\",\"previousStateTransitionTime\":\"2017-03-19T02:09:53.0193048Z\"\
        ,\"commandLine\":\"cmd /c \\\"cmd /c echo | set /p dummy=test & %AZ_BATCH_JOB_PREP_WORKING_DIR%\\\
        \\uploadfiles.py %errorlevel%\\\"\",\"environmentSettings\":[\r\n        {\r\
        \n          \"name\":\"AZ_BATCH_FILE_UPLOAD_CONFIG\",\"value\":\"{\\\"outputFiles\\\
        \": [{\\\"filePattern\\\": \\\"$AZ_BATCH_TASK_DIR/*.txt\\\", \\\"uploadDetails\\\
        \": {\\\"taskStatus\\\": \\\"TaskSuccess\\\"}, \\\"destination\\\": {\\\"\
        container\\\": {\\\"containerSas\\\": \\\"https://testaccountforbatch.blob.core.windows.net/fgrp-output?sv=2015-07-08&se=2017-03-26T02%3A09%3A52Z&sr=c&sig=fYuFNs6bz/WwqbOxvUuuGdIYmK20wIHZxDGcejYuzpA%3D&sp=w&st=2017-03-19T02%3A09%3A52Z\\\
        \"}}}]}\"\r\n        }\r\n      ],\"userIdentity\":{\r\n        \"autoUser\"\
        :{\r\n          \"scope\":\"task\",\"elevationLevel\":\"nonadmin\"\r\n   \
        \     }\r\n      },\"constraints\":{\r\n        \"maxWallClockTime\":\"P10675199DT2H48M5.4775807S\"\
        ,\"retentionTime\":\"PT1H\",\"maxTaskRetryCount\":0\r\n      },\"executionInfo\"\
        :{\r\n        \"startTime\":\"2017-03-19T02:09:52.2323009Z\",\"retryCount\"\
        :0,\"requeueCount\":0\r\n      },\"nodeInfo\":{\r\n        \"affinityId\"\
        :\"TVM:tvm-2434664350_1-20170319t015907z\",\"nodeUrl\":\"https://test1.westus.batch.azure.com/pools/ncj-windows-paas-fgrp/nodes/tvm-2434664350_1-20170319t015907z\"\
        ,\"poolId\":\"ncj-windows-paas-fgrp\",\"nodeId\":\"tvm-2434664350_1-20170319t015907z\"\
        ,\"taskRootDirectory\":\"workitems\\\\ncj-windows-paas-fgrp\\\\job-1\\\\mytask\"\
        ,\"taskRootDirectoryUrl\":\"https://test1.westus.batch.azure.com/pools/ncj-windows-paas-fgrp/nodes/tvm-2434664350_1-20170319t015907z/files/workitems/ncj-windows-paas-fgrp/job-1/mytask\"\
        \r\n      }\r\n    }\r\n  ]\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Sun, 19 Mar 2017 02:10:06 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [169ae49a-acf6-41a3-a5d6-f731554f4a0b]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.9.1 msrest/0.4.6
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      client-request-id: [2fa30db4-0c49-11e7-8af8-54ee750f2fc7]
      ocp-date: ['Sun, 19 Mar 2017 02:10:12 GMT']
    method: GET
    uri: https://test1.westus.batch.azure.com/jobs/ncj-windows-paas-fgrp/tasks?api-version=2017-01-01.4.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#tasks\"\
        ,\"value\":[\r\n    {\r\n      \"id\":\"myTask\",\"url\":\"https://test1.westus.batch.azure.com/jobs/ncj-windows-paas-fgrp/tasks/myTask\"\
        ,\"eTag\":\"0x8D46E6D07F6E098\",\"creationTime\":\"2017-03-19T02:09:53.0193048Z\"\
        ,\"lastModified\":\"2017-03-19T02:09:53.0193048Z\",\"state\":\"completed\"\
        ,\"stateTransitionTime\":\"2017-03-19T02:10:10.7594479Z\",\"previousState\"\
        :\"running\",\"previousStateTransitionTime\":\"2017-03-19T02:10:09.9004317Z\"\
        ,\"commandLine\":\"cmd /c \\\"cmd /c echo | set /p dummy=test & %AZ_BATCH_JOB_PREP_WORKING_DIR%\\\
        \\uploadfiles.py %errorlevel%\\\"\",\"environmentSettings\":[\r\n        {\r\
        \n          \"name\":\"AZ_BATCH_FILE_UPLOAD_CONFIG\",\"value\":\"{\\\"outputFiles\\\
        \": [{\\\"filePattern\\\": \\\"$AZ_BATCH_TASK_DIR/*.txt\\\", \\\"uploadDetails\\\
        \": {\\\"taskStatus\\\": \\\"TaskSuccess\\\"}, \\\"destination\\\": {\\\"\
        container\\\": {\\\"containerSas\\\": \\\"https://testaccountforbatch.blob.core.windows.net/fgrp-output?sv=2015-07-08&se=2017-03-26T02%3A09%3A52Z&sr=c&sig=fYuFNs6bz/WwqbOxvUuuGdIYmK20wIHZxDGcejYuzpA%3D&sp=w&st=2017-03-19T02%3A09%3A52Z\\\
        \"}}}]}\"\r\n        }\r\n      ],\"userIdentity\":{\r\n        \"autoUser\"\
        :{\r\n          \"scope\":\"task\",\"elevationLevel\":\"nonadmin\"\r\n   \
        \     }\r\n      },\"constraints\":{\r\n        \"maxWallClockTime\":\"P10675199DT2H48M5.4775807S\"\
        ,\"retentionTime\":\"PT1H\",\"maxTaskRetryCount\":0\r\n      },\"executionInfo\"\
        :{\r\n        \"startTime\":\"2017-03-19T02:09:52.2323009Z\",\"endTime\":\"\
        2017-03-19T02:10:10.7594479Z\",\"exitCode\":0,\"retryCount\":0,\"requeueCount\"\
        :0\r\n      },\"nodeInfo\":{\r\n        \"affinityId\":\"TVM:tvm-2434664350_1-20170319t015907z\"\
        ,\"nodeUrl\":\"https://test1.westus.batch.azure.com/pools/ncj-windows-paas-fgrp/nodes/tvm-2434664350_1-20170319t015907z\"\
        ,\"poolId\":\"ncj-windows-paas-fgrp\",\"nodeId\":\"tvm-2434664350_1-20170319t015907z\"\
        ,\"taskRootDirectory\":\"workitems\\\\ncj-windows-paas-fgrp\\\\job-1\\\\mytask\"\
        ,\"taskRootDirectoryUrl\":\"https://test1.westus.batch.azure.com/pools/ncj-windows-paas-fgrp/nodes/tvm-2434664350_1-20170319t015907z/files/workitems/ncj-windows-paas-fgrp/job-1/mytask\"\
        \r\n      }\r\n    }\r\n  ]\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Sun, 19 Mar 2017 02:10:13 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [4097ac85-1d14-4634-b9a6-54f7b820e399]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.9.1 msrest/0.4.6
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      client-request-id: [2fd3df64-0c49-11e7-b354-54ee750f2fc7]
      ocp-date: ['Sun, 19 Mar 2017 02:10:13 GMT']
    method: GET
    uri: https://test1.westus.batch.azure.com/jobs/ncj-windows-paas-fgrp/tasks/myTask?api-version=2017-01-01.4.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#tasks/@Element\"\
        ,\"id\":\"myTask\",\"url\":\"https://test1.westus.batch.azure.com/jobs/ncj-windows-paas-fgrp/tasks/myTask\"\
        ,\"eTag\":\"0x8D46E6D07F6E098\",\"creationTime\":\"2017-03-19T02:09:53.0193048Z\"\
        ,\"lastModified\":\"2017-03-19T02:09:53.0193048Z\",\"state\":\"completed\"\
        ,\"stateTransitionTime\":\"2017-03-19T02:10:10.7594479Z\",\"previousState\"\
        :\"running\",\"previousStateTransitionTime\":\"2017-03-19T02:10:09.9004317Z\"\
        ,\"commandLine\":\"cmd /c \\\"cmd /c echo | set /p dummy=test & %AZ_BATCH_JOB_PREP_WORKING_DIR%\\\
        \\uploadfiles.py %errorlevel%\\\"\",\"environmentSettings\":[\r\n    {\r\n\
        \      \"name\":\"AZ_BATCH_FILE_UPLOAD_CONFIG\",\"value\":\"{\\\"outputFiles\\\
        \": [{\\\"filePattern\\\": \\\"$AZ_BATCH_TASK_DIR/*.txt\\\", \\\"uploadDetails\\\
        \": {\\\"taskStatus\\\": \\\"TaskSuccess\\\"}, \\\"destination\\\": {\\\"\
        container\\\": {\\\"containerSas\\\": \\\"https://testaccountforbatch.blob.core.windows.net/fgrp-output?sv=2015-07-08&se=2017-03-26T02%3A09%3A52Z&sr=c&sig=fYuFNs6bz/WwqbOxvUuuGdIYmK20wIHZxDGcejYuzpA%3D&sp=w&st=2017-03-19T02%3A09%3A52Z\\\
        \"}}}]}\"\r\n    }\r\n  ],\"userIdentity\":{\r\n    \"autoUser\":{\r\n   \
        \   \"scope\":\"task\",\"elevationLevel\":\"nonadmin\"\r\n    }\r\n  },\"\
        constraints\":{\r\n    \"maxWallClockTime\":\"P10675199DT2H48M5.4775807S\"\
        ,\"retentionTime\":\"PT1H\",\"maxTaskRetryCount\":0\r\n  },\"executionInfo\"\
        :{\r\n    \"startTime\":\"2017-03-19T02:09:52.2323009Z\",\"endTime\":\"2017-03-19T02:10:10.7594479Z\"\
        ,\"exitCode\":0,\"retryCount\":0,\"requeueCount\":0\r\n  },\"nodeInfo\":{\r\
        \n    \"affinityId\":\"TVM:tvm-2434664350_1-20170319t015907z\",\"nodeUrl\"\
        :\"https://test1.westus.batch.azure.com/pools/ncj-windows-paas-fgrp/nodes/tvm-2434664350_1-20170319t015907z\"\
        ,\"poolId\":\"ncj-windows-paas-fgrp\",\"nodeId\":\"tvm-2434664350_1-20170319t015907z\"\
        ,\"taskRootDirectory\":\"workitems\\\\ncj-windows-paas-fgrp\\\\job-1\\\\mytask\"\
        ,\"taskRootDirectoryUrl\":\"https://test1.westus.batch.azure.com/pools/ncj-windows-paas-fgrp/nodes/tvm-2434664350_1-20170319t015907z/files/workitems/ncj-windows-paas-fgrp/job-1/mytask\"\
        \r\n  }\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Sun, 19 Mar 2017 02:10:11 GMT']
      ETag: ['0x8D46E6D07F6E098']
      Last-Modified: ['Sun, 19 Mar 2017 02:09:53 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [89085841-dcc8-43a1-b0af-abbe13077f2e]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Connection: [keep-alive]
      User-Agent: [Azure-Storage/0.33.0 (Python CPython 3.5.1; Windows 8.1)]
      x-ms-client-request-id: [30064986-0c49-11e7-8f92-54ee750f2fc7]
      x-ms-date: ['Sun, 19 Mar 2017 02:10:13 GMT']
      x-ms-version: ['2015-07-08']
    method: GET
    uri: https://testaccountforbatch.blob.core.windows.net/fgrp-output?restype=container&comp=list
  response:
    body: {string: "\uFEFF<?xml version=\"1.0\" encoding=\"utf-8\"?><EnumerationResults\
        \ ServiceEndpoint=\"https://testaccountforbatch.blob.core.windows.net/\"\
        \ ContainerName=\"fgrp-output\"><Blobs><Blob><Name>stderr.txt</Name><Properties><Last-Modified>Sun,\
        \ 19 Mar 2017 02:10:10 GMT</Last-Modified><Etag>0x8D46E6D1269F87E</Etag><Content-Length>0</Content-Length><Content-Type>application/octet-stream</Content-Type><Content-Encoding\
        \ /><Content-Language /><Content-MD5 /><Cache-Control /><Content-Disposition\
        \ /><BlobType>BlockBlob</BlobType><LeaseStatus>unlocked</LeaseStatus><LeaseState>available</LeaseState></Properties></Blob><Blob><Name>stdout.txt</Name><Properties><Last-Modified>Sun,\
        \ 19 Mar 2017 02:10:10 GMT</Last-Modified><Etag>0x8D46E6D126C1BCB</Etag><Content-Length>5</Content-Length><Content-Type>application/octet-stream</Content-Type><Content-Encoding\
        \ /><Content-Language /><Content-MD5>orLWaTix8CPexjlPEreCtQ==</Content-MD5><Cache-Control\
        \ /><Content-Disposition /><BlobType>BlockBlob</BlobType><LeaseStatus>unlocked</LeaseStatus><LeaseState>available</LeaseState></Properties></Blob><Blob><Name>uploadlog.txt</Name><Properties><Last-Modified>Sun,\
        \ 19 Mar 2017 02:10:10 GMT</Last-Modified><Etag>0x8D46E6D126E1814</Etag><Content-Length>1105</Content-Length><Content-Type>application/octet-stream</Content-Type><Content-Encoding\
        \ /><Content-Language /><Content-MD5>upsP6f/Z1/i4bxV24rG83g==</Content-MD5><Cache-Control\
        \ /><Content-Disposition /><BlobType>BlockBlob</BlobType><LeaseStatus>unlocked</LeaseStatus><LeaseState>available</LeaseState></Properties></Blob></Blobs><NextMarker\
        \ /></EnumerationResults>"}
    headers:
      Content-Type: [application/xml]
      Date: ['Sun, 19 Mar 2017 02:10:11 GMT']
      Server: [Windows-Azure-Blob/1.0 Microsoft-HTTPAPI/2.0]
      Transfer-Encoding: [chunked]
      x-ms-version: ['2015-07-08']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.9.1 msrest/0.4.6
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      client-request-id: [301e1802-0c49-11e7-996e-54ee750f2fc7]
      ocp-date: ['Sun, 19 Mar 2017 02:10:13 GMT']
    method: DELETE
    uri: https://test1.westus.batch.azure.com/jobs/ncj-windows-paas-fgrp?api-version=2017-01-01.4.0
  response:
    body: {string: ''}
    headers:
      DataServiceVersion: ['3.0']
      Date: ['Sun, 19 Mar 2017 02:10:12 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [88474019-b123-485a-83b3-a7f31cdf3fe7]
    status: {code: 202, message: Accepted}
version: 1
